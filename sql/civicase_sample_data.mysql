-- /*******************************************************
-- *
-- * Sample Data for CiviCase Component  
-- *
-- *******************************************************/

-- Enable Case Tab in Site Preferences
UPDATE civicrm_preferences SET `contact_view_options`= '123456789101113';

-- /*******************************************************
-- *
-- * Case Types
-- *
-- *******************************************************/
SELECT @option_group_id_case_type        := max(id) from civicrm_option_group where name = 'case_type';

-- get rid of HRD-related sample case types
DELETE FROM `civicrm_option_value` WHERE option_group_id = @option_group_id_case_type;

INSERT INTO 
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`) 
VALUES
    (@option_group_id_case_type, 'Substance Abuse',  1, 'substance_abuse', NULL, 0,  0, 1, 'Substance abuse case', 0, 0, 1),
    (@option_group_id_case_type, 'STD Claim',  2, 'std_claim', NULL, 0,  0, 2, 'Short term disability claim case', 0, 0, 1);


-- /*******************************************************
-- *
-- * Case Status - Set names for Open and Closed
-- *
-- *******************************************************/
SELECT @csgId        := max(id) from civicrm_option_group where name = 'case_status';
UPDATE civicrm_option_value SET name = 'Open' where option_group_id = @csgId AND label = 'Ongoing';
UPDATE civicrm_option_value SET name = 'Closed' where option_group_id = @csgId AND label = 'Resolved';

-- /*******************************************************
-- *
-- * Activity Categories and Activity Types  
-- *
-- *******************************************************/
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Case History', 'Case History', 1, 'Case history', 1, 0, NULL, 7);
SELECT @parentId        := max(id) from civicrm_category where name = 'Case History';
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES  ('Open Case', 'Open Case', 1, '', 1, 0, @parentId, 7),
            ('Presenting Problem', 'Presenting Problem', 2, '', 1, 0, @parentId, 7),
            ('Type of Service', 'Type of Service', 3, '', 1, 0, @parentId, 7),
            ('Inbound Referral Source', 'Inbound Referral Source', 4, '', 1, 0, @parentId, 7),
            ('Regulatory Involvement', 'Regulatory Involvement', 5, '', 1, 0, @parentId, 7),
            ('Outbound Referral', 'Outbound Referral', 6, '', 1, 0, @parentId, 7),
            ('Change Case Type', 'Change Case Type', 7, '', 1, 0, @parentId, 7),
            ('Change Case Status', 'Change Case Status', 8, '', 1, 0, @parentId, 7),
            ('Close Case', 'Close Case', 9, '', 1, 0, @parentId, 7);

INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Medications and Substance Use', 'Medications and Substance Use', 2, 'Medications and substance use', 1, 1, NULL, 7);
SELECT @parentId        := max(id) from civicrm_category where name = 'Medications and Substance Use';
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Medication and Drug Use', 'Medication and Drug Use', 1, '', 1, 0, @parentId, 7);


INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Personal History', 'Personal History', 3, 'Personal history', 1, 1, NULL, 7);
SELECT @parentId        := max(id) from civicrm_category where `name` = 'Personal History';
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES  ('Last Contact with MD', 'Last Contact with MD', 1, '', 1, 0, @parentId, 7),
            ('Self-rated Health Status', 'Self-rated Health Status', 2, '', 1, 0, @parentId, 7),
            ('Current Home Situation', 'Current Home Situation', 3, '', 1, 0, @parentId, 7),
            ('Current Spiritual Practice', 'Current Spiritual Practice', 4, '', 1, 0, @parentId, 7),
            ('Regular Physical Activity', 'Regular Physical Activity', 5, '', 1, 0, @parentId, 7);


INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Occupational History', 'Occupational History', 4, 'Occupational history', 1, 1, NULL, 7);
SELECT @parentId        := max(id) from civicrm_category where name = 'Occupational History';
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES  ('Current Work Status', 'Current Work Status', 1, '', 1, 0, @parentId, 7),
            ('Current Prescribing Privileges', 'Current Prescribing Privileges', 2, '', 1, 0, @parentId, 7),
            ('Current MAIN Practice Setting', 'Current MAIN Practice Setting', 3, '', 1, 0, @parentId, 7),
            ('Current MAIN Practice Activity', 'Current MAIN Practice Activity', 4, '', 1, 0, @parentId, 7),
            ('Currently Weekly Work Hours', 'Currently Weekly Work Hours', 5, '', 1, 0, @parentId, 7);

INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES ('Educational History', 'Educational History', 5, 'Educational history', 1, 1, NULL, 7);
SELECT @parentId        := max(id) from civicrm_category where name = 'Educational History';
INSERT INTO `civicrm_category` (`label`, `name`, `weight`, `description`, `is_active`, `is_reserved`, `parent_id`, `component_id`)
    VALUES  ('Professional School', 'Professional School', 1, '', 1, 0, @parentId, 7),
            ('Residency Training', 'Residency Training', 2, '', 1, 0, @parentId, 7),
            ('Other Degrees and Certifications', 'Other Degrees and Certifications', 3, '', 1, 0, @parentId, 7);

SELECT @at1        := max(id) from civicrm_category where name = 'Open Case';
SELECT @at2        := max(id) from civicrm_category where name = 'Presenting Problem';
SELECT @at3        := max(id) from civicrm_category where name = 'Type of Service';
SELECT @at4        := max(id) from civicrm_category where name = 'Outbound Referral';
-- SELECT @at5        := max(id) from civicrm_category where name = 'Close Case';
SELECT @at6        := max(id) from civicrm_category where name = 'Medication and Drug Use';
SELECT @at7        := max(id) from civicrm_category where name = 'Last Contact with MD';
SELECT @at8        := max(id) from civicrm_category where name = 'Self-rated Health Status';
SELECT @at9        := max(id) from civicrm_category where name = 'Current Home Situation';
SELECT @at10       := max(id) from civicrm_category where name = 'Current Spiritual Practice';
SELECT @at11       := max(id) from civicrm_category where name = 'Regular Physical Activity';
SELECT @at12       := max(id) from civicrm_category where name = 'Current Work Status';
SELECT @at13       := max(id) from civicrm_category where name = 'Current Prescribing Privileges';
SELECT @at14       := max(id) from civicrm_category where name = 'Professional School';
SELECT @at15       := max(id) from civicrm_category where name = 'Residency Training';


-- /*******************************************************
-- *
-- * Custom Data Groups and Fields
-- *
-- *******************************************************/
-- Open Case custom fields
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_name`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES ('Intake_Questions', 'Intake Questions', 'Activity', NULL, @at1, 'Inline', 0, '', '', 2, 1, 'civicrm_value_intake_questions_2', 0, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Intake_Questions';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
    VALUES  ('caller_20081023114820', 'Caller', NULL, NULL, 1),
            ('severity_rating_20081023115218', 'Severity Rating', NULL, NULL, 1);

SELECT @og1            := max(id) from civicrm_option_group where name = 'caller_20081023114820';
SELECT @og2            := max(id) from civicrm_option_group where name = 'severity_rating_20081023115218';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og1, 'Physician', 'Physician', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og1, 'Resident', 'Resident', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og1, 'Medical Student', 'Medical Student', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og1, 'Spouse', 'Spouse', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og1, 'Child', 'Child', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og1, 'Colleague', 'Colleague', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
            (@og1, 'Regulatory body', 'Regulatory body', NULL, NULL, NULL, 0, 7, NULL, 0, 0, 1, NULL),
            (@og1, 'Treating clinician', 'Treating clinician', NULL, NULL, NULL, 0, 8, NULL, 0, 0, 1, NULL),
            (@og1, 'Member of the public', 'Member of the public', NULL, NULL, NULL, 0, 9, NULL, 0, 0, 1, NULL),
            (@og1, 'Other relationship', 'Other relationship', NULL, NULL, NULL, 0, 10, NULL, 0, 0, 1, NULL),
            (@og2, '1', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og2, '2', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og2, '3', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og2, '4', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og2, '5', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL);
            
INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'Caller', 'String', 'Radio', '', 1, 0, 0, 1, NULL, NULL, NULL, NULL, NULL, 1, 0, 3, 255, NULL, NULL, 'MdY', 60, 4, 'caller_4', @og1),
            (@cg, 'Severity Rating', 'String', 'Radio', NULL, 1, 1, 0, 2, NULL, 'How urgent is the situation? (1 = not very, 5 = extremely urgent)', NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'severity_rating_5', @og2);

CREATE TABLE `civicrm_value_intake_questions_2` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `caller_4` varchar(255) collate utf8_unicode_ci default '',
  `severity_rating_5` varchar(255) collate utf8_unicode_ci default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  KEY `INDEX_severity_rating_5` (`severity_rating_5`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_intake_questions_2`
  ADD CONSTRAINT `FK_civicrm_value_intake_questions_2_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;

-- Presenting Problem
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_name`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES  ('Presenting_Problem', 'Presenting Problem', 'Activity', NULL, @at2, 'Inline', 0, '', '', 3, 1, 'civicrm_value_presenting_problem_3', 0, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Presenting_Problem';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
    VALUES  ('what_is_are_all_the_reasons_that_20081023135308', 'What is/are ALL the reasons that this person contacted the PHP?', NULL, NULL, 1),
            ('major_concerns_20081023140001', 'Major Concerns', NULL, NULL, 1);

SELECT @og1            := max(id) from civicrm_option_group where name = 'what_is_are_all_the_reasons_that_20081023135308';
SELECT @og2            := max(id) from civicrm_option_group where name = 'major_concerns_20081023140001';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og1, 'Addictive Disorder: Substance Abuse', 'Substance Abuse', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og1, 'Addictive Disorder: Gambling', 'Gambling', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og1, 'Psychiatric Disorders: Mood disorders', 'Mood disorders', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og1, 'Psychiatric Disorders: Personality disorders', 'Personality disorders', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og1, 'Mental Health (no formal Dx): Depression', 'Depression', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og1, 'Mental Health (no formal Dx): Suicide ideation', 'Suicide ideation', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
            (@og1, 'Occupational Issues: Emotional abuse subject', 'Emotional abuse subject', NULL, NULL, NULL, 0, 7, NULL, 0, 0, 1, NULL),
            (@og1, 'Occupational Issues: Physical abuse subject', 'Physical abuse subject', NULL, NULL, NULL, 0, 8, NULL, 0, 0, 1, NULL),
            (@og1, 'Legal and Licensing Issues: Regulatory complaint', 'Regulatory complaint', NULL, NULL, NULL, 0, 9, NULL, 0, 0, 1, NULL),
            (@og1, 'Legal and Licensing Issues: Professional boundary issues', 'Professional boundary issues', NULL, NULL, NULL, 0, 10, NULL, 0, 0, 1, NULL);

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og2, 'Suicide Risk', 'Suicide Risk', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og2, 'Fit to Practice', 'Fit to Practice', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og2, 'Patient Risk', 'Patient Risk', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og2, 'General Health', 'General Health', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og2, 'Resist to Care', 'Resist to Care', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og2, 'CPSA Involved', 'CPSA Involved', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'What is/are ALL the reasons that this person contacted the PHP?', 'String', 'CheckBox', '', 1, 0, 0, 1, NULL, NULL, NULL, NULL, NULL, 1, 0, 4, 255, NULL, NULL, 'MdY', 60, 4, 'what_is_are_all_the_reasons_that_6', @og1),
            (@cg, 'What is the one MAIN reason that this person contacted the Program?', 'String', 'Select', NULL, 1, 1, 0, 2, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'what_is_the_one_main_reason_that_7', @og1),
            (@cg, 'Major Concerns', 'String', 'CheckBox', '', 1, 1, 0, 3, NULL, 'Check all that apply.', NULL, NULL, NULL, 1, 0, 1, 255, NULL, NULL, 'MdY', 60, 4, 'major_concerns_8', @og2);

CREATE TABLE `civicrm_value_presenting_problem_3` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `what_is_are_all_the_reasons_that_6` varchar(255) collate utf8_unicode_ci default '',
  `what_is_the_one_main_reason_that_7` varchar(255) collate utf8_unicode_ci default NULL,
  `major_concerns_8` varchar(255) collate utf8_unicode_ci default '',
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  KEY `INDEX_what_is_the_one_main_reason_that_7` (`what_is_the_one_main_reason_that_7`),
  KEY `INDEX_major_concerns_8` (`major_concerns_8`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_presenting_problem_3`
  ADD CONSTRAINT `FK_civicrm_value_presenting_problem_3_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;


-- Problem Drugs
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_name`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES  ('Problem_Drug_s_', 'Problem Drug(s)', 'Activity', NULL, @at6, 'Inline', 0, '', '', 4, 1, 'civicrm_value_problem_drug_s__4', 1, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Problem_Drug_s_';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
    VALUES  ('problem_drug_20081023143009', 'Problem Drug', NULL, NULL, 1);

SELECT @og1            := max(id) from civicrm_option_group where name = 'problem_drug_20081023143009';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og1, 'Alcohol', 'Alcohol', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og1, 'Opioids', 'Opioids', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og1, 'Minor tranquilizers', 'Minor tranquilizers', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og1, 'Marijuana/hashish', 'Marijuana_hashish', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og1, 'Cocaine/crack', 'Cocaine_crack', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'Problem Drug', 'String', 'Select', NULL, 1, 0, 0, 1, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'problem_drug_9', @og1),
            (@cg, 'Date first used?', 'Date', 'Select Date', NULL, 0, 0, 0, 3, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, 40, 0, 'MdY', 60, 4, 'date_first_used__10', NULL),
            (@cg, 'Date most recently used?', 'Date', 'Select Date', NULL, 0, 0, 0, 4, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, 40, 0, 'MdY', 60, 4, 'date_most_recently_used__11', NULL),
            (@cg, 'Is prescribed by someone else?', 'Boolean', 'Radio', NULL, 0, 0, 0, 2, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'is_prescribed_by_someone_else__12', NULL);

CREATE TABLE `civicrm_value_problem_drug_s__4` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `problem_drug_9` varchar(255) collate utf8_unicode_ci default NULL,
  `date_first_used__10` datetime default NULL,
  `date_most_recently_used__11` datetime default NULL,
  `is_prescribed_by_someone_else__12` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  KEY `FK_civicrm_value_problem_drug_s__4_entity_id` (`entity_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_problem_drug_s__4`
  ADD CONSTRAINT `FK_civicrm_value_problem_drug_s__4_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;


-- Prof School
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_name`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES  ('Professional_School', 'Professional School', 'Activity', NULL, @at14, 'Inline', 0, '', '', 5, 1, 'civicrm_value_professional_school_5', 0, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Professional_School';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'What was the name of the medical school you went to?', 'String', 'Text', NULL, 0, 1, 0, 1, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'what_was_the_name_of_the_medical_13', NULL),
            (@cg, 'When did you or will you graduate from medical (or dental / vet) school?', 'Date', 'Select Date', NULL, 0, 0, 0, 2, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, 40, 4, 'MdY', 60, 4, 'when_did_you_or_will_you_graduat_14', NULL),
            (@cg, 'In what country?', 'Country', 'Select Country', NULL, 0, 0, 0, 3, NULL, NULL, NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'in_what_country__16', NULL);

CREATE TABLE `civicrm_value_professional_school_5` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `what_was_the_name_of_the_medical_13` varchar(255) collate utf8_unicode_ci default NULL,
  `when_did_you_or_will_you_graduat_14` datetime default NULL,
  `in_what_country__16` int(10) unsigned default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  KEY `INDEX_what_was_the_name_of_the_medical_13` (`what_was_the_name_of_the_medical_13`),
  KEY `FK_civicrm_value_professional_school_5_in_what_country__16` (`in_what_country__16`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_professional_school_5`
  ADD CONSTRAINT `FK_civicrm_value_professional_school_5_in_what_country__16` FOREIGN KEY (`in_what_country__16`) REFERENCES `civicrm_country` (`id`) ON DELETE SET NULL,
  ADD CONSTRAINT `FK_civicrm_value_professional_school_5_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;



-- /*******************************************************
-- *
-- * Relationship Types
-- *
-- *******************************************************/
INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Case Coordinator is', 'Case Coordinator', 'Case Coordinator', 'Individual', 'Individual', 0 );
SELECT @cR            := max(id) from civicrm_relationship_type where name_b_a = 'Case Coordinator';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Addiction Counselor is', 'Addiction Counselor', 'Addiction Counselor', 'Individual', 'Individual', 0 );
SELECT @aR            := max(id) from civicrm_relationship_type where name_b_a = 'Addiction Counselor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Supervised by', 'Supervisor', 'Immediate workplace supervisor', 'Individual', 'Individual', 0 );
SELECT @sR            := max(id) from civicrm_relationship_type where name_b_a = 'Supervisor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Intake Physician is', 'Intake Physician', 'Intake Physician', 'Individual', 'Individual', 0 );
SELECT @iR            := max(id) from civicrm_relationship_type where name_b_a = 'Intake Physician';


-- /*******************************************************
-- *
-- * Clients and Cases  
-- *
-- *******************************************************/
INSERT INTO `civicrm_contact` (`contact_type`, `contact_sub_type`, `do_not_email`, `do_not_phone`, `do_not_mail`, `do_not_trade`, `is_opt_out`, `legal_identifier`, `external_identifier`, `sort_name`, `display_name`, `nick_name`, `legal_name`, `home_URL`, `image_URL`, `preferred_communication_method`, `preferred_mail_format`, `hash`, `source`, `first_name`, `middle_name`, `last_name`, `prefix_id`, `suffix_id`, `greeting_type_id`, `custom_greeting`, `job_title`, `gender_id`, `birth_date`)
    VALUES  ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Reynolds, Jason', 'Dr Jason G Reynolds', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133189', NULL, 'Jason', 'G', 'Reynolds', 4, NULL, NULL, NULL, NULL, 2, '1951-08-30'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Jackson, Janet', 'Dr Janet A Jackson', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133155', NULL, 'Janet', 'A', 'Jackson', 4, NULL, NULL, NULL, NULL, 1, '1959-07-11'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Parker, Peter', 'Dr Peter J Parker', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133114', NULL, 'Peter', 'James', 'Parker', 4, NULL, NULL, NULL, NULL, 2, '1969-03-12');

SELECT @clientId1        := max(id) from civicrm_contact where sort_name = 'Reynolds, Jason';
INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-10-29', NULL, 'Based on initial call, client is dealing with possible severe morphine addiction.', 1);
SELECT @caseId1        := max(id) from civicrm_case;
INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId1, @clientId1);

SELECT @clientId2        := max(id) from civicrm_contact where sort_name = 'Jackson, Janet';
INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-11-07', NULL, 'Based on initial call, client is dealing with moderate or severe cocaine abuse leading to work interruptions.', 1);
SELECT @caseId2        := max(id) from civicrm_case;
INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId2, @clientId2);

SELECT @clientId3        := max(id) from civicrm_contact where sort_name = 'Parker, Peter';
INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-11-01', NULL, 'Based on initial call, client is using large does of testosterone resulting in anger management problems at work.', 1);
SELECT @caseId3        := max(id) from civicrm_case;
INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId3, @clientId3);


-- /*******************************************************
-- *
-- * Service Providers and Case Roles (relationships)  
-- *
-- *******************************************************/
INSERT INTO `civicrm_contact` (`contact_type`, `contact_sub_type`, `do_not_email`, `do_not_phone`, `do_not_mail`, `do_not_trade`, `is_opt_out`, `legal_identifier`, `external_identifier`, `sort_name`, `display_name`, `nick_name`, `legal_name`, `home_URL`, `image_URL`, `preferred_communication_method`, `preferred_mail_format`, `hash`, `source`, `first_name`, `middle_name`, `last_name`, `prefix_id`, `suffix_id`, `greeting_type_id`, `custom_greeting`, `job_title`, `gender_id`, `birth_date`)
    VALUES  ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Green, Susan', 'Dr Susan Green', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133190', NULL, 'Susan', NULL, 'Green', 4, NULL, NULL, NULL, NULL, 1, '1959-06-30'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Burke, Alice', 'Alice Burke', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133124', NULL, 'Alice', NULL, 'Burke', NULL, NULL, NULL, NULL, NULL, 1, '1966-02-19'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Dempsey, Stuart', 'Dr Stuart Dempsey', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133181', NULL, 'Stuart', 'Albert', 'Dempsey', 4, NULL, NULL, NULL, NULL, 2, '1968-05-12');

SELECT @provId1        := max(id) from civicrm_contact where sort_name = 'Green, Susan';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES  (@clientId1, @provId1, @iR, '2008-10-29', NULL, 1, NULL, 0, 0, @caseId1),
            (@clientId2, @provId1, @iR, '2008-11-07', NULL, 1, NULL, 0, 0, @caseId2),
            (@clientId3, @provId1, @iR, '2008-11-01', NULL, 1, NULL, 0, 0, @caseId3);

SELECT @provId2        := max(id) from civicrm_contact where sort_name = 'Burke, Alice';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES  (@clientId1, @provId2, @cR, '2008-10-29', NULL, 1, NULL, 0, 0, @caseId1),
            (@clientId2, @provId2, @cR, '2008-11-07', NULL, 1, NULL, 0, 0, @caseId2),
            (@clientId3, @provId2, @cR, '2008-11-01', NULL, 1, NULL, 0, 0, @caseId3);

SELECT @provId3        := max(id) from civicrm_contact where sort_name = 'Dempsey, Stuart';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES (@clientId3, @provId3, @aR, '2007-04-01', NULL, 1, NULL, 0, 0, @caseId3);
    

-- Provider phone and emails
INSERT INTO `civicrm_phone` (`contact_id`, `location_type_id`, `is_primary`, `is_billing`, `mobile_provider_id`, `phone`, `phone_type_id`)
    VALUES  (@provId1, 2, 1, 0, NULL, '(502) 220-9411', 1),
            (@provId2, 2, 1, 0, NULL, '(502) 220-9433', 1),
            (@provId3, 2, 1, 0, NULL, '(502) 990-9000 ext 32', 1);

INSERT INTO `civicrm_email` (`contact_id`, `location_type_id`, `email`, `is_primary`, `is_billing`, `on_hold`, `is_bulkmail`, `hold_date`, `reset_date`)
    VALUES  (@provId1, 2, 'susan.green@physicianhealth.com', 1, 0, 0, 0, NULL, NULL),
            (@provId2, 2, 'alice.burke@physicianhealth.com', 1, 0, 0, 0, NULL, NULL),
            (@provId3, 2, 'stuart.dempsey@physicianhealth.com', 1, 0, 0, 0, NULL, NULL);


-- /*******************************************************
-- *
-- * Encounter Medium Option Values  
-- *
-- *******************************************************/
INSERT INTO `civicrm_option_group` (name, label, description, is_reserved, is_active) 
    VALUES  ('encounter_medium', 'Encounter Medium', 'Encounter medium for case activities (e.g. In Person, By Phone, etc.)', 1, 1);
SELECT @option_group_id_medium        := max(id) from civicrm_option_group where name = 'encounter_medium';
INSERT INTO 
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`) 
VALUES
    (@option_group_id_medium, 'In Person',  1, 'in_person', NULL, 0,  0, 1, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Phone',  2, 'phone', NULL, 0,  1, 2, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Email',  3, 'email', NULL, 0,  0, 3, NULL, 0, 1, 1);


-- /*******************************************************
-- *
-- * Case Activities  
-- *
-- *******************************************************/

-- Case 1
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at1, 'Intake interview for new case', '2008-10-29 14:30:00', '2008-10-29 14:30:00', 60, NULL, NULL, NULL, 'Reviewed the clients current situation - unable to complete ER shifts and erratic behavior at home. He reports using morphine daily since a biking accident last year.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at2, 'Detailed presenting problem write-up', '2008-10-29 14:30:00', '2008-10-29 14:30:00', 60, NULL, NULL, NULL, 'Client thinks problem started with his biking accident last year but was worsened by stress when his wife left him.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at6, NULL, NULL, '2008-11-04', NULL, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at13, NULL, NULL, '2008-11-04', 60, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId1);

-- Case 2
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at1, 'Intake interview for new case', '2008-11-07 14:30:00', '2008-11-07 14:30:00', 60, NULL, NULL, NULL, 'Reviewed the clients current situation - unable to complete ER shifts and erratic behavior at home. He reports using morphine daily since a biking accident last year.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at2, 'Detailed presenting problem write-up', '2008-11-07 14:30:00', '2008-11-07 14:30:00', 60, NULL, NULL, NULL, 'Client thinks problem started with his biking accident last year but was worsened by stress when his wife left him.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at6, NULL, NULL, '2008-10-13', NULL, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at13, NULL, NULL, '2008-10-13', 60, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @clientId2);
