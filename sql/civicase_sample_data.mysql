-- /*******************************************************
-- *
-- * Sample Data for CiviCase Component
-- *
-- *******************************************************/

-- Enable Case Tab in Site Preferences
UPDATE civicrm_preferences SET `contact_view_options`= '123456789101113';

-- Set 'Work' as default location type and 'Voicemail' as default phone type
UPDATE civicrm_location_type SET `is_default` = 0 WHERE `name` = 'Home';
UPDATE civicrm_location_type SET `is_default` = 1 WHERE `name` = 'Work';
SELECT @ptId        := max(id) from civicrm_option_group where name = 'phone_type';
UPDATE civicrm_option_value SET `is_default` = 1 WHERE `option_group_id` = @ptId AND `name` = 'Voicemail';

-- /*******************************************************
-- *
-- * Case Types
-- *
-- *******************************************************/
SELECT @option_group_id_case_type        := max(id) from civicrm_option_group where name = 'case_type';

-- get rid of HRD-related sample case types
DELETE FROM `civicrm_option_value` WHERE option_group_id = @option_group_id_case_type;

INSERT INTO
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`)
VALUES
    (@option_group_id_case_type, 'Inpatient treatment',  1, 'inpatient_treatment', NULL, 0,  0, 1, 'Inpatient treatment case', 0, 0, 1),
    (@option_group_id_case_type, 'Intervention',  2, 'intervention', NULL, 0,  0, 2, 'Intervention case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to counselor',  3, 'referral_to_counselor', NULL, 0,  0, 3, 'Referral to counselor case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to family doctor',  4, 'referral_to_family_doctor', NULL, 0,  0, 4, 'Referral to family doctor case', 0, 0, 1),
    (@option_group_id_case_type, 'Referral to specialist',  5, 'referral_to_specialist', NULL, 0,  0, 5, 'Referral to specialist case', 0, 0, 1),
    (@option_group_id_case_type, 'Relapse prevention',  6, 'relapse_prevention', NULL, 0,  0, 6, 'Relapse prevention case', 0, 0, 1),
    (@option_group_id_case_type, 'Return to work',  7, 'return_to_work', NULL, 0,  0, 7, 'Return to work case', 0, 0, 1);

-- /*******************************************************
-- *
-- * Case Status - Set names for Open and Closed
-- *
-- *******************************************************/
SELECT @csgId        := max(id) from civicrm_option_group where name = 'case_status';
UPDATE civicrm_option_value SET name = 'Open' where option_group_id = @csgId AND label = 'Ongoing';
UPDATE civicrm_option_value SET name = 'Closed' where option_group_id = @csgId AND label = 'Resolved';

-- /*******************************************************
-- *
-- * Activity Categories and Activity Types
-- *
-- *******************************************************/
SELECT @option_group_id_activity_type        := max(id) from civicrm_option_group where name = 'activity_type';

SELECT @max_val := MAX(ROUND(op.value)) FROM civicrm_option_value op WHERE op.option_group_id  = @option_group_id_activity_type;

INSERT INTO 
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id` ) 
VALUES
    (@option_group_id_activity_type, 'Open Case', (SELECT @max_val := @max_val+1), 'Open Case',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1 , 7),
    (@option_group_id_activity_type, 'Follow up', (SELECT @max_val := @max_val+1), 'Follow up',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Assign principal classification - CPHN', (SELECT @max_val := @max_val+1), 'Assign principal classification - CPHN',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Assign principal classification - ICD', (SELECT @max_val := @max_val+1), 'Assign principal classification - ICD',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Assign principal classification - Presenting Problem', (SELECT @max_val := @max_val+1), 'Assign principal classification - Presenting Problem',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign principal classification - vocab', (SELECT @max_val := @max_val+1), 'Assign principal classification - vocab',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),
    (@option_group_id_activity_type, 'Change Case Type', (SELECT @max_val := @max_val+1), 'Change Case Type',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Change Case Status', (SELECT @max_val := @max_val+1), 'Change Case Status',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Close Case', (SELECT @max_val := @max_val+1), 'Close Case',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign secondary classification - CPHN', (SELECT @max_val := @max_val+1), 'Assign secondary classification - CPHN',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign secondary classification - ICD', (SELECT @max_val := @max_val+1), 'Assign secondary classification - ICD',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign secondary classification - Presenting Problem', (SELECT @max_val := @max_val+1), 'Assign secondary classification - Presenting Problem',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Assign secondary classification - vocab', (SELECT @max_val := @max_val+1), 'Assign secondary classification - vocab',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Plan inpatient admission', (SELECT @max_val := @max_val+1), 'Plan inpatient admission',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ), 
    (@option_group_id_activity_type, 'Confirm expected admission date', (SELECT @max_val := @max_val+1), 'Confirm expected admission date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm actual admission', (SELECT @max_val := @max_val+1), 'Confirm actual admission',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm expected discharge date', (SELECT @max_val := @max_val+1), 'Confirm expected discharge date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Confirm actual discharge date', (SELECT @max_val := @max_val+1), 'Confirm actual discharge date',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ), 
    (@option_group_id_activity_type, 'Receive report of early withdrawal from treatment', (SELECT @max_val := @max_val+1), 'Receive report of early withdrawal from treatment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Plan intervention', (SELECT @max_val := @max_val+1), 'Plan intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Rehearse intervention', (SELECT @max_val := @max_val+1), 'Rehearse intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Conduct intervention', (SELECT @max_val := @max_val+1), 'Conduct intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),      
    (@option_group_id_activity_type, 'Debrief intervention', (SELECT @max_val := @max_val+1), 'Debrief intervention',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Survey client satisfaction (Counselor referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to counselor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Determine needs and preferences (Family doctor referral)', (SELECT @max_val := @max_val+1), 'Determine needs and preferences Referral to family doctor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Notify selected referral target', (SELECT @max_val := @max_val+1), 'Notify selected referral target',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Facilitate first appointment', (SELECT @max_val := @max_val+1), 'Facilitate first appointment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),     
    (@option_group_id_activity_type, 'Survey client satisfaction (Family doctor referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to family doctor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Determine needs and preferences (Specialist referral)', (SELECT @max_val := @max_val+1), 'Determine needs and preferences Referral to specialist',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Prescreen referral target', (SELECT @max_val := @max_val+1), 'Prescreen referral target',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Survey client satisfaction (Specialist referral)', (SELECT @max_val := @max_val+1), 'Survey client satisfaction Referral to specialist',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Sign case coordination agreement', (SELECT @max_val := @max_val+1), 'Sign case coordination agreement',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive comprehensive plan for assessment and treatment', (SELECT @max_val := @max_val+1), 'Receive comprehensive plan for assessment and treatment',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Engage workplace supervisor', (SELECT @max_val := @max_val+1), 'Engage workplace supervisor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Engage community mentor', (SELECT @max_val := @max_val+1), 'Engage community mentor',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Develop biological monitoring plan', (SELECT @max_val := @max_val+1), 'Develop biological monitoring plan',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive community mentor report', (SELECT @max_val := @max_val+1), 'Receive community mentor report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive treating physician report', (SELECT @max_val := @max_val+1), 'Receive treating physician report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Receive workplace supervisor report', (SELECT @max_val := @max_val+1), 'Receive workplace supervisor report',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Record biological monitoring results', (SELECT @max_val := @max_val+1), 'Record biological monitoring results',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Review prescribing privileges', (SELECT @max_val := @max_val+1), 'Review prescribing privileges',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Review hospital privileges', (SELECT @max_val := @max_val+1), 'Review hospital privileges',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Summarize case for discharge', (SELECT @max_val := @max_val+1), 'Summarize case for discharge',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of earliest period totally absent from work', (SELECT @max_val := @max_val+1), 'Beginning of earliest period totally absent from work',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Earliest return to any work activity', (SELECT @max_val := @max_val+1), 'Earliest return to any work activity',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of period of restricted duties', (SELECT @max_val := @max_val+1), 'Beginning of period of restricted duties',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),    
    (@option_group_id_activity_type, 'Beginning of period of attempted full duties', (SELECT @max_val := @max_val+1), 'Beginning of period of attempted full duties',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 ),  
    (@option_group_id_activity_type, 'Beginning of period totally absent from work', (SELECT @max_val := @max_val+1), 'Beginning of period totally absent from work',  NULL, 0,  0, (SELECT @max_val := @max_val+1), '', 0, 0, 1, 7 );  

SELECT @at1        := max(value) from civicrm_option_value where name = 'Open Case';
SELECT @at2        := max(value) from civicrm_option_value where name = 'Follow up';
SELECT @at3        := max(value) from civicrm_option_value where name = 'Assign principal classification - CPHN';
SELECT @at4        := max(value) from civicrm_option_value where name = 'Assign principal classification - ICD';
-- SELECT @at5        := max(value) from civicrm_option_value where name = 'Close Case';
SELECT @at6        := max(value) from civicrm_option_value where name = 'Assign principal classification - Presenting Problem';
SELECT @at7        := max(value) from civicrm_option_value where name = 'Assign principal classification - vocab';
SELECT @at8        := max(value) from civicrm_option_value where name = 'Assign secondary classification - CPHN';
SELECT @at9        := max(value) from civicrm_option_value where name = 'Assign secondary classification - ICD';
SELECT @at10       := max(value) from civicrm_option_value where name = 'Assign secondary classification - Presenting Problem';
SELECT @at11       := max(value) from civicrm_option_value where name = 'Assign secondary classification - vocab';


-- /*******************************************************
-- *
-- * Custom Data Groups and Fields
-- *
-- *******************************************************/
-- Open Case custom fields
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
    VALUES ('Intake_Questions', 'Intake Questions', 'Activity', NULL, @at1, 'Inline', 0, '', '', 2, 1, 'civicrm_value_intake_questions_2', 0, 0, 0);
SELECT @cg            := max(id) from civicrm_custom_group where name = 'Intake_Questions';

INSERT INTO `civicrm_option_group` (`name`, `label`, `description`, `is_reserved`, `is_active`)
    VALUES  ('caller_20081023114820', 'Caller', NULL, NULL, 1),
            ('severity_rating_20081023115218', 'Severity Rating', NULL, NULL, 1);

SELECT @og1            := max(id) from civicrm_option_group where name = 'caller_20081023114820';
SELECT @og2            := max(id) from civicrm_option_group where name = 'severity_rating_20081023115218';

INSERT INTO `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`)
    VALUES  (@og1, 'Physician', 'Physician', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og1, 'Resident', 'Resident', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og1, 'Medical Student', 'Medical Student', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og1, 'Spouse', 'Spouse', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og1, 'Child', 'Child', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL),
            (@og1, 'Colleague', 'Colleague', NULL, NULL, NULL, 0, 6, NULL, 0, 0, 1, NULL),
            (@og1, 'Regulatory body', 'Regulatory body', NULL, NULL, NULL, 0, 7, NULL, 0, 0, 1, NULL),
            (@og1, 'Treating clinician', 'Treating clinician', NULL, NULL, NULL, 0, 8, NULL, 0, 0, 1, NULL),
            (@og1, 'Member of the public', 'Member of the public', NULL, NULL, NULL, 0, 9, NULL, 0, 0, 1, NULL),
            (@og1, 'Other relationship', 'Other relationship', NULL, NULL, NULL, 0, 10, NULL, 0, 0, 1, NULL),
            (@og2, '1', '1', NULL, NULL, NULL, 0, 1, NULL, 0, 0, 1, NULL),
            (@og2, '2', '2', NULL, NULL, NULL, 0, 2, NULL, 0, 0, 1, NULL),
            (@og2, '3', '3', NULL, NULL, NULL, 0, 3, NULL, 0, 0, 1, NULL),
            (@og2, '4', '4', NULL, NULL, NULL, 0, 4, NULL, 0, 0, 1, NULL),
            (@og2, '5', '5', NULL, NULL, NULL, 0, 5, NULL, 0, 0, 1, NULL);

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
    VALUES  (@cg, 'Caller', 'String', 'Radio', '', 1, 0, 0, 1, NULL, NULL, NULL, NULL, NULL, 1, 0, 3, 255, NULL, NULL, 'MdY', 60, 4, 'caller_4', @og1),
            (@cg, 'Severity Rating', 'String', 'Radio', NULL, 1, 1, 0, 2, NULL, 'How urgent is the situation? (1 = not very, 5 = extremely urgent)', NULL, NULL, NULL, 1, 0, NULL, 255, NULL, NULL, 'MdY', 60, 4, 'severity_rating_5', @og2);

CREATE TABLE `civicrm_value_intake_questions_2` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `caller_4` varchar(255) collate utf8_unicode_ci default '',
  `severity_rating_5` varchar(255) collate utf8_unicode_ci default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  KEY `INDEX_severity_rating_5` (`severity_rating_5`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;

ALTER TABLE `civicrm_value_intake_questions_2`
  ADD CONSTRAINT `FK_civicrm_value_intake_questions_2_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE;

-- CPHN Indicator
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Primary_Classifications_CPHN','Primary Classifications CPHN','Activity',NULL,@at3,'Inline',0,'','',3,1,'civicrm_value_primary_classifications_cphn_3',0,0,0);
SELECT @cg2 := max(id) from civicrm_custom_group where name = 'Primary_Classifications_CPHN';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg2,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg2,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg2,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg2,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_primary_classifications_cphn_3` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_primary_classifications_cphn_3_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Secondary_Classifications_CPHN','Secondary Classifications CPHN','Activity',NULL,@at8,'Inline',0,'','',4,1,'civicrm_value_secondary_classifications_cphn_4',0,0,0);
SELECT @cg3 := max(id) from civicrm_custom_group where name = 'Secondary_Classifications_CPHN';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg3,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg3,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg3,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg3,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_secondary_classifications_cphn_4` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_secondary_classifications_cphn_4_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

-- ICD Codes
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Primary_Classifications_ICD','Primary Classifications ICD','Activity',NULL,@at4,'Inline',0,'','',3,1,'civicrm_value_primary_classifications_icd_5',0,0,0);
SELECT @cg4 := max(id) from civicrm_custom_group where name = 'Primary_Classifications_ICD';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg4,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg4,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg4,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg4,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_primary_classifications_icd_5` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_primary_classifications_icd_5_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Secondary_Classifications_ICD','Secondary Classifications ICD','Activity',NULL,@at9,'Inline',0,'','',4,1,'civicrm_value_secondary_classifications_icd_6',0,0,0);
SELECT @cg5 := max(id) from civicrm_custom_group where name = 'Secondary_Classifications_ICD';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg5,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg5,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg5,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg5,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_secondary_classifications_icd_6` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_secondary_classifications_icd_6_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

-- Presenting Problem
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Primary_Classifications_PP','Primary Classifications PP','Activity',NULL,@at6,'Inline',0,'','',3,1,'civicrm_value_primary_classifications_pp_7',0,0,0);
SELECT @cg6 := max(id) from civicrm_custom_group where name = 'Primary_Classifications_PP';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg6,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg6,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg6,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg6,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_primary_classifications_pp_7` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_primary_classifications_pp_7_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Secondary_Classifications_PP','Secondary Classifications PP','Activity',NULL,@at10,'Inline',0,'','',4,1,'civicrm_value_secondary_classifications_pp_8',0,0,0);
SELECT @cg7 := max(id) from civicrm_custom_group where name = 'Secondary_Classifications_PP';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg7,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg7,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg7,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg7,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_secondary_classifications_pp_8` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_secondary_classifications_pp_8_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

-- vocab
INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Primary_Classifications_Vocab','Primary Classifications Vocab','Activity',NULL,@at7,'Inline',0,'','',3,1,'civicrm_value_primary_classifications_vocab_9',0,0,0);
SELECT @cg8 := max(id) from civicrm_custom_group where name = 'Primary_Classifications_Vocab';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg8,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg8,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg8,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg8,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_primary_classifications_vocab_9` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_primary_classifications_vocab_9_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);

INSERT INTO `civicrm_custom_group` (`name`, `title`, `extends`, `extends_entity_column_id`, `extends_entity_column_value`, `style`, `collapse_display`, `help_pre`, `help_post`, `weight`, `is_active`, `table_name`, `is_multiple`, `min_multiple`, `max_multiple`)
 VALUES ('Secondary_Classifications_Vocab','Secondary Classifications Vocab','Activity',NULL,@at11,'Inline',0,'','',4,1,'civicrm_value_secondary_classifications_vocab_10',0,0,0);
SELECT @cg9 := max(id) from civicrm_custom_group where name = 'Secondary_Classifications_Vocab';

INSERT INTO `civicrm_custom_field` (`custom_group_id`, `label`, `data_type`, `html_type`, `default_value`, `is_required`, `is_searchable`, `is_search_range`, `weight`, `help_pre`, `help_post`, `mask`, `attributes`, `javascript`, `is_active`, `is_view`, `options_per_line`, `text_length`, `start_date_years`, `end_date_years`, `date_parts`, `note_columns`, `note_rows`, `column_name`, `option_group_id`)
VALUES
 (@cg9,'Assigned code','String','Text',NULL,0,0,0,1,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_code_6',NULL),
 (@cg9,'Assigned Description','String','Text',NULL,0,0,0,2,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'assigned_description_7',NULL),
 (@cg9,'Classification version','String','Text',NULL,0,0,0,3,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_version_8',NULL),
 (@cg9,'Classification dilemma','Boolean','Radio',NULL,0,0,0,4,NULL,NULL,NULL,NULL,NULL,1,0,NULL,255,NULL,NULL,'MdY',60,4,'classification_dilemma_9',NULL);

CREATE TABLE `civicrm_value_secondary_classifications_vocab_10` (
  `id` int(10) unsigned NOT NULL auto_increment COMMENT 'Default MySQL primary key',
  `entity_id` int(10) unsigned NOT NULL COMMENT 'Table that this extends',
  `assigned_code_6` varchar(255) collate utf8_unicode_ci default NULL,
  `assigned_description_7` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_version_8` varchar(255) collate utf8_unicode_ci default NULL,
  `classification_dilemma_9` tinyint(4) default NULL,
  PRIMARY KEY  (`id`),
  UNIQUE KEY `unique_entity_id` (`entity_id`),
  CONSTRAINT `FK_civicrm_value_secondary_classifications_vocab_10_entity_id` FOREIGN KEY (`entity_id`) REFERENCES `civicrm_activity` (`id`) ON DELETE CASCADE
);


-- /*******************************************************
-- *
-- * Relationship Types
-- *
-- *******************************************************/
INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Case Coordinator is', 'Case Coordinator', 'Case Coordinator', 'Individual', 'Individual', 0 );
SELECT @cR            := max(id) from civicrm_relationship_type where name_b_a = 'Case Coordinator';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Addiction Counselor is', 'Addiction Counselor', 'Addiction Counselor', 'Individual', 'Individual', 0 );
SELECT @aR            := max(id) from civicrm_relationship_type where name_b_a = 'Addiction Counselor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Supervised by', 'Supervisor', 'Immediate workplace supervisor', 'Individual', 'Individual', 0 );
SELECT @sR            := max(id) from civicrm_relationship_type where name_b_a = 'Supervisor';

INSERT INTO civicrm_relationship_type( name_a_b, name_b_a, description, contact_type_a, contact_type_b, is_reserved )
    VALUES( 'Intake Physician is', 'Intake Physician', 'Intake Physician', 'Individual', 'Individual', 0 );
SELECT @iR            := max(id) from civicrm_relationship_type where name_b_a = 'Intake Physician';




-- /*******************************************************
-- *
-- * Encounter Medium Option Values
-- *
-- *******************************************************/
INSERT INTO `civicrm_option_group` (name, label, description, is_reserved, is_active)
    VALUES  ('encounter_medium', 'Encounter Medium', 'Encounter medium for case activities (e.g. In Person, By Phone, etc.)', 1, 1);
SELECT @option_group_id_medium        := max(id) from civicrm_option_group where name = 'encounter_medium';
INSERT INTO
   `civicrm_option_value` (`option_group_id`, `label`, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `description`, `is_optgroup`, `is_reserved`, `is_active`)
VALUES
    (@option_group_id_medium, 'In Person',  1, 'in_person', NULL, 0,  0, 1, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Phone',  2, 'phone', NULL, 0,  1, 2, NULL, 0, 1, 1),
    (@option_group_id_medium, 'Email',  3, 'email', NULL, 0,  0, 3, NULL, 0, 1, 1);


-- /*******************************************************
-- *
-- * Some users
-- *
-- *******************************************************/

INSERT INTO `civicrm_contact` (`contact_type`, `contact_sub_type`, `do_not_email`, `do_not_phone`, `do_not_mail`, `do_not_trade`, `is_opt_out`, `legal_identifier`, `external_identifier`, `sort_name`, `display_name`, `nick_name`, `legal_name`, `home_URL`, `image_URL`, `preferred_communication_method`, `preferred_mail_format`, `hash`, `source`, `first_name`, `middle_name`, `last_name`, `prefix_id`, `suffix_id`, `greeting_type_id`, `custom_greeting`, `job_title`, `gender_id`, `birth_date`, `is_deceased`, `deceased_date`, `mail_to_household_id`, `household_name`, `primary_contact_id`, `organization_name`, `sic_code`, `user_unique_id`, `employer_id`)
VALUES
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Inigo, Ichabod','Ichabod Inigo',NULL,NULL,NULL,NULL,NULL,'Both','25e4742ec6bffd59a0f3f3d11b24b893',NULL,'Ichabod',NULL,'Inigo',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Leeman, Lori','Lori Leeman',NULL,NULL,NULL,NULL,NULL,'Both','5cd4c857af683c470bd77fc14e7d0a22',NULL,'Lori',NULL,'Leeman',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),
 ('Individual',NULL,0,0,0,0,0,NULL,NULL,'Poter, Ron','Ron Poter',NULL,NULL,NULL,NULL,NULL,'Both','3bd77fc14e7d0a2225e4742ec6bffd59',NULL,'Ron',NULL,'Poter',NULL,NULL,NULL,NULL,NULL,NULL,NULL,0,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
  
SELECT @cid1 := id from civicrm_contact WHERE hash='25e4742ec6bffd59a0f3f3d11b24b893';
SELECT @cid2 := id from civicrm_contact WHERE hash='5cd4c857af683c470bd77fc14e7d0a22';
SELECT @cid3 := id from civicrm_contact WHERE hash='3bd77fc14e7d0a2225e4742ec6bffd59';

INSERT INTO `civicrm_email` (`contact_id`, `location_type_id`, `email`, `is_primary`, `is_billing`, `on_hold`, `is_bulkmail`, `hold_date`, `reset_date`)
VALUES
 (@cid1,2,'ichabod.inigo@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid2,2,'lori.leeman@physicianhealth.com',1,0,0,0,NULL,NULL),
 (@cid3,2,'ron.poter@physicianhealth.com',1,0,0,0,NULL,NULL);

INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-11-11', NULL, 'Based on initial call, client is dealing with possible severe morphine addiction.', 1);
SELECT @caseId1        := max(id) from civicrm_case;
INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId1, @cid1);

INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-12-07', NULL, 'Based on initial call, client is dealing with moderate or severe cocaine abuse leading to work interruptions.', 1);
SELECT @caseId2        := max(id) from civicrm_case;

INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId2, @cid2);

INSERT INTO `civicrm_case` (`case_type_id`, `start_date`, `end_date`, `details`, `status_id`)
    VALUES ('1', '2008-11-01', NULL, 'Based on initial call, client is using large does of testosterone resulting in anger management problems at work.', 1);
SELECT @caseId3        := max(id) from civicrm_case;
INSERT INTO `civicrm_case_contact` (`case_id`, `contact_id`)
    VALUES (@caseId3, @cid3);

-- /*******************************************************
-- *
-- * Service Providers and Case Roles (relationships)  
-- *
-- *******************************************************/
INSERT INTO `civicrm_contact` (`contact_type`, `contact_sub_type`, `do_not_email`, `do_not_phone`, `do_not_mail`, `do_not_trade`, `is_opt_out`, `legal_identifier`, `external_identifier`, `sort_name`, `display_name`, `nick_name`, `legal_name`, `home_URL`, `image_URL`, `preferred_communication_method`, `preferred_mail_format`, `hash`, `source`, `first_name`, `middle_name`, `last_name`, `prefix_id`, `suffix_id`, `greeting_type_id`, `custom_greeting`, `job_title`, `gender_id`, `birth_date`)
    VALUES  ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Green, Alice', 'Dr Alice Green', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133190', NULL, 'Alice', NULL, 'Green', 4, NULL, NULL, NULL, NULL, 1, '1959-06-30'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Burke, Stuart', 'Stuart Burke', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133124', NULL, 'Stuart', NULL, 'Burke', NULL, NULL, NULL, NULL, NULL, 1, '1966-02-19'),
            ('Individual', NULL, 1, 0, 0, 0, 0, NULL, NULL, 'Dempsey, Susan', 'Dr Susan Dempsey', NULL, NULL, NULL, NULL, '3', 'Both', '-1141133181', NULL, 'Susan', 'Albert', 'Dempsey', 4, NULL, NULL, NULL, NULL, 2, '1968-05-12');

SELECT @provId1        := max(id) from civicrm_contact where sort_name = 'Green, Alice';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES  (@cid1, @provId1, @iR, '2008-11-11', NULL, 1, NULL, 0, 0, @caseId1),
            (@cid2, @provId1, @iR, '2008-12-07', NULL, 1, NULL, 0, 0, @caseId2);
         
SELECT @provId2        := max(id) from civicrm_contact where sort_name = 'Burke, Stuart';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES  (@cid1, @provId2, @cR, '2008-11-11', NULL, 1, NULL, 0, 0, @caseId1),
            (@cid2, @provId2, @cR, '2008-12-07', NULL, 1, NULL, 0, 0, @caseId2);
           
SELECT @provId3        := max(id) from civicrm_contact where sort_name = 'Dempsey, Susan';
INSERT INTO `civicrm_relationship` (`contact_id_a`, `contact_id_b`, `relationship_type_id`, `start_date`, `end_date`, `is_active`, `description`, `is_permission_a_b`, `is_permission_b_a`, `case_id`)
    VALUES (@cid3, @provId3, @aR, '2007-04-01', NULL, 1, NULL, 0, 0, @caseId3);
    

-- Provider phone and emails
INSERT INTO `civicrm_phone` (`contact_id`, `location_type_id`, `is_primary`, `is_billing`, `mobile_provider_id`, `phone`, `phone_type_id`)
    VALUES  (@provId1, 2, 1, 0, NULL, '(502) 220-9411', 1),
            (@provId2, 2, 1, 0, NULL, '(502) 220-9433', 1),
            (@provId3, 2, 1, 0, NULL, '(502) 990-9000 ext 32', 1);

INSERT INTO `civicrm_email` (`contact_id`, `location_type_id`, `email`, `is_primary`, `is_billing`, `on_hold`, `is_bulkmail`, `hold_date`, `reset_date`)
    VALUES  (@provId1, 2, 'susan.green@physicianhealth.com', 1, 0, 0, 0, NULL, NULL),
            (@provId2, 2, 'alice.burke@physicianhealth.com', 1, 0, 0, 0, NULL, NULL),
            (@provId3, 2, 'stuart.dempsey@physicianhealth.com', 1, 0, 0, 0, NULL, NULL);


-- /*******************************************************
-- *
-- * Case Activities  
-- *
-- *******************************************************/

-- Case 1
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at1, 'Intake interview for new case', '2008-11-11 14:30:00', '2008-11-11 14:30:00', 60, NULL, NULL, NULL, 'Reviewed the clients current situation - unable to complete ER shifts and erratic behavior at home. He reports using morphine daily since a biking accident last year.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at2, 'Detailed presenting problem write-up', '2008-11-11 14:30:00', '2008-11-11 14:30:00', 60, NULL, NULL, NULL, 'Client thinks problem started with his biking accident last year but was worsened by stress when his wife left him.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at6, NULL, NULL, '2008-12-04', NULL, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid1);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at11, NULL, NULL, '2008-12-04', 60, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId1, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid1);

-- Case 2
INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at1, 'Intake interview for new case', '2008-12-07 14:30:00', '2008-12-07 14:30:00', 60, NULL, NULL, NULL, 'Reviewed the clients current situation - unable to complete ER shifts and erratic behavior at home. He reports using morphine daily since a biking accident last year.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at2, 'Detailed presenting problem write-up', '2008-12-07 14:30:00', '2008-12-07 14:30:00', 60, NULL, NULL, NULL, 'Client thinks problem started with his biking accident last year but was worsened by stress when his wife left him.', 2, NULL, NULL, 0, 1, 0, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at6, NULL, NULL, '2008-12-13', NULL, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid2);

INSERT INTO `civicrm_activity` (`source_contact_id`, `source_record_id`, `activity_type_id`, `subject`, `activity_date_time`, `due_date_time`, `duration`, `location`, `phone_id`, `phone_number`, `details`, `status_id`, `priority_id`, `parent_id`, `is_test`, `medium_id`, `is_auto`, `relationship_id`, `is_current_revision`, `original_id`)
    VALUES (@provId1, NULL, @at11, NULL, NULL, '2008-12-13', 60, NULL, NULL, NULL, NULL, 1, NULL, NULL, 0, NULL, 1, NULL, 1, NULL);
SELECT @actId        := max(id) from civicrm_activity;
INSERT INTO `civicrm_case_activity` (`case_id`, `activity_id`)
    VALUES (@caseId2, @actId);
INSERT INTO `civicrm_activity_target` (`activity_id`, `target_contact_id`)
    VALUES (@actId, @cid2);

--
-- Not sure if need uf_match table entries to keep something from breaking?
--
