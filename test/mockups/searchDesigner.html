<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>Search Builder Mockup | CiviCRM - Constituent Relationship Management for NPO's</title>
 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css" media="all">@import "files/drupal.css";</style><style type="text/css">@import "files/civicrm.css";</style>
<link rel="stylesheet" type="text/css" href="files/common.css">
<style type="text/css" media="all">@import "files/style.css";</style><link rel="stylesheet" type="text/css" media="all" href="files/theme.css" title="Aqua"></head>

<body>
 <div id="header"><h1 class="site-name title"><a href="">CiviCRM - Constituent Relationship Management for NPO's</a></h1></div>
 <table id="content">
  <tbody><tr>
   <td id="sidebar-left"><div class="block block-civicrm" id="block-civicrm-1">
 <h2 class="title"><span class="crm_blocktitle">CiviCRM</span></h2>
 <div class="content"><div class="menu">
<ul>
<li class="leaf"><a href="#">Find Contacts</a></li>
<li class="leaf"><a href="#">Manage Groups</a></li>
<li class="leaf"><a href="#" class="active">Administer CiviCRM</a></li>
<li class="collapsed"><a href="#">Import</a></li>
<li class="collapsed"><a href="#">CiviContribute</a></li>
<li class="collapsed"><a href="#">CiviMail</a></li>
</ul>
</div></div>
</div>
</td>
<td id="main">
<div class="breadcrumb"><a href="">Home</a> &raquo; <a href="#">CiviCRM</a> &raquo; <a href="http://localhost/dgg/drupal/civicrm/admin">Administer CiviCRM</a></div>
<h2>Search Builder</h2>
<!-- begin content -->
<div id="crm-container">
<script type="text/javascript" src="files/Common.js"></script>
    <div id="help">
    Create your search by selecting the criteria (fields) and entering the values you want to search for. You can define one or many criteria as a set:<br />
    &nbsp;&nbsp;<em>Include contacts where...State IS Washington AND City IS Seattle AND Birth Date is &gt; (greater than) Jan 1, 1985</em>
    <p>You can also create additional sets of criteria:<br />
    &nbsp;&nbsp;<em>Also include contacts where...State IS California AND City IS Los Angeles AND Birth Date is &gt; (greater than) Jan 1, 1985</em><br />
    Multiple criteria sets are combined (OR'd) to get the final list of contacts...</p>
    </div>

<form action="#" method="post" name="SearchBuilder" id="SearchBuilder">
    <table class="form-layout">
    <tr><td>
    <!-- Each Criteria Set is enclosed in a fieldset -->
    <fieldset><legend><label>Include contacts where...</label></legend>
    <table class="form-layout-compressed">
        <tr>
            <td><select name="class_1_1" class="form-select"><option value="">-select-</option><option value="Individual" selected="selected">Individuals</option><option value="Household">Households</option><option value="Organization">Organizations</option><option value="Contributions">Contributions</option><option value="Activity History">Activity History</option><option value="Relationships">Relationships</option><option value="Student">Student</option></select></td>
            <td>
                <select name="field_1_1" class="form-select"><option value="first_name">First Name</option><option value="middle_name">Middle Name</option><option value="last_name">Last Name</option><option value="job_title">Job Title</option><option value="birth_date">Birth Date</option><option value="individual_prefix">Individual Prefix</option><option value="individual_suffix">Individual Suffix</option><option value="gender">Gender</option><option value="name">Location Name</option><option value="street_address">Street Address</option><option value="supplemental_address_1">Supplemental Address 1</option><option value="supplemental_address_2">Supplemental Address 2</option><option value="city">City</option><option value="postal_code">Postal Code</option><option value="postal_code_suffix">Postal Code Suffix</option><option value="geo_code_1">Geo Code 1</option><option value="geo_code_2">Geo Code 2</option><option value="state_province" selected="selected">State</option><option value="country">Country</option><option value="phone">Phone</option><option value="email">Email</option><option value="im">IM Screen Name</option><option value="id">Internal Contact ID</option><option value="contact_sub_type">Contact Sub Type</option><option value="legal_identifier">Legal Identifier</option><option value="external_identifier">External Identifier</option><option value="nick_name">Nick Name</option><option value="home_URL">Home URL</option><option value="preferred_communication_method">Preferred Communication Method</option><option value="preferred_mail_format">Preferred Mail Format</option><option value="do_not_phone">Do Not Phone</option><option value="do_not_email">Do Not Email</option><option value="do_not_mail">Do Not Mail</option><option value="do_not_trade">Do Not Trade</option><option value="is_opt_out">Is Opt-out?</option></select><br />
                <select name="location_type_1_1" class="form-select"><option value="is_primary" selected="selected">Primary</option><option value="Home">Home</option><option value="Work">Work</option></select>
            </td>
            <td><select name="operator_1_1" class="form-select"><option value="IS" selected="selected">IS (exact match)</option><option value="IS NOT">IS NOT</option><option value="LIKE">LIKE</option></select></td>
            <td><input type="text" name="criteria_1_1" class="big" size="20" value="WA"></td>
        </tr>
        <tr id="criteria[1][2][show]">
            <td colspan=4><a href="#" onclick="show('criteria[1][3][show]','table-row'); show('criteria[1][2][and]','table-row'); show('criteria[1][2]','table-row'); hide('criteria[1][2][show]'); return false;"><img src="files/TreePlus.gif" class="action-icon" alt="another search field..." />another search field...</a></td>
        </tr>
        <tr id="criteria[1][2][and]"><td colspan="4"><label>and...</label></td></tr>
        <tr id="criteria[1][2]">
            <td><select name="class_1_2" class="form-select"><option value="">-select-</option><option value="Individual" selected="selected">Individuals</option><option value="Household">Households</option><option value="Organization">Organizations</option><option value="Contributions">Contributions</option><option value="Activity History">Activity History</option><option value="Relationships">Relationships</option><option value="Student">Student</option></select></td>
            <td><select name="field_1_2" class="form-select"><option value="first_name">First Name</option><option value="middle_name">Middle Name</option><option value="last_name">Last Name</option><option value="job_title">Job Title</option><option value="birth_date">Birth Date</option><option value="individual_prefix">Individual Prefix</option><option value="individual_suffix">Individual Suffix</option><option value="gender">Gender</option><option value="name">Location Name</option><option value="street_address">Street Address</option><option value="supplemental_address_1">Supplemental Address 1</option><option value="supplemental_address_2">Supplemental Address 2</option><option value="city">City</option><option value="postal_code">Postal Code</option><option value="postal_code_suffix">Postal Code Suffix</option><option value="geo_code_1">Geo Code 1</option><option value="geo_code_2">Geo Code 2</option><option value="state_province">State</option><option value="country">Country</option><option value="phone">Phone</option><option value="email">Email</option><option value="im">IM Screen Name</option><option value="id">Internal Contact ID</option><option value="contact_sub_type">Contact Sub Type</option><option value="legal_identifier">Legal Identifier</option><option value="external_identifier">External Identifier</option><option value="nick_name">Nick Name</option><option value="home_URL">Home URL</option><option value="preferred_communication_method">Preferred Communication Method</option><option value="preferred_mail_format">Preferred Mail Format</option><option value="do_not_phone">Do Not Phone</option><option value="do_not_email" selected="selected">Do Not Email</option><option value="do_not_mail">Do Not Mail</option><option value="do_not_trade">Do Not Trade</option><option value="is_opt_out">Is Opt-out?</option></select></td>
            <td><select name="operator_1_2" class="form-select"><option value="IS" selected="selected">IS</option><option value="IS NOT">IS NOT</option></select></td>
            <td><select name="criteria_1_2"><option value="1">TRUE</option><option value="0" selected="selected">FALSE</option><option value="NULL">NULL (empty)</option><select></td>
        </tr>
        <tr id="criteria[1][3][show]">
            <td colspan=4><a href="#" onclick="show('criteria[1][4][show]','table-row'); show('criteria[1][3][and]','table-row'); show('criteria[1][3]','table-row'); hide('criteria[1][3][show]'); return false;"><img src="files/TreePlus.gif" class="action-icon" alt="another search field..." />another search field...</a></td>
        </tr>
        <tr id="criteria[1][3][and]"><td colspan="4"><label>and...</label></td></tr>
        <tr id="criteria[1][3]">
            <td><select name="class_1_3" class="form-select"><option value="">-select-</option><option value="Individual">Individuals</option><option value="Household">Households</option><option value="Organization">Organizations</option><option value="Contributions">Contributions</option><option value="Activity History">Activity History</option><option value="Relationship" selected="selected">Relationship</option><option value="Student">Student</option></select></td>
            <td><select name="field_1_3" class="form-select"><option value="">- select -</option><option value="1_a_b">Child of</option><option value="1_b_a">Parent of</option><option value="2_a_b">Spouse of</option><option value="3_a_b">Sibling of</option><option value="4_a_b" selected="selected">Employee of</option><option value="5_a_b">Volunteer for</option><option value="6_a_b">Head of Household for</option><option value="7_a_b">Household Member of</option><option value="4_b_a">Employer of</option><option value="5_b_a">Volunteer is</option><option value="6_b_a">Head of Household is</option><option value="7_b_a">Household Member is</option></select></td>
            <td><select name="operator_1_3" class="form-select"><option value="IS" selected="selected">IS (exact match)</option><option value="IS NOT">IS NOT</option><option value="LIKE">LIKE</option></select></td>
            <td><input type="text" name="criteria_1_3" class="big" size="20" value="Compumentor"></td>
        </tr>
        <tr id="criteria[1][4][show]">
            <td colspan=4><a href="#" onclick="return false;"><img src="files/TreePlus.gif" class="action-icon" alt="another search field..."/>another search field...</a></td>
        </tr>
    </div>

    </table>
    </fieldset>

    <!-- Link to show another Criteria Set (fieldset) -->
    <div id="cset[2][show]">
        <a href="#" onclick="hide('cset[2][show]'); show('cset[2]'); return false;"><img src="files/TreePlus.gif" class="action-icon" alt="also include contacts..."/>Also include contacts where...</a><br />
    </div>

    <!-- Each Criteria Set is enclosed in a fieldset -->
    <div id="cset[2]">
    <fieldset><legend><a href="#" onclick="hide('cset[2]'); show('cset[2][show]'); return false;"><img src="files/TreeMinus.gif" class="action-icon" alt="close section"/></a><label>ALSO where...</label></legend>
    <table class="form-layout-compressed">
        <tr>
            <td><select name="class_1_1" class="form-select"><option value="">-select-</option><option value="Individual" selected="selected">Individuals</option><option value="Household">Households</option><option value="Organization">Organizations</option><option value="Contributions">Contributions</option><option value="Activity History">Activity History</option><option value="Relationships">Relationships</option><option value="Student">Student</option></select></td>
            <td><select name="field_2_1" class="form-select"><optgroup label="-Contact Fields-"><option value="first_name">First Name</option><option value="middle_name">Middle Name</option><option value="last_name">Last Name</option><option value="job_title">Job Title</option><option value="birth_date">Birth Date</option><option value="individual_prefix">Individual Prefix</option><option value="individual_suffix">Individual Suffix</option><option value="gender">Gender</option><option value="name">Location Name</option><option value="location_type">Location Type</option><option value="street_address">Street Address</option><option value="supplemental_address_1">Supplemental Address 1</option><option value="supplemental_address_2">Supplemental Address 2</option><option value="city">City</option><option value="postal_code">Postal Code</option><option value="postal_code_suffix">Postal Code Suffix</option><option value="geo_code_1">Geo Code 1</option><option value="geo_code_2">Geo Code 2</option><option value="state_province" selected="selected">State</option><option value="country">Country</option><option value="phone">Phone</option><option value="email">Email</option><option value="im">IM Screen Name</option><option value="id">Internal Contact ID</option><option value="contact_sub_type">Contact Sub Type</option><option value="legal_identifier">Legal Identifier</option><option value="external_identifier">External Identifier</option><option value="nick_name">Nick Name</option><option value="home_URL">Home URL</option><option value="preferred_communication_method">Preferred Communication Method</option><option value="preferred_mail_format">Preferred Mail Format</option><option value="do_not_phone">Do Not Phone</option><option value="do_not_email">Do Not Email</option><option value="do_not_mail">Do Not Mail</option><option value="do_not_trade">Do Not Trade</option><option value="is_opt_out">Is Opt-out?</option></select><br />
                <select name="location_type_1_1" class="form-select"><option value="is_primary" selected="selected">Primary</option><option value="Home">Home</option><option value="Work">Work</option></select>
            </td>
            <td><select name="operator_2_1" class="form-select"><option value="IS" selected="selected">IS (exact match)</option><option value="IS NOT">IS NOT</option><option value="LIKE">LIKE</option></select></td>
            <td><input type="text" name="criteria_2_1" class="big" size="20" value="CA"></td>
        </tr>
        <tr id="criteria[2][2][show]">
            <td colspan=4><a href="#" onclick="return false;"><img src="files/TreePlus.gif" class="action-icon" alt="another search field..."/>another search field...</a></td>
        </tr>
    </table>

    </fieldset>
        <div id="cset[3][show]">
            <a href="#" onclick="return false;"><img src="files/TreePlus.gif" class="action-icon" alt="also include contacts..."/>Also include contacts where...</a><br />
        </div>
    </div>
    
    </td></tr>
    <tr>
        <td class="label"><input class="form-submit default" name="" value="Search" type="submit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-submit" name="" value="Cancel" type="submit"></dd>
    </tr>
    </table>
</form>

<script type="text/javascript">
    var showBlocks = new Array('cset[2][show]');
    var hideBlocks = new Array('cset[2]','criteria[1][2]','criteria[1][2][and]','criteria[1][3][show]','criteria[1][3]','criteria[1][3][and]','criteria[1][4][show]');

    on_load_init_blocks( showBlocks, hideBlocks );
 </script>
    
<div class="messages status">
<h3>Prototype Notes</h3>
<ul><li>If a location field is selected (street address, phone...) - an additional location type drop-down is presented allowing user to select a specific location type (e.g. Home) OR they can select <strong>Primary Location</strong>.
    <li>Operator drop-downs are conditional on the type of field selected.
    <ul>
    <li>For text (string) fields, options are: IS (exact match), IS NOT, LIKE, IN and NOT IN.
    <li>For numeric and date fields, options are: =, !=, &gt;, &lt;, &gt;=, &lt;=. For numeric (float, int, decimal) - we also include IN and NOT IN.
    <li>For boolean (true/false) fields, options are: IS, IS NOT. Value field is a drop-down with options of TRUE, FALSE, NULL (empty).
    </ul>
    <li>Searches built using this interface are saved in the same way as basic and advanced searches currently (New Smart Group action from -more actions- dropdown).
</ul>
</div>
<div class="footer" id="civicrm-footer">
Powered by CiviCRM v1.5 rev4845M. CiviCRM is openly available under the <a href="http://www.affero.org/oagpl.html">Affero General Public License (AGPL)</a>. <a href="http://downloads.openngo.org/civicrm/">Download source</a>. <a href="http://issues.civicrm.org/jira/browse/CRM?report=com.atlassian.jira.plugin.system.project:roadmap-panel">View issues and report bugs</a>. <a href="http://wiki.civicrm.org/confluence/display/CRM/CiviCRM+Documentation">Online documentation</a>.</div> 
</div>
</div> 
<!-- end content -->
   </td>
  </tr>
 </tbody></table>
 </body></html>