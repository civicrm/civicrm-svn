/*
	Copyright (c) 2004-2006, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/community/licensing.shtml
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._copyKey=navigator.appVersion.indexOf("Macintosh")<0?"ctrlKey":"metaKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id="dojoUnique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);console.debug(b.l,b.t,t.x,t.y,n.scrollLeft,n.scrollTop);b.l+=t.x+n.scrollLeft;b.t+=t.y+n.scrollTop;var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-b.l,ry=e.pageY-b.t,dx=0,dy=0;if(rx>0&&rx<b.w){if(rx<w){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(rx>b.w-w){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(ry>b.h-h){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}}var _18=n.scrollLeft,_19=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(dx||dy){console.debug(_18+", "+_19+"\n"+dx+", "+dy+"\n"+n.scrollLeft+", "+n.scrollTop);}if(_18!=n.scrollLeft||_19!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.dnd.Mover=function(_1a,e){this.node=dojo.byId(_1a);this.marginBox={l:e.pageX,t:e.pageY};var d=_1a.ownerDocument,_1d=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"destroy"),dojo.connect(d,"ondragstart",dojo,"stopEvent"),dojo.connect(d,"onselectstart",dojo,"stopEvent"),_1d];dojo.publish("/dnd/move/start",[this.node]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");};dojo.extend(dojo.dnd.Mover,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;dojo.marginBox(this.node,{l:m.l+e.pageX,t:m.t+e.pageY});},onFirstMove:function(){this.node.style.position="absolute";var m=dojo.marginBox(this.node);m.l-=this.marginBox.l;m.t-=this.marginBox.t;this.marginBox=m;dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);dojo.publish("/dnd/move/stop",[this.node]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");this.events=this.node=null;}});dojo.dnd.Moveable=function(_21,_22){this.node=dojo.byId(_21);this.handle=(_22&&_22.handle)?dojo.byId(_22.handle):null;if(!this.handle){this.handle=this.node;}this.delay=(_22&&_22.delay>0)?_22.delay:0;this.skip=_22&&_22.skip;this.mover=(_22&&_22.mover)?_22.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",dojo,"stopEvent"),dojo.connect(this.handle,"onselectstart",dojo,"stopEvent")];};dojo.extend(dojo.dnd.Moveable,{handle:"",delay:0,skip:false,markupFactory:function(_23,_24){return new dojo.dnd.Moveable(_24,_23);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"));this.events.push(dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{new this.mover(this.node,e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);new this.mover(this.node,e);}dojo.stopEvent(e);},onMouseUp:function(e){dojo.disconnect(this.events.pop());dojo.disconnect(this.events.pop());}});dojo.dnd.constrainedMover=function(fun,_29){var _2a=function(_2b,e){dojo.dnd.Mover.call(this,_2b,e);};dojo.extend(_2a,dojo.dnd.Mover.prototype);dojo.extend(_2a,{onMouseMove:function(e){var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;dojo.marginBox(this.node,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this),m=this.marginBox;c.r=c.l+c.w-(_29?m.w:0);c.b=c.t+c.h-(_29?m.h:0);}});return _2a;};dojo.dnd.boxConstrainedMover=function(box,_35){return dojo.dnd.constrainedMover(function(){return box;},_35);};dojo.dnd.parentConstrainedMover=function(_36,_37){var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(_36=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_36=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_36=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.constrainedMover(fun,_37);};}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");dojo.fx.chain=function(_3d){var _3e=_3d.shift();var _3f=_3e;dojo.forEach(_3d,function(_40){dojo.connect(_3f,"onEnd",_40,"play");_3f=_40;});return _3e;};dojo.fx.combine=function(_41){var _42=_41.shift();dojo.forEach(_41,function(_43){dojo.forEach(["play","pause","stop"],function(_44){if(_43[_44]){dojo.connect(_42,_44,_43,_44);}},this);});return _42;};dojo.declare("dojo.fx.Toggler",null,{constructor:function(_45){var _t=this;dojo.mixin(_t,_45);_t.node=_45.node;_t._showArgs=dojo.mixin({},_45);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},_45);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,_showArgs:null,_showAnim:null,_hideArgs:null,_hideAnim:null,_isShowing:false,_isHiding:false,show:function(_47){_47=_47||0;return this.showAnim.play(_47);},hide:function(_48){_48=_48||0;return this.hideAnim.play(_48);}});dojo.fx.wipeIn=function(_49){_49.node=dojo.byId(_49.node);var _4a=_49.node,s=_4a.style;var _4c=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _4d=dojo.style(_4a,"height");return Math.max(_4d,1);}},end:function(){return _4a.scrollHeight;}}}},_49));dojo.connect(_4c,"onEnd",_4c,function(){s.height="auto";});return _4c;};dojo.fx.wipeOut=function(_4e){var _4f=(_4e.node=dojo.byId(_4e.node));var _50=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},_4e));dojo.connect(_50,"beforeBegin",_50,function(){var s=_4f.style;s.overflow="hidden";s.display="";});dojo.connect(_50,"onEnd",_50,function(){var s=this.node.style;s.height="auto";s.display="none";});return _50;};dojo.fx.slideTo=function(_53){var _54=_53.node=dojo.byId(_53.node);var _55=dojo.getComputedStyle;var top=null;var _57=null;var _58=(function(){var _59=_54;return function(){var pos=_55(_59).position;top=(pos=="absolute"?_54.offsetTop:parseInt(_55(_54).top)||0);_57=(pos=="absolute"?_54.offsetLeft:parseInt(_55(_54).left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(_59,true);top=ret.y;_57=ret.x;_59.style.position="absolute";_59.style.top=top+"px";_59.style.left=_57+"px";}};})();_58();var _5c=dojo.animateProperty(dojo.mixin({properties:{top:{start:top,end:_53.top||0},left:{start:_57,end:_53.left||0}}},_53));dojo.connect(_5c,"beforeBegin",_5c,_58);return _5c;};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _5d=dojo.global;var _5e=dojo.doc;if(_5e.selection){return !_5e.selection.createRange().text;}else{if(_5d.getSelection){var _5f=_5d.getSelection();if(dojo.isString(_5f)){return !_5f;}else{return _5f.isCollapsed||!_5f.toString();}}}},getBookmark:function(){var _60,_61=dojo.doc.selection;if(_61){var _62=_61.createRange();if(_61.type.toUpperCase()=="CONTROL"){_60=_62.length?dojo._toArray(_62):null;}else{_60=_62.getBookmark();}}else{if(dojo.global.getSelection){_61=dojo.global.getSelection();if(_61){var _62=_61.getRangeAt(0);_60=_62.cloneRange();}}else{console.debug("No idea how to store the current selection for this browser!");}}return _60;},moveToBookmark:function(_63){var _64=dojo.doc;if(_64.selection){var _65;if(dojo.isArray(_63)){_65=_64.body.createControlRange();dojo.forEach(_63,_65.addElement);}else{_65=_64.selection.createRange();_65.moveToBookmark(_63);}_65.select();}else{var _66=dojo.global.getSelection&&dojo.global.getSelection();if(_66&&_66.removeAllRanges){_66.removeAllRanges();_66.addRange(_63);}else{console.debug("No idea how to restore selection for this browser!");}}},getFocus:function(_67,_68){return {node:_67&&dojo.isDescendant(dijit._curFocus,_67.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_68||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_68||dojo.global,dijit.getBookmark):null,openedForWindow:_68};},focus:function(_69){if(!_69){return;}var _6a="node" in _69?_69.node:_69,_6b=_69.bookmark,_6c=_69.openedForWindow;if(_6a){var _6d=(_6a.tagName.toLowerCase()=="iframe")?_6a.contentWindow:_6a;if(_6d&&_6d.focus){try{_6d.focus();}catch(e){}}dijit._onFocusNode(_6a);}if(_6b&&dojo.withGlobal(_6c||dojo.global,dijit.isCollapsed)){if(_6c){_6c.focus();}try{dojo.withGlobal(_6c||dojo.global,moveToBookmark,null,[_6b]);}catch(e){}}},_activeStack:[],registerWin:function(_6e){if(!_6e){_6e=window;}dojo.connect(_6e.document,"onmousedown",null,function(evt){dijit._ignoreNextBlurEvent=true;setTimeout(function(){dijit._ignoreNextBlurEvent=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var _70=_6e.document.body||_6e.document.getElementsByTagName("body")[0];if(_70){if(dojo.isIE){_70.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="body"){dijit._onFocusNode(evt.srcElement);}});_70.attachEvent("ondeactivate",function(evt){dijit._onBlurNode();});}else{_70.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);_70.addEventListener("blur",function(evt){dijit._onBlurNode();},true);}}},_onBlurNode:function(){if(dijit._ignoreNextBlurEvent){dijit._ignoreNextBlurEvent=false;return;}dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._blurAllTimer){clearTimeout(dijit._blurAllTimer);}dijit._blurAllTimer=setTimeout(function(){delete dijit._blurAllTimer;dijit._setStack([]);},100);},_onTouchNode:function(_75){if(dijit._blurAllTimer){clearTimeout(dijit._blurAllTimer);delete dijit._blurAllTimer;}var _76=[];try{while(_75){if(_75.dijitPopupParent){_75=dijit.byId(_75.dijitPopupParent).domNode;}else{if(_75.tagName&&_75.tagName.toLowerCase()=="body"){if(_75===dojo.body()){break;}_75=dojo.query("iframe").filter(function(_77){return _77.contentDocument.body===_75;})[0];}else{var id=_75.getAttribute&&_75.getAttribute("widgetId");if(id){_76.unshift(id);}_75=_75.parentNode;}}}}catch(e){}dijit._setStack(_76);},_onFocusNode:function(_79){if(_79&&_79.tagName&&_79.tagName.toLowerCase()=="body"){return;}if(_79==dijit._curFocus){return;}dijit._prevFocus=dijit._curFocus;dijit._curFocus=_79;dijit._onTouchNode(_79);dojo.publish("focusNode",[_79]);var w=dijit.byId(_79.id);if(w&&w._setStateClass){w._focused=true;w._setStateClass();var _7b=dojo.connect(_79,"onblur",function(){w._focused=false;w._setStateClass();dojo.disconnect(_7b);});}},_setStack:function(_7c){var _7d=dijit._activeStack;for(var _7e=0;_7e<Math.min(_7d.length,_7c.length);_7e++){if(_7d[_7e]!=_7c[_7e]){break;}}for(var i=_7d.length-1;i>=_7e;i--){var _80=dijit.byId(_7d[i]);if(_80){dojo.publish("widgetBlur",[_80]);if(_80._onBlur){_80._onBlur();}}}for(var i=_7e;i<_7c.length;i++){var _80=dijit.byId(_7c[i]);if(_80){dojo.publish("widgetFocus",[_80]);if(_80._onFocus){_80._onFocus();}}}dijit._activeStack=_7c;}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_81){this._hash[_81.id]=_81;},remove:function(id){delete this._hash[id];},forEach:function(_83){for(var id in this._hash){_83(this._hash[id]);}},filter:function(_85){var res=new dijit.WidgetSet();this.forEach(function(_87){if(_85(_87)){res.add(_87);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_8a){return _8a.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_8b){var id;do{id=_8b+"_"+(dijit._widgetTypeCtr[_8b]!==undefined?++dijit._widgetTypeCtr[_8b]:dijit._widgetTypeCtr[_8b]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnUnload(function(){dijit.registry.forEach(function(_8d){_8d.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_8f){return dijit.registry.byId(_8f.getAttribute("widgetId"));};}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _90=dojo.global;var _91=dojo.doc;var w=0,h=0;if(dojo.isMozilla){w=_91.documentElement.clientWidth;h=_90.innerHeight;}else{if(!dojo.isOpera&&_90.innerWidth){w=_90.innerWidth;h=_90.innerHeight;}else{if(dojo.isIE&&_91.documentElement&&_91.documentElement.clientHeight){w=_91.documentElement.clientWidth;h=_91.documentElement.clientHeight;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _94=dojo._docScroll();return {w:w,h:h,l:_94.x,t:_94.y};};dijit.placeOnScreen=function(_95,pos,_97,_98){var _99=dojo.map(_97,function(_9a){return {corner:_9a,pos:pos};});return dijit._place(_95,_99);};dijit._place=function(_9b,_9c,_9d){var _9e=dijit.getViewport();if(!_9b.parentNode||String(_9b.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_9b);}var _9f=null;for(var i=0;i<_9c.length;i++){var _a1=_9c[i].corner;var pos=_9c[i].pos;if(_9d){_9d(_a1);}var _a3=_9b.style.display;var _a4=_9b.style.visibility;_9b.style.visibility="hidden";_9b.style.display="";var mb=dojo.marginBox(_9b);_9b.style.display=_a3;_9b.style.visibility=_a4;var _a6=(_a1.charAt(1)=="L"?pos.x:Math.max(_9e.l,pos.x-mb.w)),_a7=(_a1.charAt(0)=="T"?pos.y:Math.max(_9e.t,pos.y-mb.h)),_a8=(_a1.charAt(1)=="L"?Math.min(_9e.l+_9e.w,_a6+mb.w):pos.x),_a9=(_a1.charAt(0)=="T"?Math.min(_9e.t+_9e.h,_a7+mb.h):pos.y),_aa=_a8-_a6,_ab=_a9-_a7,_ac=(mb.w-_aa)+(mb.h-_ab);if(_9f==null||_ac<_9f.overflow){_9f={corner:_a1,aroundCorner:_9c[i].aroundCorner,x:_a6,y:_a7,w:_aa,h:_ab,overflow:_ac};}if(_ac==0){break;}}_9b.style.left=_9f.x+"px";_9b.style.top=_9f.y+"px";return _9f;};dijit.placeOnScreenAroundElement=function(_ad,_ae,_af,_b0){_ae=dojo.byId(_ae);var _b1=_ae.style.display;_ae.style.display="";var _b2=_ae.offsetWidth;var _b3=_ae.offsetHeight;var _b4=dojo.coords(_ae,true);_ae.style.display=_b1;var _b5=[];for(var _b6 in _af){_b5.push({aroundCorner:_b6,corner:_af[_b6],pos:{x:_b4.x+(_b6.charAt(1)=="L"?0:_b2),y:_b4.y+(_b6.charAt(0)=="T"?0:_b3)}});}return dijit._place(_ad,_b5,_b0);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isSafari&&!doc._parentWindow){var fix=function(win){win.document._parentWindow=win;for(var i=0;i<win.frames.length;i++){fix(win.frames[i]);}};fix(window.top);}if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _bc=[],_bd=1000,_be=1;this.open=function(_bf){var _c0=_bf.popup,_c1=_bf.orient||{"BL":"TL","TL":"BL"},_c2=_bf.around,id=(_bf.around&&_bf.around.id)?(_bf.around.id+"_dropdown"):("popup_"+_be++);if(!_bf.submenu){this.closeAll();}var _c4=dojo.doc.createElement("div");_c4.id=id;_c4.className="dijitPopup";_c4.style.zIndex=_bd+_bc.length;if(_bf.parent){_c4.dijitPopupParent=_bf.parent.id;}dojo.body().appendChild(_c4);_c0.domNode.style.display="";_c4.appendChild(_c0.domNode);var _c5=new dijit.BackgroundIframe(_c4);var _c6=_c2?dijit.placeOnScreenAroundElement(_c4,_c2,_c1,_c0.orient?dojo.hitch(_c0,"orient"):null):dijit.placeOnScreen(_c4,_bf,_c1=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);var _c7=[];_c7.push(dojo.connect(_c4,"onkeypress",this,function(evt){if(evt.keyCode==dojo.keys.ESCAPE){_bf.onCancel();}}));if(_c0.onCancel){_c7.push(dojo.connect(_c0,"onCancel",null,_bf.onCancel));}_c7.push(dojo.connect(_c0,_c0.onExecute?"onExecute":"onChange",null,function(){if(_bc[0]&&_bc[0].onExecute){_bc[0].onExecute();}}));_bc.push({wrapper:_c4,iframe:_c5,widget:_c0,onExecute:_bf.onExecute,onCancel:_bf.onCancel,onClose:_bf.onClose,handlers:_c7});if(_c0.onOpen){_c0.onOpen(_c6);}return _c6;};this.close=function(){var _c9=_bc[_bc.length-1].widget;if(_c9.onClose){_c9.onClose();}if(!_bc.length){return;}var top=_bc.pop();var _cb=top.wrapper,_cc=top.iframe,_c9=top.widget,_cd=top.onClose;dojo.forEach(top.handlers,dojo.disconnect);if(!_c9||!_c9.domNode){return;}dojo.style(_c9.domNode,"display","none");dojo.body().appendChild(_c9.domNode);_cc.destroy();dojo._destroyElement(_cb);if(_cd){_cd();}};this.closeAll=function(){while(_bc.length){this.close();}};this.closeTo=function(_ce){while(_bc.length&&_bc[_bc.length-1].widget.id!=_ce.id){this.close();}};}();dijit._frames=new function(){var _cf=[];this.pop=function(){var _d0;if(_cf.length){_d0=_cf.pop();_d0.style.display="";}else{if(dojo.isIE){var _d1="<iframe src='javascript:\"\"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_d0=dojo.doc.createElement(_d1);}else{var _d0=dojo.doc.createElement("iframe");_d0.src="javascript:\"\"";_d0.className="dijitBackgroundIframe";}_d0.tabIndex=-1;dojo.body().appendChild(_d0);}return _d0;};this.push=function(_d2){_d2.style.display="";if(dojo.isIE){_d2.style.removeExpression("width");_d2.style.removeExpression("height");}_cf.push(_d2);};}();if(dojo.isIE&&dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(_d4){if(!_d4.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _d5=dijit._frames.pop();_d4.appendChild(_d5);if(dojo.isIE){_d5.style.setExpression("width","document.getElementById('"+_d4.id+"').offsetWidth");_d5.style.setExpression("height","document.getElementById('"+_d4.id+"').offsetHeight");}this.iframe=_d5;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_d6){if(dojo.isIE){if(dojo.marginBox(_d6.parentNode).h<=_d6.parentNode.scrollHeight){_d6.scrollIntoView(false);}}else{if(dojo.isMozilla){_d6.scrollIntoView(false);}else{var _d7=_d6.parentNode;var _d8=_d7.scrollTop+dojo.marginBox(_d7).h;var _d9=_d6.offsetTop+dojo.marginBox(_d6).h;if(_d8<_d9){_d7.scrollTop+=(_d9-_d8);}else{if(_d7.scrollTop>_d6.offsetTop){_d7.scrollTop-=(_d7.scrollTop-_d6.offsetTop);}}}}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _dc=d.isOpera;var maj=Math.floor;var _de={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_dc,dj_opera8:maj(_dc)==8,dj_opera9:maj(_dc)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla};for(var p in _de){if(_de[p]){var _e0=dojo.doc.documentElement;if(_e0.className){_e0.className+=" "+p;}else{_e0.className=p;}}}})();}if(!dojo._hasResource["dijit._base.bidi"]){dojo._hasResource["dijit._base.bidi"]=true;dojo.provide("dijit._base.bidi");dojo.addOnLoad(function(){if(!dojo._isBodyLtr()){dojo.addClass(dojo.body(),"dijitRtl");}});}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_e2,_e3,_e4,obj,_e6,_e7){if(obj!=this._obj){this.stop();this._initialDelay=_e7?_e7:500;this._subsequentDelay=_e6?_e6:0.9;this._obj=obj;this._evt=evt;this._node=_e3;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_e2,_e4);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_e8,_e9,_ea,_eb,_ec,_ed){var ary=[];ary.push(dojo.connect(_e8,"onkeypress",this,function(evt){if(evt.keyCode==_e9.keyCode&&(!_e9.charCode||_e9.charCode==evt.charCode)&&((typeof _e9.ctrlKey=="undefined")||_e9.ctrlKey==evt.ctrlKey)&&((typeof _e9.altKey=="undefined")||_e9.altKey==evt.ctrlKey)&&((typeof _e9.shiftKey=="undefined")||_e9.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_e9,_ea,_e8,_eb,_e9,_ec,_ed);}else{if(dijit.typematic._obj==_e9){dijit.typematic.stop();}}}));ary.push(dojo.connect(_e8,"onkeyup",this,function(evt){if(dijit.typematic._obj==_e9){dijit.typematic.stop();}}));return ary;},addMouseListener:function(_f1,_f2,_f3,_f4,_f5){var ary=[];ary.push(dojo.connect(_f1,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_f2,_f1,_f3,_f1,_f4,_f5);}));ary.push(dojo.connect(_f1,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}));ary.push(dojo.connect(_f1,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}));ary.push(dojo.connect(_f1,"mousemove",this,function(evt){dojo.stopEvent(evt);}));ary.push(dojo.connect(_f1,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_f2,_f1,_f3,_f1,_f4,_f5);setTimeout("dijit.typematic.stop()",50);}}));return ary;},addListener:function(_fc,_fd,_fe,_ff,_100,_101,_102){return this.addKeyListener(_fd,_fe,_ff,_100,_101,_102).concat(this.addMouseListener(_fc,_ff,_100,_101,_102));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.waiNames=["waiRole","waiState"];dijit.wai={waiRole:{name:"waiRole","namespace":"http://www.w3.org/TR/xhtml2",alias:"x2",prefix:"wairole:"},waiState:{name:"waiState","namespace":"http://www.w3.org/2005/07/aaa",alias:"aaa",prefix:""},setAttr:function(node,ns,attr,_106){if(dojo.isIE){node.setAttribute(this[ns].alias+":"+attr,this[ns].prefix+_106);}else{node.setAttributeNS(this[ns]["namespace"],attr,this[ns].prefix+_106);}},getAttr:function(node,ns,attr){if(dojo.isIE){return node.getAttribute(this[ns].alias+":"+attr);}else{return node.getAttributeNS(this[ns]["namespace"],attr);}},removeAttr:function(node,ns,attr){var _10d=true;if(dojo.isIE){_10d=node.removeAttribute(this[ns].alias+":"+attr);}else{node.removeAttributeNS(this[ns]["namespace"],attr);}return _10d;},onload:function(){var div=document.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"left: -999px;"+"top: -999px;"+"background-image: url(\""+dojo.moduleUrl("dijit","form/templates/blank.gif")+"\");";dojo.body().appendChild(div);function check(){var cs=dojo.getComputedStyle(div);if(cs){var _110=cs.backgroundImage;var _111=(cs.borderTopColor==cs.borderRightColor)||(_110!=null&&(_110=="none"||_110=="url(invalid-url:)"));dojo[_111?"addClass":"removeClass"](dojo.body(),"dijit_a11y");}};check();if(dojo.isIE){setInterval(check,4000);}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.declare("dijit._Widget",null,{constructor:function(_112,_113){this.create(_112,_113);},id:"",lang:"",dir:"",srcNodeRef:null,domNode:null,create:function(_114,_115){this.srcNodeRef=dojo.byId(_115);this._connects=[];this._attaches=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_114){dojo.mixin(this,_114);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this.domNode.setAttribute("widgetId",this.id);if(this.srcNodeRef&&this.srcNodeRef.dir){this.domNode.dir=this.srcNodeRef.dir;}}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef;},postCreate:function(){},startup:function(){},destroyRecursive:function(_116){this.destroyDescendants();this.destroy();},destroy:function(_117){this.uninitialize();dojo.forEach(this._connects,function(_118){dojo.forEach(_118,dojo.disconnect);});this.destroyRendering(_117);dijit.registry.remove(this.id);},destroyRendering:function(_119){if(this.bgIframe){this.bgIframe.destroy();delete this.bgIframe;}if(this.domNode){dojo._destroyElement(this.domNode);delete this.domNode;}if(this.srcNodeRef){dojo._destroyElement(this.srcNodeRef);delete this.srcNodeRef;}},destroyDescendants:function(){dojo.forEach(this.getDescendants(),function(_11a){_11a.destroy();});},uninitialize:function(){return false;},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){var list=dojo.query("[widgetId]",this.domNode);return list.map(dijit.byNode);},nodesWithKeyClick:["input","button"],connect:function(obj,_11d,_11e){var _11f=[];if(_11d=="ondijitclick"){var w=this;if(!this.nodesWithKeyClick[obj.nodeName]){_11f.push(dojo.connect(obj,"onkeydown",this,function(e){if(e.keyCode==dojo.keys.ENTER){return (dojo.isString(_11e))?w[_11e](e):_11e.call(w,e);}else{if(e.keyCode==dojo.keys.SPACE){dojo.stopEvent(e);}}}));_11f.push(dojo.connect(obj,"onkeyup",this,function(e){if(e.keyCode==dojo.keys.SPACE){return dojo.isString(_11e)?w[_11e](e):_11e.call(w,e);}}));}_11d="onclick";}_11f.push(dojo.connect(obj,_11d,this,_11e));this._connects.push(_11f);return _11f;},disconnect:function(_123){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_123){dojo.forEach(_123,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){if(typeof this._ltr=="undefined"){this._ltr=(this.dir||dojo.getComputedStyle(this.domNode).direction)!="rtl";}return this._ltr;}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.pad=function(text,size,ch,end){var out=String(text);if(!ch){ch="0";}while(out.length<size){if(end){out+=ch;}else{out=ch+out;}}return out;};dojo.string.substitute=function(_12a,map,_12c,_12d){return _12a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_12e,key,_130){var _131=dojo.getObject(key,false,map);if(_130){_131=dojo.getObject(_130,false,_12d)(_131);}if(_12c){_131=_12c(_131,key);}return _131.toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_134,_135){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _136=dojo.date.stamp._isoRegExp.exec(_134);var _137=null;if(_136){_136.shift();_136[1]&&_136[1]--;_136[6]&&(_136[6]*=1000);if(_135){_135=new Date(_135);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _135["get"+prop]();}).forEach(function(_139,_13a){if(_136[_13a]===undefined){_136[_13a]=_139;}});}_137=new Date(_136[0]||1970,_136[1]||0,_136[2]||0,_136[3]||0,_136[4]||0,_136[5]||0,_136[6]||0);var _13b=0;var _13c=_136[7]&&_136[7].charAt(0);if(_13c!="Z"){_13b=((_136[8]||0)*60)+(Number(_136[9])||0);if(_13c!="-"){_13b*=-1;}}if(_13c){_13b-=_137.getTimezoneOffset();}if(_13b){_137.setTime(_137.getTime()+_13b*60000);}}return _137;};dojo.date.stamp.toISOString=function(_13d,_13e){var _=function(n){return (n<10)?"0"+n:n;};_13e=_13e||{};var _141=[];var _142=_13e.zulu?"getUTC":"get";var date="";if(_13e.selector!="time"){date=[_13d[_142+"FullYear"](),_(_13d[_142+"Month"]()+1),_(_13d[_142+"Date"]())].join("-");}_141.push(date);if(_13e.selector!="date"){var time=[_(_13d[_142+"Hours"]()),_(_13d[_142+"Minutes"]()),_(_13d[_142+"Seconds"]())].join(":");var _145=_13d[_142+"Milliseconds"]();if(_13e.milliseconds){time+="."+(_145<100?"0":"")+_(_145);}if(_13e.zulu){time+="Z";}else{var _146=_13d.getTimezoneOffset();var _147=Math.abs(_146);time+=(_146>0?"-":"+")+_(Math.floor(_147/60))+":"+_(_147%60);}_141.push(time);}return _141.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;function val2type(_149){if(d.isString(_149)){return "string";}if(typeof _149=="number"){return "number";}if(typeof _149=="boolean"){return "boolean";}if(d.isFunction(_149)){return "function";}if(d.isArray(_149)){return "array";}if(_149 instanceof Date){return "date";}if(_149 instanceof d._Url){return "url";}return "object";};function str2obj(_14a,type){switch(type){case "string":return _14a;case "number":return _14a.length?Number(_14a):NaN;case "boolean":return typeof _14a=="boolean"?_14a:!(_14a.toLowerCase()=="false");case "function":if(d.isFunction(_14a)){_14a=_14a.toString();_14a=d.trim(_14a.substring(_14a.indexOf("{")+1,_14a.length-1));}try{if(_14a.search(/[^\w\.]+/i)!=-1){_14a=d.parser._nameAnonFunc(new Function(_14a),this);}return d.getObject(_14a,false);}catch(e){return new Function();}case "array":return _14a.split(/\s*,\s*/);case "date":switch(_14a){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_14a);}case "url":return d.baseUrl+_14a;default:return d.fromJson(_14a);}};var _14c={};function getClassInfo(_14d){if(!_14c[_14d]){var cls=d.getObject(_14d);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_14d+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _14f=cls.prototype;var _150={};for(var name in _14f){if(name.charAt(0)=="_"){continue;}var _152=_14f[name];_150[name]=val2type(_152);}_14c[_14d]={cls:cls,params:_150};}return _14c[_14d];};this._functionFromScript=function(_153){var _154="";var _155="";var _156=_153.getAttribute("args");if(_156){d.forEach(_156.split(/\s*,\s*/),function(part,idx){_154+="var "+part+" = arguments["+idx+"]; ";});}var _159=_153.getAttribute("with");if(_159&&_159.length){d.forEach(_159.split(/\s*,\s*/),function(part){_154+="with("+part+"){";_155+="}";});}return new Function(_154+_153.innerHTML+_155);};this._wireUpMethod=function(_15b,_15c){var nf=this._functionFromScript(_15c);var _15e=_15c.getAttribute("event");if(_15e){var mode=_15c.getAttribute("type");if(mode&&(mode=="dojo/connect")){d.connect(_15b,_15e,_15b,nf);}else{_15b[_15e]=nf;}}else{nf.call(_15b);}};this.instantiate=function(_160){var _161=[];d.forEach(_160,function(node){if(!node){return;}var type=node.getAttribute("dojoType");if((!type)||(!type.length)){return;}var _164=getClassInfo(type);var _165={};var _166=node.attributes;for(var name in _164.params){var item=_166.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _169=_164.params[name];_165[name]=str2obj(item.value,_169);}var _16a=d.query("> script[type='dojo/method'][event='preamble']",node).orphan();if(_16a.length){_165.preamble=d.parser._functionFromScript(_16a[0]);}var _16b=d.query("> script[type^='dojo/']",node).orphan();var _16c=_164.cls;var _16d=_16c["markupFactory"];if(!_16d&&_16c["prototype"]){_16d=_16c.prototype["markupFactory"];}var _16e=_16d?_16d(_165,node,_16c):new _16c(_165,node);_161.push(_16e);var _16f=node.getAttribute("jsId");if(_16f){d.setObject(_16f,_16e);}_16b.forEach(function(_170){d.parser._wireUpMethod(_16e,_170);});});d.forEach(_161,function(_171){if(_171&&(_171.startup)&&((!_171.getParent)||(!_171.getParent()))){_171.startup();}});return _161;};this.parse=function(_172){var list=d.query("[dojoType]",_172);var _174=this.instantiate(list);return _174;};}();(function(){var _175=function(){if(djConfig["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_175);}else{dojo._loaders.unshift(_175);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_176,_177){var jpn="$joinpoint";var nso=(_177||dojo.parser._anon);if(dojo.isIE){var cn=_176["__dojoNameCache"];if(cn&&nso[cn]===_176){return _176["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_176;return ret;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,containerNode:null,buildRendering:function(){var _17c=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString);var node;if(dojo.isString(_17c)){var _17e=this.declaredClass,_17f=this;var tstr=dojo.string.substitute(_17c,this,function(_181,key){if(key.charAt(0)=="!"){_181=_17f[key.substr(1)];}if(typeof _181=="undefined"){throw new Error(_17e+" template:"+key);}return key.charAt(0)=="!"?_181:_181.toString().replace(/"/g,"&quot;");},this);node=dijit._Templated._createNodesFromText(tstr)[0];}else{node=_17c.cloneNode(true);}this._attachTemplateNodes(node);if(this.srcNodeRef){dojo.style(this.styleNode||node,"cssText",this.srcNodeRef.style.cssText);if(this.srcNodeRef.className){node.className+=" "+this.srcNodeRef.className;}}this.domNode=node;if(this.srcNodeRef&&this.srcNodeRef.parentNode){this.srcNodeRef.parentNode.replaceChild(this.domNode,this.srcNodeRef);}if(this.widgetsInTemplate){var _183=dojo.parser.parse(this.domNode);this._attachTemplateNodes(_183,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_186){var dest=this.containerNode;if(_186&&dest){while(_186.hasChildNodes()){dest.appendChild(_186.firstChild);}}},_attachTemplateNodes:function(_188,_189){_189=_189||function(n,p){return n.getAttribute(p);};var _18c=dojo.isArray(_188)?_188:(_188.all||_188.getElementsByTagName("*"));var x=dojo.isArray(_188)?0:-1;for(;x<_18c.length;x++){var _18e=(x==-1)?_188:_18c[x];if(this.widgetsInTemplate&&_189(_18e,"dojoType")){continue;}var _18f=_189(_18e,"dojoAttachPoint");if(_18f){var _190,_191=_18f.split(/\s*,\s*/);while(_190=_191.shift()){if(dojo.isArray(this[_190])){this[_190].push(_18e);}else{this[_190]=_18e;}}}var _192=_189(_18e,"dojoAttachEvent");if(_192){var _193,_194=_192.split(/\s*,\s*/);var trim=dojo.trim;while(_193=_194.shift()){if(_193){var _196=null;if(_193.indexOf(":")!=-1){var _197=_193.split(":");_193=trim(_197[0]);_196=trim(_197[1]);}else{_193=trim(_193);}if(!_196){_196=_193;}this.connect(_18e,_193,_196);}}}var name,_199=["waiRole","waiState"];while(name=_199.shift()){var wai=dijit.wai[name];var _19b=_189(_18e,wai.name);if(_19b){var role="role";var val;_19b=_19b.split(/\s*,\s*/);while(val=_19b.shift()){if(val.indexOf("-")!=-1){var _19e=val.split("-");role=_19e[0];val=_19e[1];}dijit.wai.setAttr(_18e,wai.name,role,val);}}}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_19f,_1a0){var _1a1=dijit._Templated._templateCache;var key=_1a0||_19f;var _1a3=_1a1[key];if(_1a3){return _1a3;}if(!_1a0){_1a0=dijit._Templated._sanitizeTemplateString(dojo._getText(_19f));}_1a0=dojo.string.trim(_1a0);if(_1a0.match(/\$\{([^\}]+)\}/g)){return (_1a1[key]=_1a0);}else{return (_1a1[key]=dijit._Templated._createNodesFromText(_1a0)[0]);}};dijit._Templated._sanitizeTemplateString=function(_1a4){if(_1a4){_1a4=_1a4.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1a5=_1a4.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1a5){_1a4=_1a5[1];}}else{_1a4="";}return _1a4;};if(dojo.isIE){dojo.addOnUnload(function(){var _1a6=dijit._Templated._templateCache;for(var key in _1a6){var _1a8=_1a6[key];if(!isNaN(_1a8.nodeType)){dojo._destroyElement(_1a8);}_1a6[key]=null;}});}(function(){var _1a9={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";}var _1ac="none";var _1ad=text.replace(/^\s+/,"");for(var type in _1a9){var map=_1a9[type];if(map.re.test(_1ad)){_1ac=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;dojo.body().appendChild(tn);if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_1ac];var _1b1=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _1b2=[];while(_1b1.firstChild){_1b2.push(_1b1.removeChild(_1b1.firstChild));}tn.innerHTML="";return _1b2;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_1b3,_1b4,_1b5){_1b5=dojo.i18n.normalizeLocale(_1b5);var _1b6=_1b5.split("-");var _1b7=[_1b3,"nls",_1b4].join(".");var _1b8=dojo._loadedModules[_1b7];if(_1b8){var _1b9;for(var i=_1b6.length;i>0;i--){var loc=_1b6.slice(0,i).join("_");if(_1b8[loc]){_1b9=_1b8[loc];break;}}if(!_1b9){_1b9=_1b8.ROOT;}if(_1b9){var _1bc=function(){};_1bc.prototype=_1b9;return new _1bc();}}throw new Error("Bundle not found: "+_1b4+" in "+_1b3+" , locale="+_1b5);};dojo.i18n.normalizeLocale=function(_1bd){var _1be=_1bd?_1bd.toLowerCase():dojo.locale;if(_1be=="root"){_1be="ROOT";}return _1be;};dojo.i18n._requireLocalization=function(_1bf,_1c0,_1c1,_1c2){var _1c3=dojo.i18n.normalizeLocale(_1c1);var _1c4=[_1bf,"nls",_1c0].join(".");var _1c5="";if(_1c2){var _1c6=_1c2.split(",");for(var i=0;i<_1c6.length;i++){if(_1c3.indexOf(_1c6[i])==0){if(_1c6[i].length>_1c5.length){_1c5=_1c6[i];}}}if(!_1c5){_1c5="ROOT";}}var _1c8=_1c2?_1c5:_1c3;var _1c9=dojo._loadedModules[_1c4];var _1ca=null;if(_1c9){if(djConfig.localizationComplete&&_1c9._built){return;}var _1cb=_1c8.replace(/-/g,"_");var _1cc=_1c4+"."+_1cb;_1ca=dojo._loadedModules[_1cc];}if(!_1ca){_1c9=dojo["provide"](_1c4);var syms=dojo._getModuleSymbols(_1bf);var _1ce=syms.concat("nls").join("/");var _1cf;dojo.i18n._searchLocalePath(_1c8,_1c2,function(loc){var _1d1=loc.replace(/-/g,"_");var _1d2=_1c4+"."+_1d1;var _1d3=false;if(!dojo._loadedModules[_1d2]){dojo["provide"](_1d2);var _1d4=[_1ce];if(loc!="ROOT"){_1d4.push(loc);}_1d4.push(_1c0);var _1d5=_1d4.join("/")+".js";_1d3=dojo._loadPath(_1d5,null,function(hash){var _1d7=function(){};_1d7.prototype=_1cf;_1c9[_1d1]=new _1d7();for(var j in hash){_1c9[_1d1][j]=hash[j];}});}else{_1d3=true;}if(_1d3&&_1c9[_1d1]){_1cf=_1c9[_1d1];}else{_1c9[_1d1]=_1cf;}if(_1c2){return true;}});}if(_1c2&&_1c3!=_1c5){_1c9[_1c3.replace(/-/g,"_")]=_1c9[_1c5.replace(/-/g,"_")];}};(function(){var _1d9=djConfig.extraLocale;if(_1d9){if(!_1d9 instanceof Array){_1d9=[_1d9];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_1dd,_1de){req(m,b,_1dd,_1de);if(_1dd){return;}for(var i=0;i<_1d9.length;i++){req(m,b,_1d9[i],_1de);}};}})();dojo.i18n._searchLocalePath=function(_1e0,down,_1e2){_1e0=dojo.i18n.normalizeLocale(_1e0);var _1e3=_1e0.split("-");var _1e4=[];for(var i=_1e3.length;i>0;i--){_1e4.push(_1e3.slice(0,i).join("-"));}_1e4.push(false);if(down){_1e4.reverse();}for(var j=_1e4.length-1;j>=0;j--){var loc=_1e4[j]||"ROOT";var stop=_1e2(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_1e9,_1ea){function preload(_1eb){_1eb=dojo.i18n.normalizeLocale(_1eb);dojo.i18n._searchLocalePath(_1eb,true,function(loc){for(var i=0;i<_1ea.length;i++){if(_1ea[i]==loc){dojo["require"](_1e9+"_"+loc);return true;}}return false;});};preload();var _1ee=djConfig.extraLocale||[];for(var i=0;i<_1ee.length;i++){preload(_1ee[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,"class":"dijitContentPane",postCreate:function(){this.domNode.title="";if(this.preload){this._loadCheck();}var _1f0=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_1f0);this.errorMessage=dojo.string.substitute(this.errorMessage,_1f0);dojo.addClass(this.domNode,this["class"]);},startup:function(){if(!this._started){this._loadCheck();this._started=true;}},refresh:function(){return this._prepareLoad(true);},setHref:function(href){this.href=href;return this._prepareLoad();},setContent:function(data){if(!this._isDownloaded){this.href="";this._onUnloadHandler();}this._setContent(data||"");this._isDownloaded=false;if(this.parseOnLoad){this._createSubWidgets();}this._onLoadHandler();},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},destroy:function(){if(this._beingDestroyed){return;}this._onUnloadHandler();this._beingDestroyed=true;dijit.layout.ContentPane.superclass.destroy.call(this);},resize:function(size){dojo.marginBox(this.domNode,size);},_prepareLoad:function(_1f4){this.cancel();this.isLoaded=false;this._loadCheck(_1f4);},_loadCheck:function(_1f5){var _1f6=((this.open!==false)&&(this.domNode.style.display!="none"));if(this.href&&(_1f5||(this.preload&&!this._xhrDfd)||(this.refreshOnShow&&_1f6&&!this._xhrDfd)||(!this.isLoaded&&_1f6&&!this._xhrDfd))){this._downloadExternalContent();}},_downloadExternalContent:function(){this._onUnloadHandler();this._setContent(this.onDownloadStart.call(this));var self=this;var _1f8={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_1f8,this.ioArgs);}var hand=this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_1f8);hand.addCallback(function(html){try{self.onDownloadEnd.call(self);self._isDownloaded=true;self.setContent.call(self,html);}catch(err){self._onError.call(self,"Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.cancelled){self._onError.call(self,"Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function(){this.isLoaded=true;try{this.onLoad.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code");}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();try{this.onUnload.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code");}},_setContent:function(cont){this.destroyDescendants();try{var node=this.containerNode||this.domNode;while(node.firstChild){dojo._destroyElement(node.firstChild);}if(typeof cont=="string"){if(this.extractContent){match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}node.innerHTML=cont;}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}}catch(e){var _1ff=this.onContentError(e);try{node.innerHTML=_1ff;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}}},_onError:function(type,err,_202){var _203=this["on"+type+"Error"].call(this,err);if(_202){console.error(_202,err);}else{if(_203){this._setContent.call(this,_203);}}},_createSubWidgets:function(){var _204=this.containerNode||this.domNode;try{dojo.parser.parse(_204,true);}catch(e){this._onError("Content",e,"Couldn't create widgets in "+this.id+(this.href?" from "+this.href:""));}},onLoad:function(e){},onUnload:function(e){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_207){},onDownloadError:function(_208){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form._FormMixin",null,{execute:function(_209){},onCancel:function(){},onExecute:function(){},templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onsubmit:_onSubmit' enctype='multipart/form-data'></form>",_onSubmit:function(e){dojo.stopEvent(e);this.onExecute();this.execute(this.getValues());},submit:function(){this.containerNode.submit();},setValues:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_20d){if(!_20d.name){return;}var _20e=map[_20d.name]||(map[_20d.name]=[]);_20e.push(_20d);});for(var name in map){var _210=map[name],_211=dojo.getObject(name,false,obj);if(!dojo.isArray(_211)){_211=[_211];}if(_210[0].setChecked){dojo.forEach(_210,function(w,i){w.setChecked(dojo.indexOf(_211,w.value)!=-1);});}else{dojo.forEach(_210,function(w,i){w.setValue(_211[i]);});}}},getValues:function(){var obj={};dojo.forEach(this.getDescendants(),function(_217){var _218=_217.getValue?_217.getValue():_217.value;var name=_217.name;if(!name){return;}if(_217.setChecked){if(/Radio/.test(_217.declaredClass)){if(_217.checked){dojo.setObject(name,_218,obj);}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_217.checked){ary.push(_218);}}}else{dojo.setObject(name,_218,obj);}});return obj;},isValid:function(){return dojo.every(this.getDescendants(),function(_21b){return !_21b.isValid||_21b.isValid();});}});dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],null);}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class=dijitDialogUnderlayWrapper id='${id}_underlay'><div class=dijitDialogUnderlay dojoAttachPoint='node'></div></div>",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);},layout:function(){var _21c=dijit.getViewport();var is=this.node.style,os=this.domNode.style;os.top=_21c.t+"px";os.left=_21c.l+"px";is.width=_21c.w+"px";is.height=_21c.h+"px";var _21f=dijit.getViewport();if(_21c.w!=_21f.w){is.width=_21f.w+"px";}if(_21c.h!=_21f.h){is.height=_21f.h+"px";}},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block";}this._resizeHandler=this.connect(window,"onresize","layout");},hide:function(){this.domNode.style.display="none";this.domNode.style.width=this.domNode.style.height="1px";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this.disconnect(this._resizeHandler);},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy();}}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{templateString:null,templateString:"<div class=\"dijitDialog\">\n\t\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\" tabindex=\"0\" waiRole=\"dialog\" title=\"${title}\">\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\">${title}</span>\n\t\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: hide\">\n\t\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\">x</span>\n\t\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n\t<span dojoAttachPoint=\"tabEnd\" dojoAttachEvent=\"onfocus:_cycleFocus\" tabindex=\"0\"></span>\n</div>\n",title:"",duration:400,_lastFocusItem:null,postCreate:function(){dojo.body().appendChild(this.domNode);dijit.Dialog.superclass.postCreate.apply(this,arguments);this.domNode.style.display="none";this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");},onLoad:function(){this._position();dijit.Dialog.superclass.onLoad.call(this);},_setup:function(){this._modalconnects=[];if(this.titleBar){this._moveable=new dojo.dnd.Moveable(this.domNode,{handle:this.titleBar});}this._underlay=new dijit.DialogUnderlay();var node=this.domNode;this._fadeIn=dojo.fx.combine([dojo.fadeIn({node:node,duration:this.duration}),dojo.fadeIn({node:this._underlay.domNode,duration:this.duration,onBegin:dojo.hitch(this._underlay,"show")})]);this._fadeOut=dojo.fx.combine([dojo.fadeOut({node:node,duration:this.duration,onEnd:function(){node.style.display="none";}}),dojo.fadeOut({node:this._underlay.domNode,duration:this.duration,onEnd:dojo.hitch(this._underlay,"hide")})]);},uninitialize:function(){if(this._underlay){this._underlay.destroy();}},_position:function(){var _221=dijit.getViewport();var mb=dojo.marginBox(this.domNode);var _223=this.domNode.style;_223.left=(_221.l+(_221.w-mb.w)/2)+"px";_223.top=(_221.t+(_221.h-mb.h)/2)+"px";},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.titleBar.focus();},_onKey:function(evt){if(evt.keyCode){var node=evt.target;if(node==this.titleBar&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.keyCode==dojo.keys.ESCAPE){this.hide();}else{return;}}node=node.parentNode;}if(evt.keyCode!=dojo.keys.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this.titleBar.focus();}catch(e){}}}}}},show:function(){if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(document.documentElement,"onkeypress",this,"_onKey"));var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this._modalconnects.push(dojo.connect(this.containerNode,ev,this,"_findLastFocus"));dojo.style(this.domNode,"opacity",0);this.domNode.style.display="block";this._loadCheck();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);setTimeout(dojo.hitch(this,function(){dijit.focus(this.titleBar);}),50);},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];dijit.focus(this._savedFocus);},layout:function(){if(this.domNode.style.display=="block"){this._underlay.layout();this._position();}}});dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{title:"",_lastFocusItem:null,templateString:null,templateString:"<div id=\"${id}\" class=\"dijitTooltipDialog\" >\n\t<div class=\"dijitTooltipContainer\">\n\t\t<div  class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"0\" waiRole=\"dialog\"></div>\n\t</div>\n\t<span dojoAttachPoint=\"tabEnd\" tabindex=\"0\" dojoAttachEvent=\"focus:_cycleFocus\"></span>\n\t<div class=\"dijitTooltipConnector\" ></div>\n</div>\n",postCreate:function(){dijit.TooltipDialog.superclass.postCreate.apply(this,arguments);this.connect(this.containerNode,"onkeypress","_onKey");var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this.connect(this.containerNode,ev,"_findLastFocus");this.containerNode.title=this.title;},orient:function(_22a){this.domNode.className="dijitTooltipDialog "+" dijitTooltipAB"+(_22a.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_22a.charAt(0)=="T"?"Below":"Above");},onOpen:function(pos){this.orient(pos.corner);this._loadCheck();this.containerNode.focus();},_onKey:function(evt){if(evt.keyCode==dojo.keys.ESCAPE){this.onCancel();}else{if(evt.target==this.containerNode&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}}},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.containerNode.focus();}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.doc["selection"]){return dojo.doc.selection.type.toLowerCase();}else{var _22f="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _231=oSel.getRangeAt(0);if((_231.startContainer==_231.endContainer)&&((_231.endOffset-_231.startOffset)==1)&&(_231.startContainer.nodeType!=3)){_22f="control";}}return _22f;}},getSelectedText:function(){if(dojo.doc["selection"]){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _232=dojo.global.getSelection();if(_232){return _232.toString();}}},getSelectedHtml:function(){if(dojo.doc["selection"]){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _233=dojo.global.getSelection();if(_233&&_233.rangeCount){var frag=_233.getRangeAt(0).cloneContents();var div=document.createElement("div");div.appendChild(frag);return div.innerHTML;}return null;}},getSelectedElement:function(){if(this.getType()=="control"){if(dojo.doc["selection"]){var _236=dojo.doc.selection.createRange();if(_236&&_236.item){return dojo.doc.selection.createRange().item(0);}}else{var _237=dojo.global.getSelection();return _237.anchorNode.childNodes[_237.anchorOffset];}}},getParentElement:function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.doc["selection"]){return dojo.doc.selection.createRange().parentElement();}else{var _239=dojo.global.getSelection();if(_239){var node=_239.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}},hasAncestorElement:function(_23b){return (this.getAncestorElement.apply(this,arguments)!=null);},getAncestorElement:function(_23c){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _nlc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _tlc=String(tags[i]).toLowerCase();if(_nlc==_tlc){return _tlc;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},remove:function(){var _s=dojo.doc.selection;if(_s){if(_s.type.toLowerCase()!="none"){_s.clear();}return _s;}else{_s=dojo.global.getSelection();_s.deleteFromDocument();return _s;}},selectElementChildren:function(_246,_247){var _248=dojo.global;var _249=dojo.doc;_246=dojo.byId(_246);if(_249.selection&&dojo.body().createTextRange){var _24a=_246.ownerDocument.body.createTextRange();_24a.moveToElementText(_246);if(!_247){_24a.select();}}else{if(_248["getSelection"]){var _24b=_248.getSelection();if(_24b["setBaseAndExtent"]){_24b.setBaseAndExtent(_246,0,_246,_246.innerText.length-1);}else{if(_24b["selectAllChildren"]){_24b.selectAllChildren(_246);}}}}},selectElement:function(_24c,_24d){var _24e=dojo.doc;_24c=dojo.byId(_24c);if(_24e.selection&&dojo.body().createTextRange){try{var _24f=dojo.body().createControlRange();_24f.addElement(_24c);if(!_24d){_24f.select();}}catch(e){this.selectElementChildren(_24c,_24d);}}else{if(dojo.global["getSelection"]){var _250=dojo.global.getSelection();if(_250["removeAllRanges"]){var _24f=_24e.createRange();_24f.selectNode(_24c);_250.removeAllRanges();_250.addRange(_24f);}}}}});}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!djConfig["useXDomain"]||djConfig["allowXdRichTextSave"]){if(dojo._post_load){(function(){var _251=dojo.doc.createElement("textarea");_251.id="dijit._editor.RichText.savedContent";var s=_251.style;s.display="none";s.position="absolute";s.top="-100px";s.left="-100px";s.height="3px";s.width="3px";dojo.body().appendChild(_251);})();}else{try{dojo.doc.write("<textarea id=\"dijit._editor.RichText.savedContent\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",[dijit._Widget],{preamble:function(){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this._keyHandlers={};this.contentPreFilters.push(dojo.hitch(this,"_preFixUrlAttributes"));if(dojo.isMoz){this.contentPreFilters.push(this._fixContentForMoz);}this.onLoadDeferred=new dojo.Deferred();},inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",_content:"",height:"",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",onLoadDeferred:null,postCreate:function(){dojo.publish("dijit._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var ctrl=this.KEY_CTRL;var exec=function(cmd,arg){return arguments.length==1?function(){this.execCommand(cmd);}:function(){this.execCommand(cmd,arg);};};this.addKeyHandler("b",ctrl,exec("bold"));this.addKeyHandler("i",ctrl,exec("italic"));this.addKeyHandler("u",ctrl,exec("underline"));this.addKeyHandler("a",ctrl,exec("selectall"));this.addKeyHandler("s",ctrl,function(){this.save(true);});this.addKeyHandler("1",ctrl,exec("formatblock","h1"));this.addKeyHandler("2",ctrl,exec("formatblock","h2"));this.addKeyHandler("3",ctrl,exec("formatblock","h3"));this.addKeyHandler("4",ctrl,exec("formatblock","h4"));this.addKeyHandler("\\",ctrl,exec("insertunorderedlist"));if(!dojo.isIE){this.addKeyHandler("Z",ctrl,exec("redo"));}},events:["onKeyPress","onKeyDown","onKeyUp","onClick"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(this._editorCommandsLocalized){return;}this._editorCommandsLocalized=true;var _257=["p","pre","address","h1","h2","h3","h4","h5","h6","ol","div","ul"];var _258="",_259,i=0;while(_259=_257[i++]){if(_259.charAt(1)!="l"){_258+="<"+_259+"><span>content</span></"+_259+">";}else{_258+="<"+_259+"><li>content</li></"+_259+">";}}var div=document.createElement("div");div.style.position="absolute";div.style.left="-2000px";div.style.top="-2000px";document.body.appendChild(div);div.innerHTML=_258;var node=div.firstChild;while(node){dijit._editor.selection.selectElement(node.firstChild);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[node.firstChild]);var _25d=node.tagName.toLowerCase();this._local2NativeFormatNames[_25d]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_25d]]=_25d;node=node.nextSibling;}document.body.removeChild(div);},open:function(_25e){if((!this.onLoadDeferred)||(this.onLoadDeferred.fired>=0)){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish("dijit._editor.RichText::open",[this]);this._content="";if((arguments.length==1)&&(_25e["nodeName"])){this.domNode=_25e;}if((this.domNode["nodeName"])&&(this.domNode.nodeName.toLowerCase()=="textarea")){this.textarea=this.domNode;this.name=this.textarea.name;var html=this._preFilterContent(this.textarea.value);this.domNode=dojo.doc.createElement("div");this.domNode.setAttribute("widgetId",this.id);this.textarea.removeAttribute("widgetId");this.domNode.cssText=this.textarea.cssText;this.domNode.className+=" "+this.textarea.className;dojo.place(this.domNode,this.textarea,"before");var _260=dojo.hitch(this,function(){with(this.textarea.style){display="block";position="absolute";left=top="-1000px";if(dojo.isIE){this.__overflow=overflow;overflow="hidden";}}});if(dojo.isIE){setTimeout(_260,10);}else{_260();}}else{var html=this._preFilterContent(this.getNodeChildrenHtml(this.domNode));this.domNode.innerHTML="";}if(html==""){html="&nbsp;";}var _261=dojo.contentBox(this.domNode);this._oldHeight=_261.h;this._oldWidth=_261.w;this.savedContent=html;if((this.domNode["nodeName"])&&(this.domNode.nodeName=="LI")){this.domNode.innerHTML=" <br>";}this.editingArea=dojo.doc.createElement("div");this.domNode.appendChild(this.editingArea);if(this.name!=""&&(!djConfig["useXDomain"]||djConfig["allowXdRichTextSave"])){var _262=dojo.byId("dijit._editor.RichText.savedContent");if(_262.value!=""){var _263=_262.value.split(this._SEPARATOR),i=0,dat;while(dat=_263[i++]){var data=dat.split(":");if(data[0]==this.name){html=data[1];_263.splice(i,1);break;}}}dojo.connect(window,"onbeforeunload",this,"_saveContent");}this.isClosed=false;if(dojo.isIE||dojo.isSafari||dojo.isOpera){var ifr=this.iframe=dojo.doc.createElement("iframe");ifr.src="javascript:void(0)";this.editorObject=ifr;ifr.style.border="none";ifr.style.width="100%";ifr.frameBorder=0;this.editingArea.appendChild(ifr);this.window=ifr.contentWindow;this.document=this.window.document;this.document.open();this.document.write(this._getIframeDocTxt(html));this.document.close();if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}if(dojo.isIE){this._localizeEditorCommands();}this.onLoad();}else{this._drawIframe(html);}if(this.domNode.nodeName=="LI"){this.domNode.lastChild.style.marginTop="-1.2em";}this.domNode.className+=" RichTextEditable";},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(html){var _cs=dojo.getComputedStyle(this.domNode);if(!this.height){html="<div>"+html+"</div>";}var font=[_cs.fontWeight,_cs.fontSize,_cs.fontFamily].join(" ");var _26b=_cs.lineHeight;if(_26b.indexOf("px")>=0){_26b=parseFloat(_26b)/parseFloat(_cs.fontSize);}else{if(_26b.indexOf("em")>=0){_26b=parseFloat(_26b);}else{_26b="1.0";}}return ["<html><head><style>","body,html {","\tbackground:transparent;","\tpadding: 0;","\tmargin: 0;","}","body{","\ttop:0px; left:0px; right:0px;",((this.height||dojo.isOpera)?"":"position: fixed;"),"\tfont:",font,";","\tmin-height:",this.minHeight,";","\tline-height:",_26b,"}","p{ margin: 1em 0 !important; }",(this.height?"":"body,html{overflow-y:hidden;/*for IE*/} body > div {overflow-x:auto;/*for FF to show vertical scrollbar*/}"+"body > div > *:first-child{ padding-top:0 !important;margin-top: 0px !important;}"+"body > div > *:last-child {"+"\tpadding-bottom:0 !important;"+"\tmargin-bottom: 0px !important;"+"}"),"li > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; } ","li{ min-height:1.2em; }","</style>",this._applyEditingAreaStyleSheets(),"</head><body>"+html+"</body></html>"].join("");},_drawIframe:function(html){if(!this.iframe){var ifr=this.iframe=dojo.doc.createElement("iframe");var ifrs=ifr.style;ifrs.border="none";ifrs.lineHeight="0";ifrs.verticalAlign="bottom";this.editorObject=this.iframe;}this.iframe.style.width=this.inheritWidth?this._oldWidth:"100%";if(this.height){this.iframe.style.height=this.height;}else{this.iframe.height=this._oldHeight;}if(this.textarea){var _26f=this.srcNodeRef;}else{var _26f=dojo.doc.createElement("div");_26f.style.display="none";_26f.innerHTML=html;this.editingArea.appendChild(_26f);}this.editingArea.appendChild(this.iframe);if(!this.height){var c=dojo.query(">",_26f);var _271=c[0];var _272=c.pop();if(_271){_271.style.marginTop="0px";}if(_272){_272.style.marginBottom="0px";}}var _273=false;var _274=this.iframe.contentDocument;_274.open();_274.write(this._getIframeDocTxt(html));_274.close();var _275=dojo.hitch(this,function(){if(!_273){_273=true;}else{return;}if(!this.editNode){try{if(this.iframe.contentWindow){this.window=this.iframe.contentWindow;this.document=this.iframe.contentWindow.document;}else{if(this.iframe.contentDocument){this.window=this.iframe.contentDocument.window;this.document=this.iframe.contentDocument;}}if(!this.document.body){throw "Error";}}catch(e){setTimeout(_275,500);_273=false;return;}dojo._destroyElement(_26f);this.document.designMode="on";try{var _276=(new dojo._Url(dojo.doc.location)).host;if(dojo.doc.domain!=_276){this.document.domain=dojo.doc.domain;}}catch(e){}this.onLoad();}else{dojo._destroyElement(_26f);this.editNode.innerHTML=html;this.onDisplayChanged();}this._preDomFilterContent(this.editNode);});_275();},_applyEditingAreaStyleSheets:function(){var _277=[];if(this.styleSheets){_277=this.styleSheets.split(";");this.styleSheets="";}_277=_277.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while(url=_277[i++]){var _27b=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_27b);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_27b+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){console.debug("dijit._editor.RichText.addStyleSheet: Style sheet "+url+" is already applied to the editing area!");return;}this.editingAreaStyleSheets.push(url);if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _27f=this.document.createElement("link");with(_27f){rel="stylesheet";type="text/css";href=url;}head.appendChild(_27f);}},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _282=dojo.indexOf(this.editingAreaStyleSheets,url);if(_282==-1){console.debug("dijit._editor.RichText.removeStyleSheet: Style sheet "+url+" is not applied to the editing area so it can not be removed!");return;}delete this.editingAreaStyleSheets[_282];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:["styleWithCSS","insertBrOnReturn"],setDisabled:function(_283){if(dojo.isIE||dojo.isSafari||dojo.isOpera){this.editNode.contentEditable=!_283;}else{if(_283){this._mozSettings=[false,this.blockNodeForEnter==="BR"];}this.document.designMode=(_283?"off":"on");if(!_283){dojo.forEach(this._mozSettingProps,function(s,i){this.document.execCommand(s,false,this._mozSettings[i]);},this);}}this.disabled=_283;},_isResized:function(){return false;},onLoad:function(e){this.isLoaded=true;if(this.height){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;}this.editNode.contentEditable=true;this._preDomFilterContent(this.editNode);var _287=this.events.concat(this.captureEvents),i=0,et;while(et=_287[i++]){this.connect(this.document,et.toLowerCase(),et);}if(!this.height){this.connect(this,"onNormalizedDisplayChanged","_updateHeight");}if(!dojo.isIE){try{this.document.execCommand("styleWithCSS",false,false);}catch(e2){}}else{this.editNode.style.zoom=1;}if(this.focusOnLoad){this.focus();}this.onDisplayChanged(e);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},onKeyDown:function(e){if(dojo.isIE){if(e.keyCode===dojo.keys.TAB){dojo.stopEvent(e);this.execCommand((e.shiftKey?"outdent":"indent"));}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}},onKeyUp:function(e){return;},KEY_CTRL:1,KEY_SHIFT:2,onKeyPress:function(e){var _28d=e.ctrlKey?this.KEY_CTRL:0|e.shiftKey?this.KEY_SHIFT:0;var key=e.keyChar||e.keyCode;if(this._keyHandlers[key]){var _28f=this._keyHandlers[key],i=0,h;while(h=_28f[i++]){if(_28d==h.modifiers){if(!h.handler.apply(this,arguments)){e.preventDefault();}break;}}}setTimeout(dojo.hitch(this,function(){this.onKeyPressed(e);}),1);},addKeyHandler:function(key,_293,_294){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({modifiers:_293||0,handler:_294});},onKeyPressed:function(e){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onBlur:function(e){var _c=this.getValue(true);if(_c!=this.savedContent){this.onChange(_c);this.savedContent=_c;}},_initialFocus:true,_onFocus:function(e){if((dojo.isMoz)&&(this._initialFocus)){this._initialFocus=false;if(this.editNode.innerHTML.replace(/^\s+|\s+$/g,"")=="&nbsp;"){this.placeCursorAtStart();}}},blur:function(){if(this.iframe){this.window.blur();}else{if(this.editNode){this.editNode.blur();}}},focus:function(){if(this.iframe&&!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){dijit.focus(this.editNode);}else{console.debug("Have no idea how to focus into the editor!");}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(e){if(!this._updateTimer){if(this._updateTimer){clearTimeout(this._updateTimer);}this._updateTimer=setTimeout(dojo.hitch(this,this.onNormalizedDisplayChanged),this.updateInterval);}},onNormalizedDisplayChanged:function(){this._updateTimer=null;},onChange:function(_29b){},_normalizeCommand:function(cmd){var _29d=cmd.toLowerCase();if(_29d=="formatblock"){if(dojo.isSafari){_29d="heading";}}else{if(_29d=="hilitecolor"&&!dojo.isMoz){_29d="backcolor";}}return _29d;},queryCommandAvailable:function(_29e){var ie=1;var _2a0=1<<1;var _2a1=1<<2;var _2a2=1<<3;var _2a3=1<<4;var _2a4=dojo.isSafari;function isSupportedBy(_2a5){return {ie:Boolean(_2a5&ie),mozilla:Boolean(_2a5&_2a0),safari:Boolean(_2a5&_2a1),safari420:Boolean(_2a5&_2a3),opera:Boolean(_2a5&_2a2)};};var _2a6=null;switch(_29e.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":_2a6=isSupportedBy(_2a0|ie|_2a1|_2a2);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":_2a6=isSupportedBy(_2a0|ie|_2a2|_2a3);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_2a6=isSupportedBy(ie);break;case "cut":case "copy":case "paste":_2a6=isSupportedBy(ie|_2a0|_2a3);break;case "inserttable":_2a6=isSupportedBy(_2a0|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_2a6=isSupportedBy(ie|_2a0);break;default:return false;}return (dojo.isIE&&_2a6.ie)||(dojo.isMoz&&_2a6.mozilla)||(dojo.isSafari&&_2a6.safari)||(_2a4&&_2a6.safari420)||(dojo.isOpera&&_2a6.opera);},execCommand:function(_2a7,_2a8){var _2a9;this.focus();_2a7=this._normalizeCommand(_2a7);if(_2a8!=undefined){if(_2a7=="heading"){throw new Error("unimplemented");}else{if((_2a7=="formatblock")&&dojo.isIE){_2a8="<"+_2a8+">";}}}if(_2a7=="inserthtml"){_2a8=this._preFilterContent(_2a8);if(dojo.isIE){var _2aa=this.document.selection.createRange();_2aa.pasteHTML(_2a8);_2aa.select();_2a9=true;}else{if(dojo.isMoz&&!_2a8.length){dojo.withGlobal(this.window,"remove",dijit._editor.selection);_2a9=true;}else{_2a9=this.document.execCommand(_2a7,false,_2a8);}}}else{if((_2a7=="unlink")&&(this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isSafari)){var _2ab=this.window.getSelection();var a=dojo.withGlobal(this.window,"getAncestorElement",dijit._editor.selection,["a"]);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[a]);_2a9=this.document.execCommand("unlink",false,null);}else{if((_2a7=="hilitecolor")&&(dojo.isMoz)){_2a9=this.document.execCommand(_2a7,false,_2a8);}else{if((dojo.isIE)&&((_2a7=="backcolor")||(_2a7=="forecolor"))){_2a8=arguments.length>1?_2a8:null;_2a9=this.document.execCommand(_2a7,false,_2a8);}else{_2a8=arguments.length>1?_2a8:null;if(_2a8||_2a7!="createlink"){_2a9=this.document.execCommand(_2a7,false,_2a8);}}}}}this.onDisplayChanged();return _2a9;},queryCommandEnabled:function(_2ad){_2ad=this._normalizeCommand(_2ad);if(dojo.isMoz||dojo.isSafari){if(_2ad=="unlink"){return dojo.withGlobal(this.window,"hasAncestorElement",dijit._editor.selection,["a"]);}else{if(_2ad=="inserttable"){return true;}}}if(dojo.isSafari){if(_2ad=="copy"){_2ad="cut";}else{if(_2ad=="paste"){return true;}}}var elem=(dojo.isIE)?this.document.selection.createRange():this.document;return elem.queryCommandEnabled(_2ad);},queryCommandState:function(_2af){_2af=this._normalizeCommand(_2af);return this.document.queryCommandState(_2af);},queryCommandValue:function(_2b0){_2b0=this._normalizeCommand(_2b0);if(dojo.isIE&&_2b0=="formatblock"){return this._local2NativeFormatNames[this.document.queryCommandValue(_2b0)];}return this.document.queryCommandValue(_2b0);},placeCursorAtStart:function(){this.focus();var _2b1=false;if(dojo.isMoz){var _2b2=this.editNode.firstChild;while(_2b2){if(_2b2.nodeType==3){if(_2b2.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_2b1=true;dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[_2b2]);break;}}else{if(_2b2.nodeType==1){_2b1=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[_2b2]);break;}}_2b2=_2b2.nextSibling;}}else{_2b1=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);}if(_2b1){dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[true]);}},placeCursorAtEnd:function(){this.focus();var _2b3=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_2b3=true;dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last]);break;}}else{if(last.nodeType==1){_2b3=true;if(last.lastChild){dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last.lastChild]);}else{dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last]);}break;}}last=last.previousSibling;}}else{_2b3=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);}if(_2b3){dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[false]);}},getValue:function(_2b5){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_2b5);},setValue:function(html){if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);if(this.isClosed){this.domNode.innerHTML=html;this._preDomFilterContent(this.domNode);}else{this.editNode.innerHTML=html;this._preDomFilterContent(this.editNode);}}},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(dojo.isMoz&&!html){html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}},_preFilterContent:function(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_2be){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_2be&&dom["cloneNode"]){dom=dom.cloneNode(true);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}var ec=this.getNodeChildrenHtml(dom);if(!ec.replace(/^(?:\s|\xA0)+/g,"").replace(/(?:\s|\xA0)+$/g,"").length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_lastHeight:0,_updateHeight:function(){if(!this.isLoaded){return;}if(this.height){return;}var _2c2=dojo.marginBox(this.editNode).h;if(dojo.isOpera){_2c2=this.editNode.scrollHeight;}if(!_2c2){_2c2=dojo.marginBox(this.document.body).h;}if(_2c2==0){console.debug("Can not figure out the height of the editing area!");return;}if(_2c2!=this._lastHeight){this._lastHeight=_2c2;dojo.marginBox(this.editorObject,{h:this._lastHeight});}},_saveContent:function(e){var _2c4=dojo.byId("dijit._editor.RichText.savedContent");_2c4.value+=this._SEPARATOR+this.name+":"+this.getValue();},escapeXml:function(str,_2c6){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_2c6){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){switch(node.nodeType){case 1:var _2c8="<"+node.tagName.toLowerCase();if(dojo.isMoz){if(node.getAttribute("type")=="_moz"){node.removeAttribute("type");}if(node.getAttribute("_moz_dirty")!=undefined){node.removeAttribute("_moz_dirty");}}var _2c9=[];if(dojo.isIE){var s=node.outerHTML;s=s.substr(0,s.indexOf(">"));s=s.replace(/(?:['"])[^"']*\1/g,"");var reg=/([^\s=]+)=/g;var m,key;while((m=reg.exec(s))!=undefined){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_2c9.push([key,node.getAttribute("_djrealurl")]);continue;}}if(key=="class"){_2c9.push([key,node.className]);}else{_2c9.push([key,node.getAttribute(key)]);}}}}else{var attr,i=0,_2d0=node.attributes;while(attr=_2d0[i++]){if(attr.name.substr(0,3)!="_dj"){var v=attr.value;if(attr.name=="src"||attr.name=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_2c9.push([attr.name,v]);}}}_2c9.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});i=0;while(attr=_2c9[i++]){_2c8+=" "+attr[0]+"=\""+attr[1]+"\"";}if(node.childNodes.length){_2c8+=">"+this.getNodeChildrenHtml(node)+"</"+node.tagName.toLowerCase()+">";}else{_2c8+=" />";}break;case 3:var _2c8=this.escapeXml(node.nodeValue,true);break;case 8:var _2c8="<!--"+this.escapeXml(node.nodeValue,true)+"-->";break;default:var _2c8="Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName;}return _2c8;},getNodeChildrenHtml:function(dom){var out="";if(!dom){return out;}var _2d6=dom["childNodes"]||dom;var i=0;var node;while(node=_2d6[i++]){out+=this.getNodeHtml(node);}return out;},close:function(save,_2da){if(this.isClosed){return false;}if(!arguments.length){save=true;}this._content=this.getValue();var _2db=(this.savedContent!=this._content);if(this.interval){clearInterval(this.interval);}if(this.textarea){with(this.textarea.style){position="";left=top="";if(dojo.isIE){overflow=this.__overflow;this.__overflow=null;}}if(save){this.textarea.value=this._content;}else{this.textarea.value=this.savedContent;}dojo._destroyElement(this.domNode);this.domNode=this.textarea;}else{if(save){this.domNode.innerHTML=this._content;}else{this.domNode.innerHTML=this.savedContent;}}dojo.removeClass(this.domNode,"RichTextEditable");this.isClosed=true;this.isLoaded=false;delete this.editNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;return _2db;},destroyRendering:function(){},destroy:function(){this.destroyRendering();if(!this.isClosed){this.close(false);}dijit._editor.RichText.superclass.destroy.call(this);},_fixContentForMoz:function(html){html=html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2");html=html.replace(/<(\/)?em([ \>])/gi,"<$1i$2");return html;},_srcInImgRegex:/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,_hrefInARegex:/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,_preFixUrlAttributes:function(html){html=html.replace(this._hrefInARegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");html=html.replace(this._srcInImgRegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");return html;}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _2e0=dijit.byId(id);return _2e0.isContainer?_2e0:null;}}return null;},_getSibling:function(_2e1){var node=this.domNode;do{node=node[_2e1+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");}});dojo.declare("dijit._Container",null,{isContainer:true,addChild:function(_2e4,_2e5){var _2e6=this.containerNode||this.domNode;if(typeof _2e5=="undefined"){_2e5="last";}dojo.place(_2e4.domNode,_2e6,_2e5);},removeChild:function(_2e7){var node=_2e7.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode||this.domNode).map(dijit.byNode);},hasChildren:function(){var cn=this.containerNode||this.domNode;return !!this._firstElement(cn);}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<div class=\"dijit dijitToolbar\" waiRole=\"toolbar\" tabIndex=\"-1\" dojoAttachPoint=\"containerNode\">"+"</div>"});dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\"></div>",postCreate:function(){dojo.setSelectable(this.domNode,false);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",value:"",name:"",id:"",alt:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,setDisabled:function(_2ec){this.domNode.disabled=this.disabled=_2ec;if(this.focusNode){this.focusNode.disabled=_2ec;}dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","disabled",_2ec);this._setStateClass();},_onMouse:function(_2ed){var _2ee=_2ed.target;if(!this.disabled){switch(_2ed.type){case "mouseover":this._hovering=true;var _2ef,node=_2ee;while(node.nodeType===1&&!(_2ef=node.getAttribute("baseClass"))&&node!=this.domNode){node=node.parentNode;}this.baseClass=_2ef||"dijit"+this.declaredClass.replace(/.*\./g,"");break;case "mouseout":this._hovering=false;this.baseClass=null;break;case "mousedown":this._active=true;var self=this;var _2f2=this.connect(dojo.body(),"onmouseup",function(){self._active=false;self._setStateClass();self.disconnect(_2f2);});break;}this._setStateClass();}},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(base){var _2f4=(this.styleNode||this.domNode).className;var base=this.baseClass||this.domNode.getAttribute("baseClass")||"dijitFormWidget";_2f4=_2f4.replace(new RegExp("\\b"+base+"(Checked)?(Selected)?(Disabled|Active|Focused|Hover)?\\b\\s*","g"),"");var _2f5=[base];function multiply(_2f6){_2f5=_2f5.concat(dojo.map(_2f5,function(c){return c+_2f6;}));};if(this.checked){multiply("Checked");}if(this.selected){multiply("Selected");}if(this.disabled){multiply("Disabled");}else{if(this._active){multiply("Active");}else{if(this._focused){multiply("Focused");}else{if(this._hovering){multiply("Hover");}}}}(this.styleNode||this.domNode).className=_2f4+" "+_2f5.join(" ");},onChange:function(_2f8){},postCreate:function(){this.setValue(this.value,true);this.setDisabled(this.disabled);this._setStateClass();},setValue:function(_2f9,_2fa){this._lastValue=_2f9;dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","valuenow",this.forWaiValuenow());if((this.intermediateChanges||_2fa)&&_2f9!=this._lastValueReported){this._lastValueReported=_2f9;this.onChange(_2f9);}},getValue:function(){return this._lastValue;},undo:function(){this.setValue(this._lastValueReported,false);},_onKeyPress:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){var v=this.getValue();var lv=this._lastValueReported;if(lv!=undefined&&v.toString()!=lv.toString()){this.undo();dojo.stopEvent(e);return false;}}return true;},forWaiValuenow:function(){return this.getValue();}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<div class=\"dijit dijitLeft dijitInline dijitButton\" baseClass=\"${baseClass}\"\n\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseover:_onMouse,onmouseout:_onMouse,onmousedown:_onMouse\"\n\t><div class='dijitRight'\n\t><button class=\"dijitStretch dijitButtonNode dijitButtonContents\" dojoAttachPoint=\"focusNode,titleNode\"\n\t\ttabIndex=\"${tabIndex}\" type=\"${type}\" id=\"${id}\" name=\"${name}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t><div class=\"dijitInline ${iconClass}\"></div\n\t\t><span class=\"dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\">${label}</span\n\t></button\n></div></div>\n",_onButtonClick:function(e){dojo.stopEvent(e);if(this.disabled){return;}return this.onClick(e);},postCreate:function(){if(this.showLabel==false){var _2ff="";this.label=this.containerNode.innerHTML;_2ff=dojo.trim(this.containerNode.innerText||this.containerNode.textContent);this.titleNode.title=_2ff;dojo.addClass(this.containerNode,"dijitDisplayNone");}dijit.form._FormWidget.prototype.postCreate.apply(this,arguments);},onClick:function(e){if(this.type=="submit"){for(var node=this.domNode;node;node=node.parentNode){var _302=dijit.byNode(node);if(_302&&_302._onSubmit){_302._onSubmit(e);break;}if(node.tagName.toLowerCase()=="form"){node.submit();break;}}}},setLabel:function(_303){this.containerNode.innerHTML=this.label=_303;if(dojo.isMozilla){var _304=dojo.getComputedStyle(this.domNode).display;this.domNode.style.display="none";var _305=this;setTimeout(function(){_305.domNode.style.display=_304;},1);}if(this.showLabel==false){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent);}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<div class=\"dijit dijitLeft dijitInline dijitDropDownButton\" baseClass=\"dijitDropDownButton\"\n\tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onmousedown:_onMouse,onclick:_onArrowClick,onkeypress:_onKey\"\n\t><div class='dijitRight'>\n\t<button tabIndex=\"${tabIndex}\" class=\"dijitStretch dijitButtonNode dijitButtonContents\" type=\"${type}\" id=\"${id}\" name=\"${name}\"\n\t\tdojoAttachPoint=\"focusNode,titleNode\" waiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t><div class=\"dijitInline ${iconClass}\"></div\n\t\t><span class=\"dijitButtonText\" \tdojoAttachPoint=\"containerNode,popupStateNode\"\n\t\tid=\"${id}_label\">${label}</span\n\t\t><span class='dijitA11yDownArrow'>&#9660;</span>\n\t</button>\n</div></div>\n",_fillContent:function(){if(this.srcNodeRef){var _306=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_306[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(!this.dropDown){var _307=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_307);delete this.dropDownContainer;}dojo.body().appendChild(this.dropDown.domNode);this.dropDown.domNode.style.display="none";},_onArrowClick:function(e){if(this.disabled){return;}this._toggleDropDown();},_onKey:function(e){if(this.disabled){return;}if(e.keyCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.display=="none"){dojo.stopEvent(e);return this._toggleDropDown();}}},_onBlur:function(){dijit.popup.closeAll();},_toggleDropDown:function(){if(this.disabled){return;}dijit.focus(this.popupStateNode);var _30a=this.dropDown;if(!_30a){return false;}if(!_30a.isShowingNow){if(_30a.href&&!_30a.isLoaded){var self=this;var _30c=dojo.connect(_30a,"onLoad",function(){dojo.disconnect(_30c);self._openDropDown();});_30a._loadCheck(true);return;}else{this._openDropDown();}}else{dijit.popup.closeAll();this._opened=false;}},_openDropDown:function(){var _30d=this.dropDown;var _30e=_30d.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_30d,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){dijit.popup.closeAll();self.focus();},onCancel:function(){dijit.popup.closeAll();self.focus();},onClose:function(){_30d.domNode.style.width=_30e;self.popupStateNode.removeAttribute("popupActive");}});if(this.domNode.offsetWidth>_30d.domNode.offsetWidth){var _310=null;if(!this.isLeftToRight()){_310=_30d.domNode.parentNode;var _311=_310.offsetLeft+_310.offsetWidth;}dojo.marginBox(_30d.domNode,{w:this.domNode.offsetWidth});if(_310){_310.style.left=_311-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_30d.focus){_30d.focus();}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft dijitComboButton'  baseClass='dijitComboButton'\n\tid=\"${id}\" name=\"${name}\" cellspacing='0' cellpadding='0'\n\tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onmousedown:_onMouse\">\n\t<tr>\n\t\t<td\tclass=\"dijitStretch dijitButtonContents dijitButtonNode\"\n\t\t\ttabIndex=\"${tabIndex}\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\">\n\t\t\t<div class=\"dijitInline ${iconClass}\"></div>\n\t\t\t<span class=\"dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\">${label}</span>\n\t\t</td>\n\t\t<td class='dijitReset dijitRight dijitButtonNode dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\n\t\t\tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onmousedown:_onMouse,ondijitclick:_onArrowClick, onkeypress:_onKey\"\n\t\t\tbaseClass=\"dijitComboButtonDownArrow\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\ttabIndex=\"${tabIndex}\"\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t><div waiRole=\"presentation\">&#9660;</div>\n\t</td></tr>\n</table>\n",optionsTitle:"",baseClass:"dijitComboButton"});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,onClick:function(evt){this.setChecked(!this.checked);},setChecked:function(_313){this.checked=_313;this._setStateClass();this.onChange(_313);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function(args,node){if(args){dojo.mixin(this,args);}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,queryCommand:null,command:"",commandArg:null,useDefaultCommand:true,buttonClass:dijit.form.Button,updateInterval:200,_initButton:function(){if(this.command.length){var _316=this.editor.commands[this.command];var _317=this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _318={label:_316,showLabel:false,iconClass:_317,dropDown:this.dropDown};this.button=new this.buttonClass(_318);}}},updateState:function(){var _e=this.editor;var _c=this.command;if(!_e){return;}if(!_e.isLoaded){return;}if(!_c.length){return;}if(this.button){try{var _31b=_e.queryCommandEnabled(_c);this.button.setDisabled(!_31b);if(this.button.setChecked){this.button.setChecked(_e.queryCommandState(_c));}}catch(e){console.debug(e);}}},setEditor:function(_31c){this.editor=_31c;this._initButton();if((this.command.length)&&(!this.editor.queryCommandAvailable(this.command))){if(this.button){this.button.domNode.style.display="none";}}if(this.button&&this.useDefaultCommand){dojo.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}dojo.connect(this.editor,"onNormalizedDisplayChanged",this,"updateState");},setToolbar:function(_31d){if(this.button){_31d.addChild(this.button);}}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",[dijit._editor.RichText,dijit._Container],{plugins:null,preamble:function(){if(this.plugins){this.plugins=this.plugins.slice(0);}else{this.plugins=["cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent"];}this._plugins=[];},toolbar:null,postCreate:function(){dijit.Editor.superclass.postCreate.apply(this,arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar();dojo.place(this.toolbar.domNode,this.editingArea,"before");}dojo.forEach(this.plugins,this.addPlugin,this);},destroy:function(){dojo.forEach(this._plugins,function(p){if(p.destroy){p.destroy();}});this._plugins=[];this.inherited("destroy",arguments);},addPlugin:function(_31f,_320){var args=dojo.isString(_31f)?{name:_31f}:_31f;if(!args.setEditor){var o={"args":args,"plugin":null};dojo.publish("dijit.Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.debug("Can not find plugin",_31f);return;}_31f=o.plugin;}if(arguments.length>1){this._plugins[_320]=_31f;}else{this._plugins.push(_31f);}_31f.setEditor(this);if(dojo.isFunction(_31f.setToolbar)){_31f.setToolbar(this.toolbar);}}});dojo.subscribe("dijit.Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _p=dijit._editor._Plugin;switch(args.name){case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":p=new _p({command:args.name});break;case "bold":case "italic":case "underline":case "strikethrough":p=new _p({buttonClass:dijit.form.ToggleButton,command:args.name});break;case "|":p=new _p({button:new dijit.ToolbarSeparator()});break;case "createlink":p=new dijit._editor.plugins.LinkDialog();break;}o.plugin=p;});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_329){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_329&&_329.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(a,re,_32d){if(!(a instanceof Array)){return re(a);}var b=[];for(var i=0;i<a.length;i++){b.push(re(a[i]));}return dojo.regexp.group(b.join("|"),_32d);};dojo.regexp.group=function(_330,_331){return "("+(_331?"?:":"")+_330+")";};}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_332,_333){_333=dojo.mixin({},_333||{});var _334=dojo.i18n.normalizeLocale(_333.locale);var _335=dojo.i18n.getLocalization("dojo.cldr","number",_334);_333.customs=_335;var _336=_333.pattern||_335[(_333.type||"decimal")+"Format"];if(isNaN(_332)){return null;}return dojo.number._applyPattern(_332,_336,_333);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_337,_338,_339){_339=_339||{};var _33a=_339.customs.group;var _33b=_339.customs.decimal;var _33c=_338.split(";");var _33d=_33c[0];_338=_33c[(_337<0)?1:0]||("-"+_33d);if(_338.indexOf("%")!=-1){_337*=100;}else{if(_338.indexOf("\u2030")!=-1){_337*=1000;}else{if(_338.indexOf("\xa4")!=-1){_33a=_339.customs.currencyGroup||_33a;_33b=_339.customs.currencyDecimal||_33b;_338=_338.replace(/\u00a4{1,3}/,function(_33e){var prop=["symbol","currency","displayName"][_33e.length-1];return _339[prop]||_339.currency||"";});}else{if(_338.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _340=dojo.number._numberPatternRE;var _341=_33d.match(_340);if(!_341){throw new Error("unable to find a number expression in pattern: "+_338);}return _338.replace(_340,dojo.number._formatAbsolute(_337,_341[0],{decimal:_33b,group:_33a,places:_339.places}));};dojo.number.round=function(_342,_343,_344){var _345=String(_342).split(".");var _346=(_345[1]&&_345[1].length)||0;if(_346>_343){var _347=Math.pow(10,_343);if(_344>0){_347*=10/_344;_343++;}_342=Math.round(_342*_347)/_347;_345=String(_342).split(".");_346=(_345[1]&&_345[1].length)||0;if(_346>_343){_345[1]=_345[1].substr(0,_343);_342=Number(_345.join("."));}}return _342;};dojo.number._formatAbsolute=function(_348,_349,_34a){_34a=_34a||{};if(_34a.places===true){_34a.places=0;}if(_34a.places===Infinity){_34a.places=6;}var _34b=_349.split(".");var _34c=(_34a.places>=0)?_34a.places:(_34b[1]&&_34b[1].length)||0;if(!(_34a.round<0)){_348=dojo.number.round(_348,_34c,_34a.round);}var _34d=String(Math.abs(_348)).split(".");var _34e=_34d[1]||"";if(_34a.places){_34d[1]=dojo.string.pad(_34e.substr(0,_34a.places),_34a.places,"0",true);}else{if(_34b[1]&&_34a.places!==0){var pad=_34b[1].lastIndexOf("0")+1;if(pad>_34e.length){_34d[1]=dojo.string.pad(_34e,pad,"0",true);}var _350=_34b[1].length;if(_350<_34e.length){_34d[1]=_34e.substr(0,_350);}}else{if(_34d[1]){_34d.pop();}}}var _351=_34b[0].replace(",","");pad=_351.indexOf("0");if(pad!=-1){pad=_351.length-pad;if(pad>_34d[0].length){_34d[0]=dojo.string.pad(_34d[0],pad);}if(_351.indexOf("#")==-1){_34d[0]=_34d[0].substr(_34d[0].length-pad);}}var _352=_34b[0].lastIndexOf(",");var _353,_354;if(_352!=-1){_353=_34b[0].length-_352-1;var _355=_34b[0].substr(0,_352);_352=_355.lastIndexOf(",");if(_352!=-1){_354=_355.length-_352-1;}}var _356=[];for(var _357=_34d[0];_357;){var off=_357.length-_353;_356.push((off>0)?_357.substr(off):_357);_357=(off>0)?_357.slice(0,off):"";if(_354){_353=_354;delete _354;}}_34d[0]=_356.reverse().join(_34a.group||",");return _34d.join(_34a.decimal||".");};dojo.number.regexp=function(_359){return dojo.number._parseInfo(_359).regexp;};dojo.number._parseInfo=function(_35a){_35a=_35a||{};var _35b=dojo.i18n.normalizeLocale(_35a.locale);var _35c=dojo.i18n.getLocalization("dojo.cldr","number",_35b);var _35d=_35a.pattern||_35c[(_35a.type||"decimal")+"Format"];var _35e=_35c.group;var _35f=_35c.decimal;var _360=1;if(_35d.indexOf("%")!=-1){_360/=100;}else{if(_35d.indexOf("\u2030")!=-1){_360/=1000;}else{var _361=_35d.indexOf("\xa4")!=-1;if(_361){_35e=_35c.currencyGroup||_35e;_35f=_35c.currencyDecimal||_35f;}}}var _362=_35d.split(";");if(_362.length==1){_362.push("-"+_362[0]);}var re=dojo.regexp.buildGroupRE(_362,function(_364){_364="(?:"+dojo.regexp.escapeString(_364,".")+")";return _364.replace(dojo.number._numberPatternRE,function(_365){var _366={signed:false,separator:_35a.strict?_35e:[_35e,""],fractional:_35a.fractional,decimal:_35f,exponent:false};var _367=_365.split(".");var _368=_35a.places;if(_367.length==1||_368===0){_366.fractional=false;}else{if(typeof _368=="undefined"){_368=_367[1].lastIndexOf("0")+1;}if(_368&&_35a.fractional==undefined){_366.fractional=true;}if(!_35a.places&&(_368<_367[1].length)){_368+=","+_367[1].length;}_366.places=_368;}var _369=_367[0].split(",");if(_369.length>1){_366.groupSize=_369.pop().length;if(_369.length>1){_366.groupSize2=_369.pop().length;}}return "("+dojo.number._realNumberRegexp(_366)+")";});},true);if(_361){re=re.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(_36a,_36b,_36c,_36d){var prop=["symbol","currency","displayName"][_36c.length-1];var _36f=dojo.regexp.escapeString(_35a[prop]||_35a.currency||"");_36b=_36b?"\\s":"";_36d=_36d?"\\s":"";if(!_35a.strict){if(_36b){_36b+="*";}if(_36d){_36d+="*";}return "(?:"+_36b+_36f+_36d+")?";}return _36b+_36f+_36d;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_35e,decimal:_35f,factor:_360};};dojo.number.parse=function(_370,_371){var info=dojo.number._parseInfo(_371);var _373=(new RegExp("^"+info.regexp+"$")).exec(_370);if(!_373){return NaN;}var _374=_373[1];if(!_373[1]){if(!_373[2]){return NaN;}_374=_373[2];info.factor*=-1;}_374=_374.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return Number(_374)*info.factor;};dojo.number._realNumberRegexp=function(_375){_375=_375||{};if(typeof _375.places=="undefined"){_375.places=Infinity;}if(typeof _375.decimal!="string"){_375.decimal=".";}if(typeof _375.fractional=="undefined"||/^0/.test(_375.places)){_375.fractional=[true,false];}if(typeof _375.exponent=="undefined"){_375.exponent=[true,false];}if(typeof _375.eSigned=="undefined"){_375.eSigned=[true,false];}var _376=dojo.number._integerRegexp(_375);var _377=dojo.regexp.buildGroupRE(_375.fractional,function(q){var re="";if(q&&(_375.places!==0)){re="\\"+_375.decimal;if(_375.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_375.places+"}";}}return re;},true);var _37a=dojo.regexp.buildGroupRE(_375.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_375.eSigned})+")";}return "";});var _37c=_376+_377;if(_377){_37c="(?:(?:"+_37c+")|(?:"+_377+"))";}return _37c+_37a;};dojo.number._integerRegexp=function(_37d){_37d=_37d||{};if(typeof _37d.signed=="undefined"){_37d.signed=[true,false];}if(typeof _37d.separator=="undefined"){_37d.separator="";}else{if(typeof _37d.groupSize=="undefined"){_37d.groupSize=3;}}var _37e=dojo.regexp.buildGroupRE(_37d.signed,function(q){return q?"[-+]":"";},true);var _380=dojo.regexp.buildGroupRE(_37d.separator,function(sep){if(!sep){return "(?:0|[1-9]\\d*)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep=="\xa0"){sep="\\s\\xa0";}}var grp=_37d.groupSize,grp2=_37d.groupSize2;if(grp2){var _384="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_384+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_384;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _37e+_380;};}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,templateString:"<div class=\"dijitProgressBar dijitProgressBarEmpty\"\n\t><div waiRole=\"progressbar\" tabindex=\"0\" dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"label\" class=\"dijitProgressBarLabel\">&nbsp;</div\n\t><img dojoAttachPoint=\"inteterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\"\n\t></img\n></div>\n",_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){dijit.ProgressBar.superclass.postCreate.apply(this,arguments);this.inteterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath);this.update();},update:function(_385){dojo.mixin(this,_385||{});var _386=1,_387;if(this.indeterminate){_387="addClass";dijit.wai.removeAttr(this.internalProgress,"waiState","valuenow");}else{_387="removeClass";if(String(this.progress).indexOf("%")!=-1){_386=Math.min(parseFloat(this.progress)/100,1);this.progress=_386*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_386=this.progress/this.maximum;}var text=this.report(_386);this.label.firstChild.nodeValue=text;dijit.wai.setAttr(this.internalProgress,"waiState","valuenow",text);}dojo[_387](this.domNode,"dijitProgressBarIndeterminate");this.internalProgress.style.width=(_386*100)+"%";this.onChange();},report:function(_389){return dojo.number.format(_389,{type:"percent",places:this.places,locale:this.lang});},onChange:function(){}});}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated],{title:"",open:true,duration:250,templateString:"<div class=\"dijitTitlePane\">\n\t<div dojoAttachEvent=\"onclick:toggle,onkeypress: _onTitleKey\" tabindex=\"0\"\n\t\t\twaiRole=\"button\" class=\"dijitTitlePaneTitle\" dojoAttachPoint=\"focusNode\">\n\t\t<span dojoAttachPoint=\"arrowNode\" class=\"dijitInline dijitArrowNode\"><span dojoAttachPoint=\"arrowNodeInner\" class=\"dijit_a11y dijitArrowNodeInner\"></span></span>\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitInlineBox dijitTitleNode\"></span>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\">\n\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" dojoAttachPoint=\"containerNode\" waiRole=\"region\" tabindex=\"-1\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n",postCreate:function(){this.setTitle(this.title);if(!this.open){this.hideNode.style.display=this.wipeNode.style.display="none";}this._setCss();dojo.setSelectable(this.titleNode,false);dijit.TitlePane.superclass.postCreate.apply(this,arguments);dijit.wai.setAttr(this.containerNode,"waiState","titleledby",this.titleNode.id);dijit.wai.setAttr(this.focusNode,"waiState","haspopup","true");var _38a=this.hideNode,_38b=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){_38a.style.display="";}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){_38a.style.display="none";}});},setContent:function(_38c){if(this._wipeOut.status()=="playing"){dijit.layout.ContentPane.prototype.setContent.apply(this,_38c);}else{if(this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});dijit.layout.ContentPane.prototype.setContent.apply(this,arguments);this._wipeIn.play();}},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(_38d){if(_38d.status()=="playing"){_38d.stop();}});this[this.open?"_wipeOut":"_wipeIn"].play();this.open=!this.open;this._loadCheck();this._setCss();},_setCss:function(){var _38e=["dijitClosed","dijitOpen"];var _38f=this.open;dojo.removeClass(this.focusNode,_38e[!_38f+0]);this.focusNode.className+=" "+_38e[_38f+0];this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.keyCode==dojo.keys.ENTER||e.charCode==dojo.keys.SPACE){this._onTitleClick();}else{if(e.keyCode==dojo.keys.DOWN_ARROW){if(this.open){this.containerNode.focus();e.preventDefault();}}}},setTitle:function(_391){this.titleNode.innerHTML=_391;}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this._started=true;if(this.getChildren){dojo.forEach(this.getChildren(),function(_392){_392.startup();});}if(!this.getParent||!this.getParent()){this.resize();this.connect(window,"onresize",function(){this.resize();});}},resize:function(args){var node=this.domNode;if(args){dojo.marginBox(node,args);if(args.t){node.style.top=args.t+"px";}if(args.l){node.style.left=args.l+"px";}}var mb=dojo.mixin(dojo.marginBox(node),args||{});this._contentBox=dijit.layout.marginBox2contentBox(node,mb);this.layout();},layout:function(){}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _39b=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_39e,dim){_39e.resize?_39e.resize(dim):dojo.marginBox(_39e.domNode,dim);dojo.mixin(_39e,dojo.marginBox(_39e.domNode));dojo.mixin(_39e,dim);};dijit.layout.layoutChildren=function(_3a0,dim,_3a2){dim=dojo.mixin({},dim);dojo.addClass(_3a0,"dijitLayoutContainer");dojo.forEach(_3a2,function(_3a3){var elm=_3a3.domNode,pos=_3a3.layoutAlign;var _3a6=elm.style;_3a6.left=dim.l+"px";_3a6.top=dim.t+"px";_3a6.bottom=_3a6.right="auto";dojo.addClass(elm,"dijitAlign"+_39b(pos));if(pos=="top"||pos=="bottom"){size(_3a3,{w:dim.w});dim.h-=_3a3.h;if(pos=="top"){dim.t+=_3a3.h;}else{_3a6.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_3a3,{h:dim.h});dim.w-=_3a3.w;if(pos=="left"){dim.l+=_3a3.w;}else{_3a6.left=dim.l+dim.w+"px";}}else{if(pos=="flood"||pos=="client"){size(_3a3,dim);}}}});};})();}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,_started:false,startup:function(){var _3a7=this.getChildren();dojo.forEach(_3a7,this._setupChild,this);dojo.some(_3a7,function(_3a8){if(_3a8.selected){this.selectedChildWidget=_3a8;}return _3a8.selected;},this);if(!this.selectedChildWidget&&_3a7[0]){this.selectedChildWidget=_3a7[0];this.selectedChildWidget.selected=true;}if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);}dojo.publish(this.id+"-startup",[{children:_3a7,selected:this.selectedChildWidget}]);dijit.layout._LayoutWidget.prototype.startup.apply(this,arguments);this._started=true;},_setupChild:function(page){page.domNode.style.display="none";page.domNode.style.position="relative";return page;},addChild:function(_3aa,_3ab){dijit._Container.prototype.addChild.apply(this,arguments);_3aa=this._setupChild(_3aa);var _3ac=this._started;if(_3ac){this.layout();}if(_3ac){dojo.publish(this.id+"-addChild",[_3aa]);}if(!this.selectedChildWidget&&_3ac){this.selectChild(_3aa);}},removeChild:function(page){dijit._Container.prototype.removeChild.apply(this,arguments);if(this._beingDestroyed){return;}if(this._started){dojo.publish(this.id+"-removeChild",[page]);this.layout();}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _3ae=this.getChildren();if(_3ae.length){this.selectChild(_3ae[0]);}}}},selectChild:function(page){page=dijit.byId(page);if(this.selectedChildWidget!=page){this._transition(page,this.selectedChildWidget);this.selectedChildWidget=page;dojo.publish(this.id+"-selectChild",[page]);}},_transition:function(_3b0,_3b1){if(_3b1){this._hideChild(_3b1);}this._showChild(_3b0);if(this.doLayout&&_3b0.resize){_3b0.resize(this._containerContentBox||this._contentBox);}},forward:function(){var _3b2=this.getChildren();var _3b3=dojo.indexOf(_3b2,this.selectedChildWidget);this.selectChild(_3b2[(_3b3+1)%_3b2.length]);},back:function(){var _3b4=this.getChildren();var _3b5=dojo.indexOf(_3b4,this.selectedChildWidget);this.selectChild(_3b4[(_3b5+_3b4.length-1)%_3b4.length]);},_onKeyPress:function(e){if(e.ctrlKey){switch(e.keyCode){case dojo.keys.PAGE_DOWN:case dojo.keys.PAGE_UP:case dojo.keys.TAB:if((e.keyCode==dojo.keys.PAGE_DOWN)||(e.keyCode==dojo.keys.TAB&&!e.shiftKey)){this.forward();}else{this.back();}dijit.focus(this.selectedChildWidget.domNode);dojo.stopEvent(e);return false;break;default:if((e.keyChar=="w")&&(this.selectedChildWidget.closable)){this.closeChild(this.selectedChildWidget);dojo.stopEvent(e);}}}},layout:function(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._contentBox);}},_showChild:function(page){var _3b8=this.getChildren();page.isFirstChild=(page==_3b8[0]);page.isLastChild=(page==_3b8[_3b8.length-1]);page.selected=true;page.domNode.style.display="";if(page._loadCheck){page._loadCheck();}if(page.onShow){page.onShow();}},_hideChild:function(page){page.selected=false;page.domNode.style.display="none";if(page.onHide){page.onHide();}},closeChild:function(page){var _3bb=page.onClose(this,page);if(_3bb){this.removeChild(page);page.destroy();}},destroy:function(){this._beingDestroyed=true;dijit.layout.StackContainer.superclass.destroy.apply(this,arguments);}});dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.wai.setAttr(this.domNode,"waiRole","role","tablist");this.pane2button={};this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild")];},onStartup:function(info){dojo.forEach(info.children,this.onAddChild,this);this.onSelectChild(info.selected);},destroy:function(){dojo.forEach(this._subscriptions,dojo.unsubscribe);dijit.layout.StackController.superclass.destroy.apply(this,arguments);},onAddChild:function(page){var _3be=document.createElement("span");this.domNode.appendChild(_3be);var cls=dojo.getObject(this.buttonWidget);var _3c0=new cls({label:page.title,closeButton:page.closable},_3be);this.addChild(_3c0);this.pane2button[page]=_3c0;page.controlButton=_3c0;var _3c1=this;dojo.connect(_3c0,"onClick",function(){_3c1.onButtonClick(page);});dojo.connect(_3c0,"onClickCloseButton",function(){_3c1.onCloseButtonClick(page);});if(!this._currentChild){_3c0.focusNode.setAttribute("tabIndex","0");this._currentChild=page;}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _3c3=this.pane2button[page];if(_3c3){_3c3.destroy();}this.pane2button[page]=null;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _3c5=this.pane2button[this._currentChild];_3c5.setChecked(false);_3c5.focusNode.setAttribute("tabIndex","-1");}var _3c6=this.pane2button[page];_3c6.setChecked(true);this._currentChild=page;_3c6.focusNode.setAttribute("tabIndex","0");},onButtonClick:function(page){var _3c8=dijit.byId(this.containerId);_3c8.selectChild(page);},onCloseButtonClick:function(page){var _3ca=dijit.byId(this.containerId);_3ca.closeChild(page);var b=this.pane2button[this._currentChild];if(b){dijit.focus(b.focusNode||b.domNode);}},adjacent:function(_3cc){var _3cd=this.getChildren();var _3ce=dojo.indexOf(_3cd,this.pane2button[this._currentChild]);var _3cf=_3cc?1:_3cd.length-1;return _3cd[(_3ce+_3cf)%_3cd.length];},onkeypress:function(evt){if(this.disabled||evt.altKey||evt.shiftKey||evt.ctrlKey){return;}var _3d1=true;switch(evt.keyCode){case dojo.keys.LEFT_ARROW:case dojo.keys.UP_ARROW:_3d1=false;case dojo.keys.RIGHT_ARROW:case dojo.keys.DOWN_ARROW:this.adjacent(_3d1).onClick();dojo.stopEvent(evt);break;case dojo.keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);dojo.stopEvent(evt);}default:return;}}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{onClick:function(evt){dijit.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});dojo.extend(dijit._Widget,{title:"",selected:false,closable:false,onClose:function(){return true;}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",templateString:null,templateString:"<div class=\"dijitTabContainer\">\n\t<div dojoAttachPoint=\"tablistNode\"></div>\n\t<div class=\"dijitTabPaneWrapper\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onkeypress:_onKeyPress\" waiRole=\"tabpanel\"></div>\n</div>\n",postCreate:function(){dijit.layout.TabContainer.superclass.postCreate.apply(this,arguments);this.tablist=new dijit.layout.TabController({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id},this.tablistNode);},_setupChild:function(tab){dojo.addClass(tab.domNode,"dijitTabPane");dijit.layout.TabContainer.superclass._setupChild.apply(this,arguments);return tab;},startup:function(){this.tablist.startup();dijit.layout.TabContainer.superclass.startup.apply(this,arguments);if(dojo.isSafari){setTimeout(dojo.hitch(this,"layout"),0);}},layout:function(){if(!this.doLayout){return;}var _3d5=this.tabPosition.replace(/-h/,"");var _3d6=[{domNode:this.tablist.domNode,layoutAlign:_3d5},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_3d6);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_3d6[1]);if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);if(this.doLayout&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox);}}},destroy:function(){this.tablist.destroy();dijit.layout.TabContainer.superclass.destroy.apply(this,arguments);}});dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:true,buttonWidget:"dijit.layout._TabButton",postMixInProperties:function(){this["class"]="dijitTabLabels-"+this.tabPosition+(this.doLayout?"":" dijitTabNoLayout");dijit.layout.TabController.superclass.postMixInProperties.apply(this,arguments);}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div baseClass='dijitTab' dojoAttachEvent='onclick:onClick,onmouseover:_onMouse,onmouseout:_onMouse'>"+"<div class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>"+"<span dojoAttachPoint='containerNode,focusNode' tabIndex='-1' waiRole='tab'>${!label}</span>"+"<span dojoAttachPoint='closeButtonNode' class='closeImage'"+" dojoAttachEvent='onmouseover:_onMouse, onmouseout:_onMouse, onclick:onClickCloseButton'"+" baseClass='dijitTabCloseButton'>"+"<span dojoAttachPoint='closeText' class='closeText'>x</span>"+"</span>"+"</div>"+"</div>",postCreate:function(){if(this.closeButton){dojo.addClass(this.innerDiv,"dijitClosable");}else{this.closeButtonNode.style.display="none";}dijit.layout._TabButton.superclass.postCreate.apply(this,arguments);dojo.setSelectable(this.containerNode,false);}});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_3d7,_3d8){var rxp="^";var c=null;for(var i=0;i<_3d7.length;i++){c=_3d7.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_3d7.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_3d8){return new RegExp(rxp,"i");}else{return new RegExp(rxp);}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var ret=0;if(a>b||typeof a==="undefined"){ret=1;}else{if(a<b||typeof b==="undefined"){ret=-1;}}return ret;};dojo.data.util.sorter.createSortFunction=function(_3df,_3e0){var _3e1=[];function createSortFunction(attr,dir){return function(_3e4,_3e5){var a=_3e0.getValue(_3e4,attr);var b=_3e0.getValue(_3e5,attr);var _3e8=null;if(_3e0.comparatorMap){if(typeof attr!=="string"){attr=_3e0.getIdentity(attr);}_3e8=_3e0.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_3e8=_3e8||dojo.data.util.sorter.basicComparator;return dir*_3e8(a,b);};};for(var i=0;i<_3df.length;i++){sortAttribute=_3df[i];if(sortAttribute.attribute){var _3ea=(sortAttribute.descending)?-1:1;_3e1.push(createSortFunction(sortAttribute.attribute,_3ea));}}return function(rowA,rowB){var i=0;while(i<_3e1.length){var ret=_3e1[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_3ef){_3ef=_3ef||{};if(!_3ef.store){_3ef.store=this;}var self=this;var _3f1=function(_3f2,_3f3){if(_3f3.onError){var _3f4=_3f3.scope||dojo.global;_3f3.onError.call(_3f4,_3f2,_3f3);}};var _3f5=function(_3f6,_3f7){var _3f8=_3f7.abort||null;var _3f9=false;var _3fa=_3f7.start?_3f7.start:0;var _3fb=_3f7.count?(_3fa+_3f7.count):_3f6.length;_3f7.abort=function(){_3f9=true;if(_3f8){_3f8.call(_3f7);}};var _3fc=_3f7.scope||dojo.global;if(!_3f7.store){_3f7.store=self;}if(_3f7.onBegin){_3f7.onBegin.call(_3fc,_3f6.length,_3f7);}if(_3f7.sort){_3f6.sort(dojo.data.util.sorter.createSortFunction(_3f7.sort,self));}if(_3f7.onItem){for(var i=_3fa;(i<_3f6.length)&&(i<_3fb);++i){var item=_3f6[i];if(!_3f9){_3f7.onItem.call(_3fc,item,_3f7);}}}if(_3f7.onComplete&&!_3f9){var _3ff=null;if(!_3f7.onItem){_3ff=_3f6.slice(_3fa,_3fb);}_3f7.onComplete.call(_3fc,_3ff,_3f7);}};this._fetchItems(_3ef,_3f5,_3f1);return _3ef;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_400){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_400.url;this._jsonData=_400.data;this._datatypeMap=_400.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_401){return dojo.date.stamp.fromISOString(_401);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._loadInProgress=false;this._queuedFetches=[];},url:"",_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function(_403){if(typeof _403!=="string"){throw new Error("dojo.data.ItemFileReadStore: a function was passed an attribute argument that was not an attribute name string");}},getValue:function(item,_405,_406){var _407=this.getValues(item,_405);return (_407.length>0)?_407[0]:_406;},getValues:function(item,_409){this._assertIsItem(item);this._assertIsAttribute(_409);return item[_409]||[];},getAttributes:function(item){this._assertIsItem(item);var _40b=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)){_40b.push(key);}}return _40b;},hasAttribute:function(item,_40e){return this.getValues(item,_40e).length>0;},containsValue:function(item,_410,_411){var _412=undefined;if(typeof _411==="string"){_412=dojo.data.util.filter.patternToRegExp(_411,false);}return this._containsValue(item,_410,_411,_412);},_containsValue:function(item,_414,_415,_416){var _417=this.getValues(item,_414);for(var i=0;i<_417.length;++i){var _419=_417[i];if(typeof _419==="string"&&_416){return (_419.match(_416)!==null);}else{if(_415===_419){return true;}}}return false;},isItem:function(_41a){if(_41a&&_41a[this._storeRefPropName]===this){if(this._arrayOfAllItems[_41a[this._itemNumPropName]]===_41a){return true;}}return false;},isItemLoaded:function(_41b){return this.isItem(_41b);},loadItem:function(_41c){this._assertIsItem(_41c.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_41f,_420,_421){var self=this;var _423=function(_424,_425){var _426=[];if(_424.query){var _427=_424.queryOptions?_424.queryOptions.ignoreCase:false;var _428={};for(var key in _424.query){var _42a=_424.query[key];if(typeof _42a==="string"){_428[key]=dojo.data.util.filter.patternToRegExp(_42a,_427);}}for(var i=0;i<_425.length;++i){var _42c=true;var _42d=_425[i];if(_42d===null){_42c=false;}else{for(var key in _424.query){var _42a=_424.query[key];if(!self._containsValue(_42d,key,_42a,_428[key])){_42c=false;}}}if(_42c){_426.push(_42d);}}_420(_426,_424);}else{for(var i=0;i<_425.length;++i){var item=_425[i];if(item!==null){_426.push(item);}}_420(_426,_424);}};if(this._loadFinished){_423(_41f,this._getItemsArray(_41f.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_41f,filter:_423});}else{this._loadInProgress=true;var _42f={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _430=dojo.xhrGet(_42f);_430.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_423(_41f,self._getItemsArray(_41f.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_421(e,_41f);}});_430.addErrback(function(_432){self._loadInProgress=false;_421(_432,_41f);});}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_423(_41f,this._getItemsArray(_41f.queryOptions));}catch(e){_421(e,_41f);}}else{_421(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_41f);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _434=this._queuedFetches[i];var _435=_434.args;var _436=_434.filter;if(_436){_436(_435,this._getItemsArray(_435.queryOptions));}else{this.fetchItemByIdentity(_435);}}this._queuedFetches=[];}},_getItemsArray:function(_437){if(_437&&_437.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_438){},_getItemsFromLoadedData:function(_439){function valueIsAnItem(_43a){var _43b=((_43a!=null)&&(typeof _43a=="object")&&(!dojo.isArray(_43a))&&(!dojo.isFunction(_43a))&&(_43a.constructor==Object)&&(typeof _43a._reference=="undefined")&&(typeof _43a._type=="undefined")&&(typeof _43a._value=="undefined"));return _43b;};var self=this;function addItemAndSubItemsToArrayOfAllItems(_43d){self._arrayOfAllItems.push(_43d);for(var _43e in _43d){var _43f=_43d[_43e];if(_43f){if(dojo.isArray(_43f)){var _440=_43f;for(var k=0;k<_440.length;++k){var _442=_440[k];if(valueIsAnItem(_442)){addItemAndSubItemsToArrayOfAllItems(_442);}}}else{if(valueIsAnItem(_43f)){addItemAndSubItemsToArrayOfAllItems(_43f);}}}}};this._labelAttr=_439.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_439.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];addItemAndSubItemsToArrayOfAllItems(item);item[this._rootItemPropName]=true;}var _445={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _447=item[key];if(_447!==null){if(!dojo.isArray(_447)){item[key]=[_447];}}else{item[key]=[null];}}_445[key]=key;}}while(_445[this._storeRefPropName]){this._storeRefPropName+="_";}while(_445[this._itemNumPropName]){this._itemNumPropName+="_";}var _448;var _449=_439.identifier;this._itemsByIdentity={};if(_449){this._features["dojo.data.api.Identity"]=_449;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_448=item[_449];var _44a=_448[0];if(!this._itemsByIdentity[_44a]){this._itemsByIdentity[_44a]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_449+"].  Value collided: ["+_44a+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_449+"].  Value collided: ["+_44a+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_448=item[key];for(var j=0;j<_448.length;++j){_447=_448[j];if(_447!==null&&typeof _447=="object"){if(_447._type&&_447._value){var type=_447._type;var _44d=this._datatypeMap[type];if(!_44d){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_44d)){_448[j]=new _44d(_447._value);}else{if(dojo.isFunction(_44d.deserialize)){_448[j]=_44d.deserialize(_447._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_447._reference){var _44e=_447._reference;if(dojo.isString(_44e)){_448[j]=this._itemsByIdentity[_44e];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _450=this._arrayOfAllItems[k];var _451=true;for(var _452 in _44e){if(_450[_452]!=_44e[_452]){_451=false;}}if(_451){_448[j]=_450;}}}}}}}}},getIdentity:function(item){var _454=this._features["dojo.data.api.Identity"];if(_454===Number){return item[this._itemNumPropName];}else{var _455=item[_454];if(_455){return _455[0];}}return null;},fetchItemByIdentity:function(_456){if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_456});}else{var _458={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _459=dojo.xhrGet(_458);_459.addCallback(function(data){var _45b=_456.scope?_456.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_456.identity);if(_456.onItem){_456.onItem.call(_45b,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_456.onError){_456.onError.call(_45b,error);}}});_459.addErrback(function(_45d){self._loadInProgress=false;if(_456.onError){var _45e=_456.scope?_456.scope:dojo.global;_456.onError.call(_45e,_45d);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_456.identity);if(_456.onItem){var _460=_456.scope?_456.scope:dojo.global;_456.onItem.call(_460,item);}}}}else{var item=this._getItemByIdentity(_456.identity);if(_456.onItem){var _460=_456.scope?_456.scope:dojo.global;_456.onItem.call(_460,item);}}},_getItemByIdentity:function(_461){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_461];if(item===undefined){item=null;}}else{this._arrayOfAllItems[_461];}return item;},getIdentityAttributes:function(item){var _464=this._features["dojo.data.api.Identity"];if(_464===Number){return null;}else{return [_464];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _466={url:self._jsonFileUrl,handleAs:"json-comment-optional",sync:true};var _467=dojo.xhrGet(_466);_467.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}}catch(e){console.log(e);throw e;}});_467.addErrback(function(_469){throw _469;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form._DropDownTextBox"]){dojo._hasResource["dijit.form._DropDownTextBox"]=true;dojo.provide("dijit.form._DropDownTextBox");dojo.declare("dijit.form._DropDownTextBox",null,{templateString:"<table class=\"dijit dijitReset dijitInline dijitLeft\" baseClass=\"${baseClass}\" cellspacing=\"0\" cellpadding=\"0\"\n\tid=\"widget_${id}\" name=\"${name}\" dojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse\" waiRole=\"presentation\"\n\t><tr\n\t\t><td class='dijitReset dijitStretch dijitComboBoxInput'\n\t\t\t><input class='XdijitInputField' type=\"text\" autocomplete=\"off\" name=\"${name}\"\n\t\t\tdojoAttachEvent=\"onkeypress, onkeyup, onfocus, onblur, compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" id='${id}'\n\t\t\ttabIndex='${tabIndex}' size='${size}' maxlength='${maxlength}'\n\t\t\twaiRole=\"combobox\"\n\t\t></td\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick,onmousedown:_onMouse,onmouseup:_onMouse,onmouseover:_onMouse,onmouseout:_onMouse\"\n\t\t><div class=\"dijitDownArrowButtonInner\" waiRole=\"presentation\" tabIndex=\"-1\">\n\t\t\t<div class=\"dijit_a11y dijitDownArrowButtonChar\">&#9660;</div>\n\t\t</div>\n\t</td></tr>\n</table>\n",baseClass:"dijitComboBox",hasDownArrow:true,_popupWidget:null,_hasMasterPopup:false,_popupClass:"",_popupArgs:{},_hasFocus:false,_arrowPressed:function(){if(!this.disabled&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},makePopup:function(){var _46a=this;function _createNewPopup(){var node=document.createElement("div");document.body.appendChild(node);var _46c=dojo.getObject(_46a._popupClass,false);return new _46c(_46a._popupArgs,node);};if(!this._popupWidget){if(this._hasMasterPopup){var _46d=dojo.getObject(this.declaredClass,false);if(!_46d.prototype._popupWidget){_46d.prototype._popupWidget=_createNewPopup();}this._popupWidget=_46d.prototype._popupWidget;}else{this._popupWidget=_createNewPopup();}}},_onArrowClick:function(){if(this.disabled){return;}this.focus();this.makePopup();if(this._isShowingNow){this._hideResultList();}else{this._openResultList();}},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close();this._arrowIdle();this._isShowingNow=false;}},_openResultList:function(){this._showResultList();},onfocus:function(){this._hasFocus=true;},onblur:function(){this._arrowIdle();this._hasFocus=false;dojo.removeClass(this.nodeWithBorder,"dijitInputFieldFocused");this.validate(false);},onkeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.keyCode){case dojo.keys.PAGE_DOWN:case dojo.keys.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this.makePopup();this._arrowPressed();this._openResultList();}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dojo.keys.PAGE_UP:case dojo.keys.UP_ARROW:case dojo.keys.ENTER:dojo.stopEvent(evt);case dojo.keys.ESCAPE:case dojo.keys.TAB:if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=(evt.keyCode==dojo.keys.ESCAPE);this._hideResultList();}break;}},compositionend:function(evt){this.onkeypress({charCode:-1});},_showResultList:function(){this._hideResultList();var _470=this._popupWidget.getListLength?this._popupWidget.getItems():[this._popupWidget.domNode];if(_470.length){var _471=Math.min(_470.length,this.maxListLength);with(this._popupWidget.domNode.style){display="";width="";height="";}this._arrowPressed();this._displayMessage("");var best=this.open();var _473=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_473.h)&&(best.w==_473.w))?"hidden":"auto";dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(best.w,this.domNode.offsetWidth)});}},getDisplayedValue:function(){return this.textbox.value;},setDisplayedValue:function(_474){this.textbox.value=_474;},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},open:function(){this.makePopup();var self=this;self._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},_onBlur:function(){this._hideResultList();},postMixInProperties:function(){this.baseClass=this.hasDownArrow?this.baseClass:this.baseClass+"NoArrow";}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,size:"20",maxlength:"999999",templateString:"<input dojoAttachPoint='textbox,focusNode' dojoAttachEvent='onfocus,onkeyup,onkeypress:_onKeyPress' autocomplete=\"off\"\n\tid='${id}' name='${name}' class=\"dijitInputField\" type='${type}' size='${size}' maxlength='${maxlength}' tabIndex='${tabIndex}'>\n",getTextValue:function(){return this.filter(this.textbox.value);},getValue:function(){return this.parse(this.getTextValue(),this.constraints);},setValue:function(_476,_477,_478){if(_476==null){_476="";}_476=this.filter(_476);if(typeof _478=="undefined"){_478=(typeof _476=="undefined"||_476==null||_476==NaN)?null:this.format(_476,this.constraints);}if(_478!=null){var _479=this;this.textbox.value=_478;}dijit.form.TextBox.superclass.setValue.call(this,_476,_477);},forWaiValuenow:function(){return this.getTextValue();},format:function(_47a,_47b){return _47a;},parse:function(_47c,_47d){return _47c;},postCreate:function(){if(typeof this.nodeWithBorder!="object"){this.nodeWithBorder=this.textbox;}this.textbox.setAttribute("value",this.getTextValue());this.inherited("postCreate",arguments);},filter:function(val){if(val==null){return null;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},onfocus:function(){dojo.addClass(this.nodeWithBorder,"dijitInputFieldFocused");},_onBlur:function(){dojo.removeClass(this.nodeWithBorder,"dijitInputFieldFocused");this.setValue(this.getValue(),true);},onkeyup:function(){}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:200,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")}),this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_480,_481){if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_480;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _482=this.isLeftToRight()?{"BR":"BL","BL":"BR"}:{"BL":"BR","BR":"BL"};var pos=dijit.placeOnScreenAroundElement(this.domNode,_481,_482);this.domNode.className="dijitTooltip dijitTooltip"+(pos.corner=="BL"?"Right":"Left");dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(){if(this._onDeck){this._onDeck=null;return;}this.fadeIn.stop();this.isShowingNow=false;this.fadeOut.play();},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dojo.addOnLoad(function(){dijit.MasterTooltip=new dijit._MasterTooltip();});dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:"",postCreate:function(){this.srcNodeRef.style.display="none";this._connectNode=dojo.byId(this.connectId);dojo.forEach(["onMouseOver","onHover","onMouseOut","onUnHover"],function(_484){this.connect(this._connectNode,_484.toLowerCase(),"_"+_484);},this);},_onMouseOver:function(e){this._onHover(e);},_onMouseOut:function(e){if(dojo.isDescendant(e.relatedTarget,this._connectNode)){return;}this._onUnHover(e);},_onHover:function(e){if(this._hover){return;}this._hover=true;if(!this.isShowingNow&&!this._showTimer){this._showTimer=setTimeout(dojo.hitch(this,"open"),this.showDelay);}},_onUnHover:function(e){if(!this._hover){return;}this._hover=false;if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}else{this.close();}},open:function(){if(this.isShowingNow){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.MasterTooltip.show(this.label||this.domNode.innerHTML,this._connectNode);this.isShowingNow=true;},close:function(){if(!this.isShowingNow){return;}dijit.MasterTooltip.hide();this.isShowingNow=false;},uninitialize:function(){this.close();}});}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{required:false,promptMessage:"",invalidMessage:"",constraints:{},regExp:".*",regExpGen:function(_489){return this.regExp;},setValue:function(){this.inherited("setValue",arguments);this.validate(false);},validator:function(_48a,_48b){return (new RegExp("^("+this.regExpGen(_48b)+")"+(this.required?"":"?")+"$")).test(_48a)&&(!this.required||!this._isEmpty(_48a));},isValid:function(_48c){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_48d){return /^\s*$/.test(_48d);},getErrorMessage:function(_48e){return this.invalidMessage;},getPromptMessage:function(_48f){return this.promptMessage;},validate:function(_490){var _491="";var _492=this.isValid(_490);var _493=_492?"Normal":"Error";if(!dojo.hasClass(this.nodeWithBorder,"dijitInputFieldValidation"+_493)){dojo.removeClass(this.nodeWithBorder,"dijitInputFieldValidation"+((_493=="Normal")?"Error":"Normal"));dojo.addClass(this.nodeWithBorder,"dijitInputFieldValidation"+_493);}dijit.wai.setAttr(this.focusNode,"waiState","invalid",(_492?"false":"true"));if(_490){if(this._isEmpty(this.textbox.value)){_491=this.getPromptMessage(true);}if(!_491&&!_492){_491=this.getErrorMessage(true);}}this._displayMessage(_491);},_message:"",_displayMessage:function(_494){if(this._message==_494){return;}this._message=_494;this.displayMessage(_494);},displayMessage:function(_495){if(_495){dijit.MasterTooltip.show(_495,this.domNode);}else{dijit.MasterTooltip.hide();}},_onBlur:function(evt){this.validate(false);this.inherited("_onBlur",arguments);},onfocus:function(evt){this.inherited("onfocus",arguments);this.validate(true);},onkeyup:function(evt){this.onfocus(evt);},postMixInProperties:function(){if(this.constraints==dijit.form.ValidationTextBox.prototype.constraints){this.constraints={};}this.inherited("postMixInProperties",arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);dojo.forEach(["invalidMessage","missingMessage"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);var p=this.regExpGen(this.constraints);this.regExp=p;}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{serialize:function(val){return val.toString();},toString:function(){var val=this.getValue();return (val!=null)?((typeof val=="string")?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();this.inherited("validate",arguments);},postCreate:function(){var _49d=this.textbox;var _49e=(this.valueNode=document.createElement("input"));_49e.setAttribute("type",_49d.type);_49e.setAttribute("value",this.toString());dojo.style(_49e,"display","none");_49e.name=this.textbox.name;this.textbox.removeAttribute("name");dojo.place(_49e,_49d,"after");this.inherited("postCreate",arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",compare:function(val1,val2){return val1-val2;},rangeCheck:function(_4a1,_4a2){var _4a3=(typeof _4a2.min!="undefined");var _4a4=(typeof _4a2.max!="undefined");if(_4a3||_4a4){return (!_4a3||this.compare(_4a1,_4a2.min)>=0)&&(!_4a4||this.compare(_4a1,_4a2.max)<=0);}else{return true;}},isInRange:function(_4a5){return this.rangeCheck(this.getValue(),this.constraints);},isValid:function(_4a6){return this.inherited("isValid",arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_4a6));},getErrorMessage:function(_4a7){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_4a7)){return this.rangeMessage;}else{return this.inherited("getErrorMessage",arguments);}},postMixInProperties:function(){this.inherited("postMixInProperties",arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited("postCreate",arguments);if(typeof this.constraints.min!="undefined"){dijit.wai.setAttr(this.domNode,"waiState","valuemin",this.constraints.min);}if(typeof this.constraints.max!="undefined"){dijit.wai.setAttr(this.domNode,"waiState","valuemax",this.constraints.max);}}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",dijit.form._DropDownTextBox,{pageSize:30,store:null,query:{},autoComplete:true,searchDelay:100,searchAttr:"name",ignoreCase:true,_hasMasterPopup:true,_popupClass:"dijit.form._ComboBoxMenu",getValue:function(){return dijit.form.TextBox.superclass.getValue.apply(this,arguments);},setDisplayedValue:function(_4a8){this.setValue(_4a8,true);},_getCaretPos:function(_4a9){if(typeof (_4a9.selectionStart)=="number"){return _4a9.selectionStart;}else{if(dojo.isIE){var tr=document.selection.createRange().duplicate();var ntr=_4a9.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);return String(ntr.text).replace(/\r/g,"").length;}catch(e){return 0;}}}},_setCaretPos:function(_4ac,_4ad){_4ad=parseInt(_4ad);this._setSelectedRange(_4ac,_4ad,_4ad);},_setSelectedRange:function(_4ae,_4af,end){if(!end){end=_4ae.value.length;}if(_4ae.setSelectionRange){dijit.focus(_4ae);_4ae.setSelectionRange(_4af,end);}else{if(_4ae.createTextRange){var _4b1=_4ae.createTextRange();with(_4b1){collapse(true);moveEnd("character",end);moveStart("character",_4af);select();}}else{_4ae.value=_4ae.value;_4ae.blur();dijit.focus(_4ae);var dist=parseInt(_4ae.value.length)-end;var _4b3=String.fromCharCode(37);var tcc=_4b3.charCodeAt(0);for(var x=0;x<dist;x++){var te=document.createEvent("KeyEvents");te.initKeyEvent("keypress",true,true,null,false,false,false,false,tcc,tcc);_4ae.dispatchEvent(te);}}}},onkeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var _4b8=false;if(this._isShowingNow){this._popupWidget.handleKey(evt);}switch(evt.keyCode){case dojo.keys.PAGE_DOWN:case dojo.keys.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_4b8=true;}else{this._announceOption(this._popupWidget.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dojo.keys.PAGE_UP:case dojo.keys.UP_ARROW:if(this._isShowingNow){this._announceOption(this._popupWidget.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dojo.keys.ENTER:if(this._isShowingNow){var _4b9=this._popupWidget.getHighlightedOption();if(_4b9==this._popupWidget.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_4b9==this._popupWidget.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}evt.preventDefault();case dojo.keys.TAB:if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(this._isShowingNow&&this._popupWidget.getHighlightedOption()){this._popupWidget.setValue({target:this._popupWidget.getHighlightedOption()},true);}else{this.setDisplayedValue(this.getDisplayedValue());}this._hideResultList();}else{this.setDisplayedValue(this.getDisplayedValue());}break;case dojo.keys.SPACE:this._prev_key_backspace=false;this._prev_key_esc=false;if(this._isShowingNow&&this._popupWidget.getHighlightedOption()){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_4b8=true;}break;case dojo.keys.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;this._hideResultList();this.setValue(this.getValue());break;case dojo.keys.DELETE:case dojo.keys.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_4b8=true;break;case dojo.keys.RIGHT_ARROW:case dojo.keys.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;if(evt.charCode!=0){_4b8=true;}}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_4b8){this.searchTimer=setTimeout(dojo.hitch(this,this._startSearchFromInput),this.searchDelay);}},_autoCompleteText:function(text){this._setSelectedRange(this.focusNode,this.focusNode.value.length,this.focusNode.value.length);if(new RegExp("^"+escape(this.focusNode.value),this.ignoreCase?"i":"").test(escape(text))){var cpos=this._getCaretPos(this.focusNode);if((cpos+1)>this.focusNode.value.length){this.focusNode.value=text;this._setSelectedRange(this.focusNode,cpos,this.focusNode.value.length);}}else{this.focusNode.value=text;this._setSelectedRange(this.focusNode,0,this.focusNode.value.length);}},_openResultList:function(_4bc,_4bd){if(this.disabled||_4bd.query[this.searchAttr]!=this._lastQuery){return;}this._popupWidget.clearResultList();if(!_4bc.length){this._hideResultList();return;}var _4be=new String(this.store.getValue(_4bc[0],this.searchAttr));if(_4be&&(this.autoComplete)&&(!this._prev_key_backspace)&&(_4bd.query[this.searchAttr]!="*")){this._autoCompleteText(_4be);dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","valuenow",_4be);}this._popupWidget.createOptions(_4bc,_4bd,dojo.hitch(this,this._getMenuLabelFromItem));this._showResultList();},onfocus:function(){dijit.form._DropDownTextBox.prototype.onfocus.apply(this,arguments);this.inherited("onfocus",arguments);},onblur:function(){dijit.form._DropDownTextBox.prototype.onblur.apply(this,arguments);if(!this._isShowingNow){this.setDisplayedValue(this.getDisplayedValue());}},_announceOption:function(node){if(node==null){return;}var _4c0;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_4c0=node.innerHTML;}else{_4c0=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));this._autoCompleteText(_4c0);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.setDisplayedValue(this.getDisplayedValue());return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.setValue(this.store.getValue(tgt.item,this.searchAttr),true);},_onArrowClick:function(){if(this.disabled){return;}this.focus();this.makePopup();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(key){this.makePopup();var _4c5=this.query;this._lastQuery=_4c5[this.searchAttr]=key+"*";var _4c6=this.store.fetch({queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_4c5,onComplete:dojo.hitch(this,"_openResultList"),start:0,count:this.pageSize});function nextSearch(_4c7,_4c8){_4c7.start+=_4c7.count*_4c8;_4c7.store.fetch(_4c7);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,nextSearch,_4c6);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){dijit.form._DropDownTextBox.prototype.postMixInProperties.apply(this,arguments);if(!this.store){var _4c9=dojo.query("> option",this.srcNodeRef).map(function(node){node.style.display="none";return {value:node.getAttribute("value"),name:String(node.innerHTML)};});this.store=new dojo.data.ItemFileReadStore({data:{identifier:this._getValueField(),items:_4c9}});if(_4c9&&_4c9.length&&!this.value){this.value=_4c9[this.srcNodeRef.selectedIndex!=-1?this.srcNodeRef.selectedIndex:0][this._getValueField()];}}if(this.query==dijit.form.ComboBoxMixin.prototype.query){this.query={};}},postCreate:function(){this.inherited("postCreate",arguments);},_getMenuLabelFromItem:function(item){return {html:false,label:this.store.getValue(item,this.searchAttr)};},open:function(){this._popupWidget.onChange=dojo.hitch(this,this._selectOption);this._popupWidget._onkeypresshandle=this._popupWidget.connect(this._popupWidget.domNode,"onkeypress",dojo.hitch(this,this.onkeypress));return dijit.form._DropDownTextBox.prototype.open.apply(this,arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitMenu' dojoAttachEvent='onclick,onmouseover,onmouseout' tabIndex='-1' style='display:none; position:absolute; overflow:\"auto\";'>"+"<div class='dijitMenuItem' dojoAttachPoint='previousButton'></div>"+"<div class='dijitMenuItem' dojoAttachPoint='nextButton'></div>"+"</div>",_onkeypresshandle:null,_messages:null,_comboBox:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited("postMixInProperties",arguments);},setValue:function(_4cc){this.value=_4cc;this.onChange(_4cc);},onChange:function(_4cd){},onPage:function(_4ce){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited("postCreate",arguments);},onClose:function(){this.disconnect(this._onkeypresshandle);this._blurOptionNode();},_createOption:function(item,_4d0){var _4d1=_4d0(item);var _4d2=document.createElement("div");if(_4d1.html){_4d2.innerHTML=_4d1.label;}else{_4d2.appendChild(document.createTextNode(_4d1.label));}if(_4d2.innerHTML==""){_4d2.innerHTML="&nbsp;";}_4d2.item=item;return _4d2;},createOptions:function(_4d3,_4d4,_4d5){this.previousButton.style.display=_4d4.start==0?"none":"";var _4d6=this;dojo.forEach(_4d3,function(item){var _4d8=_4d6._createOption(item,_4d5);_4d8.className="dijitMenuItem";_4d6.domNode.insertBefore(_4d8,_4d6.nextButton);});this.nextButton.style.display=_4d4.count==_4d3.length?"":"none";},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},onclick:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this.setValue({target:tgt},true);}}}},onmouseover:function(evt){if(evt.target===this.domNode){return;}this._focusOptionNode(evt.target);},onmouseout:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemHover");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){this._focusOptionNode(this.domNode.firstChild.style.display=="none"?this.domNode.firstChild.nextSibling:this.domNode.firstChild);}else{if(this._highlighted_option.nextSibling&&this._highlighted_option.nextSibling.style.display!="none"){this._focusOptionNode(this._highlighted_option.nextSibling);}}dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){this._focusOptionNode(this.domNode.lastChild.style.display=="none"?this.domNode.lastChild.previousSibling:this.domNode.lastChild);}else{if(this._highlighted_option.previousSibling&&this._highlighted_option.previousSibling.style.display!="none"){this._focusOptionNode(this._highlighted_option.previousSibling);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _4df=0;var _4e0=this.domNode.scrollTop;var _4e1=parseInt(dojo.getComputedStyle(this.domNode).height);if(!this.getHighlightedOption()){this._highlightNextOption();}while(_4df<_4e1){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _4e2=this.domNode.scrollTop;_4df+=(_4e2-_4e0)*(up?-1:1);_4e0=_4e2;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){return this._highlighted_option&&this._highlighted_option.parentNode?this._highlighted_option:null;},handleKey:function(evt){switch(evt.keyCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{});}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{labelAttr:"",labelType:"text",_isvalid:true,isValid:function(){return this._isvalid;},_callbackSetLabel:function(_4e4,_4e5){if(_4e5&&_4e5.query[this.searchAttr]!=this._lastQuery){return;}if(!_4e4.length){this._isvalid=false;this.validate(this._hasFocus);}else{this._setValueFromItem(_4e4[0]);}},_openResultList:function(_4e6,_4e7){if(_4e7.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_4e6.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},getValue:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValue:function(_4e8,_4e9){this.valueNode.value=_4e8;dijit.form.FilteringSelect.superclass.setValue.call(this,_4e8,true,_4e9);},setValue:function(_4ea){var self=this;var _4ec=function(item){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item]);}else{self.store.loadItem({item:item,onItem:self._callbackSetLabel});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_4ea,onItem:_4ec});},_setValueFromItem:function(item){this._isvalid=true;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store));},labelFunc:function(item,_4f0){return _4f0.getValue(item,this.searchAttr);},onkeyup:function(evt){},_doSelect:function(tgt){this._setValueFromItem(tgt.item);},setDisplayedValue:function(_4f3){if(this.store){var _4f4={};this._lastQuery=_4f4[this.searchAttr]=_4f3;this.textbox.value=_4f3;this.store.fetch({query:_4f4,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:dojo.hitch(this,this._callbackSetLabel)});}},_getMenuLabelFromItem:function(item){if(this.labelAttr){return {html:this.labelType=="html",label:this.store.getValue(item,this.labelAttr)};}else{return dijit.form.ComboBoxMixin.prototype._getMenuLabelFromItem.apply(this,arguments);}}});}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_4f6){var _4f7={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,gb:0,sy:4};var _4f8=dojo.cldr.supplemental._region(_4f6);var dow=_4f7[_4f8];return (typeof dow=="undefined")?1:dow;};dojo.cldr.supplemental._region=function(_4fa){_4fa=dojo.i18n.normalizeLocale(_4fa);var tags=_4fa.split("-");var _4fc=tags[1];if(!_4fc){_4fc={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_4fc.length==4){_4fc=tags[2];}}return _4fc;};dojo.cldr.supplemental.getWeekend=function(_4fd){var _4fe={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _4ff={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _500=dojo.cldr.supplemental._region(_4fd);var _501=_4fe[_500];var end=_4ff[_500];if(typeof _501=="undefined"){_501=6;}if(typeof end=="undefined"){end=0;}return {start:_501,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_503){var _504=_503.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_504==1&&dojo.date.isLeapYear(_503)){return 29;}return days[_504];};dojo.date.isLeapYear=function(_506){var year=_506.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_508){var str=_508.toString();var tz="";var _50b;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_50b=str.match(pat))){tz=_50b[1];}else{str=_508.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_50b=str.match(pat))){tz=_50b[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_50e,_50f,_510){_50e=new Date(Number(_50e));_50f=new Date(Number(_50f||new Date()));if(typeof _510!=="undefined"){if(_510=="date"){_50e.setHours(0,0,0,0);_50f.setHours(0,0,0,0);}else{if(_510=="time"){_50e.setFullYear(0,0,0);_50f.setFullYear(0,0,0);}}}if(_50e>_50f){return 1;}if(_50e<_50f){return -1;}return 0;};dojo.date.add=function(date,_512,_513){var sum=new Date(Number(date));var _515=false;var _516="Date";switch(_512){case "day":break;case "weekday":var _517=date.getDate();var days,_519;var adj=0;var mod=_513%5;if(!mod){days=(_513>0)?5:-5;_519=(_513>0)?((_513-5)/5):((_513+5)/5);}else{days=mod;_519=parseInt(_513/5);}var strt=date.getDay();if(strt==6&&_513>0){adj=1;}else{if(strt==0&&_513<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_513>0)?2:-2;}_513=_517+7*_519+days+adj;break;case "year":_516="FullYear";_515=true;break;case "week":_513*=7;break;case "quarter":_513*=3;case "month":_515=true;_516="Month";break;case "hour":case "minute":case "second":case "millisecond":_516=_512.charAt(0).toUpperCase()+_512.substring(1)+"s";}if(_516){sum["set"+_516](sum["get"+_516]()+_513);}if(_515&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_51e,_51f,_520){_51f=_51f||new Date();_520=_520||"day";var _521=_51f.getFullYear()-_51e.getFullYear();var _522=1;switch(_520){case "quarter":var m1=_51e.getMonth();var m2=_51f.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_521*4);_522=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_51e,_51f,"day"));var _528=parseInt(dojo.date.difference(_51e,_51f,"week"));var mod=days%7;if(mod==0){days=_528*5;}else{var adj=0;var aDay=_51e.getDay();var bDay=_51f.getDay();_528=parseInt(days/7);mod=days%7;var _52d=new Date(_51e);_52d.setDate(_52d.getDate()+(_528*7));var _52e=_52d.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_52e+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_52e+mod)<0:adj=2;}}}days+=adj;days-=(_528*2);}_522=days;break;case "year":_522=_521;break;case "month":_522=(_51f.getMonth()-_51e.getMonth())+(_521*12);break;case "week":_522=parseInt(dojo.date.difference(_51e,_51f,"day")/7);break;case "day":_522/=24;case "hour":_522/=60;case "minute":_522/=60;case "second":_522/=1000;case "millisecond":_522*=_51f.getTime()-_51e.getTime();}return Math.round(_522);};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function formatPattern(_52f,_530,_531){return _531.replace(/([a-z])\1*/ig,function(_532){var s;var c=_532.charAt(0);var l=_532.length;var pad;var _537=["abbr","wide","narrow"];switch(c){case "G":s=_530.eras[_52f.getFullYear()<0?1:0];break;case "y":s=_52f.getFullYear();switch(l){case 1:break;case 2:s=String(s);s=s.substr(s.length-2);break;default:pad=true;}break;case "Q":case "q":s=Math.ceil((_52f.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_52f.getMonth();var _539;switch(l){case 1:case 2:s=m+1;pad=true;break;case 3:case 4:case 5:_539=_537[l-3];break;}if(_539){var type=(c=="L")?"standalone":"format";var prop=["months",type,_539].join("-");s=_530[prop][m];}break;case "w":var _53c=0;s=dojo.date.locale._getWeekOfYear(_52f,_53c);pad=true;break;case "d":s=_52f.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_52f);pad=true;break;case "E":case "e":case "c":var d=_52f.getDay();var _539;switch(l){case 1:case 2:if(c=="e"){var _53e=dojo.cldr.supplemental.getFirstDayOfWeek(options.locale);d=(d-_53e+7)%7;}if(c!="c"){s=d+1;pad=true;break;}case 3:case 4:case 5:_539=_537[l-3];break;}if(_539){var type=(c=="c")?"standalone":"format";var prop=["days",type,_539].join("-");s=_530[prop][d];}break;case "a":var _53f=(_52f.getHours()<12)?"am":"pm";s=_530[_53f];break;case "h":case "H":case "K":case "k":var h=_52f.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_52f.getMinutes();pad=true;break;case "s":s=_52f.getSeconds();pad=true;break;case "S":s=Math.round(_52f.getMilliseconds()*Math.pow(10,l-3));break;case "v":case "z":s=dojo.date.getTimezoneName(_52f);if(s){break;}l=4;case "Z":var _541=_52f.getTimezoneOffset();var tz=[(_541<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_541)/60),2),dojo.string.pad(Math.abs(_541)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_531);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function(_543,_544){_544=_544||{};var _545=dojo.i18n.normalizeLocale(_544.locale);var _546=_544.formatLength||"short";var _547=dojo.date.locale._getGregorianBundle(_545);var str=[];var _549=dojo.hitch(this,formatPattern,_543,_547);if(_544.selector=="year"){var year=_543.getFullYear();if(_545.match(/^zh|^ja/)){year+="\u5e74";}return year;}if(_544.selector!="time"){var _54b=_544.datePattern||_547["dateFormat-"+_546];if(_54b){str.push(_processPattern(_54b,_549));}}if(_544.selector!="date"){var _54c=_544.timePattern||_547["timeFormat-"+_546];if(_54c){str.push(_processPattern(_54c,_549));}}var _54d=str.join(" ");return _54d;};dojo.date.locale.regexp=function(_54e){return dojo.date.locale._parseInfo(_54e).regexp;};dojo.date.locale._parseInfo=function(_54f){_54f=_54f||{};var _550=dojo.i18n.normalizeLocale(_54f.locale);var _551=dojo.date.locale._getGregorianBundle(_550);var _552=_54f.formatLength||"short";var _553=_54f.datePattern||_551["dateFormat-"+_552];var _554=_54f.timePattern||_551["timeFormat-"+_552];var _555;if(_54f.selector=="date"){_555=_553;}else{if(_54f.selector=="time"){_555=_554;}else{_555=_553+" "+_554;}}var _556=[];var re=_processPattern(_555,dojo.hitch(this,_buildDateTimeRE,_556,_551,_54f));return {regexp:re,tokens:_556,bundle:_551};};dojo.date.locale.parse=function(_558,_559){var info=dojo.date.locale._parseInfo(_559);var _55b=info.tokens,_55c=info.bundle;var re=new RegExp("^"+info.regexp+"$");var _55e=re.exec(_558);if(!_55e){return null;}var _55f=["abbr","wide","narrow"];var _560=new Date(1972,0);var _561={};var amPm="";dojo.forEach(_55e,function(v,i){if(!i){return;}var _565=_55b[i-1];var l=_565.length;switch(_565.charAt(0)){case "y":if(l!=2){_560.setFullYear(v);_561.year=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _568=year.substring(0,2)*100;var _569=Number(year.substring(2,4));var _56a=Math.min(_569+20,99);var num=(v<_56a)?_568+v:_568-100+v;_560.setFullYear(num);_561.year=num;}else{if(_559.strict){return null;}_560.setFullYear(v);_561.year=v;}}break;case "M":if(l>2){var _56c=_55c["months-format-"+_55f[l-3]].concat();if(!_559.strict){v=v.replace(".","").toLowerCase();_56c=dojo.map(_56c,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_56c,v);if(v==-1){return null;}}else{v--;}_560.setMonth(v);_561.month=v;break;case "E":case "e":var days=_55c["days-format-"+_55f[l-3]].concat();if(!_559.strict){v=v.toLowerCase();days=dojo.map(days,"".toLowerCase);}v=dojo.indexOf(days,v);if(v==-1){return null;}break;case "d":_560.setDate(v);_561.date=v;break;case "D":_560.setMonth(0);_560.setDate(v);break;case "a":var am=_559.am||_55c.am;var pm=_559.pm||_55c.pm;if(!_559.strict){var _571=/\./g;v=v.replace(_571,"").toLowerCase();am=am.replace(_571,"").toLowerCase();pm=pm.replace(_571,"").toLowerCase();}if(_559.strict&&v!=am&&v!=pm){return null;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return null;}_560.setHours(v);break;case "m":_560.setMinutes(v);break;case "s":_560.setSeconds(v);break;case "S":_560.setMilliseconds(v);}});var _572=_560.getHours();if(amPm==="p"&&_572<12){_560.setHours(_572+12);}else{if(amPm==="a"&&_572==12){_560.setHours(0);}}if(_561.year&&_560.getFullYear()!=_561.year){return null;}if(_561.month&&_560.getMonth()!=_561.month){return null;}if(_561.date&&_560.getDate()!=_561.date){return null;}return _560;};function _processPattern(_573,_574,_575,_576){var _577=function(x){return x;};_574=_574||_577;_575=_575||_577;_576=_576||_577;var _579=_573.match(/(''|[^'])+/g);var _57a=false;dojo.forEach(_579,function(_57b,i){if(!_57b){_579[i]="";}else{_579[i]=(_57a?_575:_574)(_57b);_57a=!_57a;}});return _576(_579.join(""));};function _buildDateTimeRE(_57d,_57e,_57f,_580){return dojo.regexp.escapeString(_580).replace(/([a-z])\1*/ig,function(_581){var s;var c=_581.charAt(0);var l=_581.length;var p2="",p3="";if(_57f.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s=p2+"[1-9]|[12]\\d|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_57f.am||_57e.am||"AM";var pm=_57f.pm||_57e.pm||"PM";if(_57f.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_57d){_57d.push(_581);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _589=[];dojo.date.locale.addCustomFormats=function(_58a,_58b){_589.push({pkg:_58a,name:_58b});};dojo.date.locale._getGregorianBundle=function(_58c){var _58d={};dojo.forEach(_589,function(desc){var _58f=dojo.i18n.getLocalization(desc.pkg,desc.name,_58c);_58d=dojo.mixin(_58d,_58f);},this);return _58d;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,use,_593){var _594;var _595=dojo.date.locale._getGregorianBundle(_593);var _596=[item,use,type];if(use=="standAlone"){_594=_595[_596.join("-")];}_596[1]="format";return (_594||_595[_596.join("-")]).concat();};dojo.date.locale.isWeekend=function(_597,_598){var _599=dojo.cldr.supplemental.getWeekend(_598);var day=(_597||new Date()).getDay();if(_599.end<_599.start){_599.end+=7;if(day<_599.start){day+=7;}}return day>=_599.start&&day<=_599.end;};dojo.date.locale._getDayOfYear=function(_59b){return dojo.date.difference(new Date(_59b.getFullYear(),0,1),_59b)+1;};dojo.date.locale._getWeekOfYear=function(_59c,_59d){if(arguments.length==1){_59d=0;}var _59e=new Date(_59c.getFullYear(),0,1).getDay();var adj=(_59e-_59d+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_59c)+adj-1)/7);if(_59e==_59d){week++;}return week;};}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset' dojoAttachEvent=\"onclick: _onDecrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\"><span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarDecreaseInner\">-</span></span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonth\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' dojoAttachEvent=\"onclick: _onIncrementMonth\">\n\t\t\t\t<div class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\"><span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarIncreaseInner\">+</span></div>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\"\n\t\t\t\t\t\tdojoAttachEvent=\"onclick: _onDecrementYear\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\"\n\t\t\t\t\t\tdojoAttachEvent=\"onclick: _onIncrementYear\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\t\n",value:new Date(),dayWidth:"narrow",setValue:function(_5a1){if(!this.value||dojo.date.compare(_5a1,this.value)){_5a1=new Date(_5a1);this.displayMonth=new Date(_5a1);if(!this.isDisabledDate(_5a1,this.lang)){this.value=_5a1;this.value.setHours(0,0,0,0);this.onChange(this.value);}this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(document.createTextNode(text));},_populateGrid:function(){var _5a4=this.displayMonth;_5a4.setDate(1);var _5a5=_5a4.getDay();var _5a6=dojo.date.getDaysInMonth(_5a4);var _5a7=dojo.date.getDaysInMonth(dojo.date.add(_5a4,"month",-1));var _5a8=new Date();var _5a9=this.value;var _5aa=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_5aa>_5a5){_5aa-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_5ab,i){i+=_5aa;var date=new Date(_5a4);var _5ae,_5af="dijitCalendar",adj=0;if(i<_5a5){_5ae=_5a7-_5a5+i+1;adj=-1;_5af+="Previous";}else{if(i>=(_5a5+_5a6)){_5ae=i-_5a5-_5a6+1;adj=1;_5af+="Next";}else{_5ae=i-_5a5+1;_5af+="Current";}}if(adj){date=dojo.date.add(date,"month",adj);}date.setDate(_5ae);if(!dojo.date.compare(date,_5a8,"date")){_5af="dijitCalendarCurrentDate "+_5af;}if(!dojo.date.compare(date,_5a9,"date")){_5af="dijitCalendarSelectedDate "+_5af;}if(this.isDisabledDate(date,this.lang)){_5af="dijitCalendarDisabledDate "+_5af;}_5ab.className=_5af+"Month dijitCalendarDateTemplate";_5ab.dijitDateValue=date.valueOf();var _5b1=dojo.query(".dijitCalendarDateLabel",_5ab)[0];this._setText(_5b1,date.getDate());},this);var _5b2=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_5b2[_5a4.getMonth()]);var y=_5a4.getFullYear()-1;dojo.forEach(["previous","current","next"],function(name){this._setText(this[name+"YearLabelNode"],dojo.date.locale.format(new Date(y++,0),{selector:"year",locale:this.lang}));},this);},postCreate:function(){dijit._Calendar.superclass.postCreate.apply(this);var _5b5=dojo.hitch(this,function(_5b6,n){var _5b8=dojo.query(_5b6,this.domNode)[0];for(var i=0;i<n;i++){_5b8.parentNode.appendChild(_5b8.cloneNode(true));}});_5b5(".dijitCalendarDayLabelTemplate",6);_5b5(".dijitCalendarDateTemplate",6);_5b5(".dijitCalendarWeekTemplate",5);var _5ba=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _5bb=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_5bc,i){this._setText(_5bc,_5ba[(i+_5bb)%7]);},this);var _5be=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(_5be,function(name){var _5c0=dojo.doc.createElement("div");this._setText(_5c0,name);this.monthLabelSpacer.appendChild(_5c0);},this);this.value=null;this.setValue(new Date());},_adjustDate:function(part,_5c2){this.displayMonth=dojo.date.add(this.displayMonth,part,_5c2);this._populateGrid();},_onIncrementMonth:function(evt){evt.stopPropagation();this._adjustDate("month",1);},_onDecrementMonth:function(evt){evt.stopPropagation();this._adjustDate("month",-1);},_onIncrementYear:function(evt){evt.stopPropagation();this._adjustDate("year",1);},_onDecrementYear:function(evt){evt.stopPropagation();this._adjustDate("year",-1);},_onDayClick:function(evt){var node=evt.target;dojo.stopEvent(evt);while(!node.dijitDateValue){node=node.parentNode;}if(!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.setValue(node.dijitDateValue);this.onValueSelected(this.value);}},onValueSelected:function(date){},onChange:function(date){},isDisabledDate:function(_5cb,_5cc){return false;}});}if(!dojo._hasResource["dijit.form._TimePicker"]){dojo._hasResource["dijit.form._TimePicker"]=true;dojo.provide("dijit.form._TimePicker");dojo.declare("dijit.form._TimePicker",[dijit._Widget,dijit._Templated],{templateString:"<fieldset id=\"widget_${id}\" baseClass=\"dijitTimePicker\" class=\"dijitMenu\"\n><div dojoAttachPoint=\"upArrow\" class=\"dijitButtonNode\">&#9650;</div\n><div dojoAttachPoint=\"timeMenu\" dojoAttachEvent=\"onclick:_onOptionSelected,onmouseover,onmouseout\"\n></div\n><div dojoAttachPoint=\"downArrow\" class=\"dijitButtonNode\">&#9660;</div\n></fieldset>\n",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_refdate:null,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,setValue:function(date,_5ce){this.value=date;this._showText();},isDisabledDate:function(_5cf,_5d0){return false;},_showText:function(){this.timeMenu.innerHTML="";var _5d1=dojo.date.stamp.fromISOString;this._clickableIncrementDate=_5d1(this.clickableIncrement);this._visibleIncrementDate=_5d1(this.visibleIncrement);this._visibleRangeDate=_5d1(this.visibleRange);var _5d2=this._toSeconds(this._clickableIncrementDate);var _5d3=this._toSeconds(this._visibleIncrementDate);var _5d4=this._toSeconds(this._visibleRangeDate);this._refdate=this._roundTime(this.value,_5d3);this._clickableIncrement=1;this._totalIncrements=_5d4/_5d2;this._visibleIncrement=_5d3/_5d2;for(var i=-this._totalIncrements/2;i<=this._totalIncrements/2;i+=this._clickableIncrement){var div=this._createOption(i);this.timeMenu.appendChild(div);}},postCreate:function(){if(this.constraints===dijit.form._TimePicker.prototype.constraints){this.constraints={};}if(!this.constraints.locale){this.constraints.locale=this.lang;}dijit.typematic.addMouseListener(this.upArrow,this,this._onArrowUp,0.8,500);dijit.typematic.addMouseListener(this.downArrow,this,this._onArrowDown,0.8,500);dijit.form._TimePicker.superclass.postCreate.apply(this,arguments);this.setValue(this.value);},_roundTime:function(date,_5d8){var _5d9=this._toSeconds(date);var _5da=_5d9-_5d9%_5d8;var _5db=new Date();_5db.setYear(date.getFullYear());_5db.setMonth(date.getMonth());_5db.setDate(date.getDate());_5db.setHours(0);_5db.setMinutes(0);_5db.setSeconds(_5da);console.debug("Time was: "+date+". Rounding UI to: "+_5db);return _5db;},_toSeconds:function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();},_createOption:function(_5dd){var div=document.createElement("div");div.date=new Date(this._refdate);div.index=_5dd;div.date.setSeconds(div.date.getSeconds()+this._clickableIncrementDate.getSeconds()*_5dd);div.date.setMinutes(div.date.getMinutes()+this._clickableIncrementDate.getMinutes()*_5dd);div.date.setHours(div.date.getHours()+this._clickableIncrementDate.getHours()*_5dd);if(_5dd%this._visibleIncrement<1&&_5dd%this._visibleIncrement>-1){div.innerHTML=dojo.date.locale.format(div.date,this.constraints);dojo.addClass(div,"dijitTimePickerItem");}else{if(_5dd%this._clickableIncrement==0){div.innerHTML="&nbsp;";dojo.addClass(div,"dijitTimePickerItemSmall");}}if(this.isDisabledDate(div.date)){dojo.addClass(div,"dijitTimePickerItemDisabled");}return div;},_onOptionSelected:function(tgt){if(!tgt.target.date||this.isDisabledDate(tgt.target.date)){return;}this.setValue(tgt.target.date);this.onValueSelected(tgt.target.date);},onValueSelected:function(_5e0){},onmouseover:function(evt){if(evt.target===this.timeMenu){return;}this._highlighted_option=evt.target;dojo.addClass(evt.target,"dijitMenuItemHover");},onmouseout:function(evt){if(evt.target===this.timeMenu||this._highlighted_option==null){return;}dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");},_onArrowUp:function(){var _5e3=this.timeMenu.childNodes[0].index-1;var div=this._createOption(_5e3);this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);this.timeMenu.insertBefore(div,this.timeMenu.childNodes[0]);},_onArrowDown:function(){var _5e5=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;var div=this._createOption(_5e5);this.timeMenu.removeChild(this.timeMenu.childNodes[0]);this.timeMenu.appendChild(div);}});}if(!dojo._hasResource["dijit.form.TimeTextBox"]){dojo._hasResource["dijit.form.TimeTextBox"]=true;dojo.provide("dijit.form.TimeTextBox");dojo.declare("dijit.form.TimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(_5e7,_5e8){if(!_5e7||_5e7.toString()==this._invalid){return null;}return dojo.date.locale.format(_5e7,_5e8);},parse:dojo.date.locale.parse,serialize:dojo.date.stamp.toISOString,value:new Date(""),_invalid:(new Date("")).toString(),_popupClass:"dijit.form._TimePicker",postMixInProperties:function(){dijit.form.RangeBoundTextBox.prototype.postMixInProperties.apply(this,arguments);var _5e9=this.constraints;_5e9.selector="time";if(typeof _5e9.min=="string"){_5e9.min=dojo.date.stamp.fromISOString(_5e9.min);}if(typeof _5e9.max=="string"){_5e9.max=dojo.date.stamp.fromISOString(_5e9.max);}},_onFocus:function(evt){this._open();},setValue:function(_5eb,_5ec){this.inherited("setValue",arguments);if(this._picker){if(!_5eb||_5eb.toString()==this._invalid){_5eb=new Date();}this._picker.setValue(_5eb);}},_open:function(){var self=this;if(!this._picker){var _5ee=dojo.getObject(this._popupClass,false);this._picker=new _5ee({onValueSelected:function(_5ef){self.focus();setTimeout(dijit.popup.close,1);dijit.form.TimeTextBox.superclass.setValue.call(self,_5ef,true);},lang:this.lang,constraints:this.constraints,isDisabledDate:function(date){return self.constraints&&(dojo.date.compare(self.constraints.min,date)>0||dojo.date.compare(self.constraints.max,date)<0);}});this._picker.setValue(this.getValue()||new Date());}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onClose:function(){self._opened=false;}});this._opened=true;}},_onBlur:function(){dijit.popup.closeAll();this.inherited("_onBlur",arguments);},getDisplayedValue:function(){return this.textbox.value;},setDisplayedValue:function(_5f1){this.textbox.value=_5f1;}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form.TimeTextBox,{_popupClass:"dijit._Calendar",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);this.constraints.selector="date";}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}dojo.i18n._preloadLocalizations("dojo.nls.commonWidgets",["ROOT","es-es","es","it-it","pt-br","de","fr-fr","zh-cn","pt","en-us","zh","fr","zh-tw","it","en-gb","xx","de-de","ko-kr","ja-jp","ko","en","ja"]);
