/*
	Copyright (c) 2004-2007, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/book/dojo-book-0-9/introduction/licensing
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._copyKey=navigator.appVersion.indexOf("Macintosh")<0?"ctrlKey":"metaKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id="dojoUnique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);console.debug(b.l,b.t,t.x,t.y,n.scrollLeft,n.scrollTop);b.l+=t.x+n.scrollLeft;b.t+=t.y+n.scrollTop;var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-b.l,ry=e.pageY-b.t,dx=0,dy=0;if(rx>0&&rx<b.w){if(rx<w){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(rx>b.w-w){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(ry>b.h-h){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}}var _18=n.scrollLeft,_19=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(dx||dy){console.debug(_18+", "+_19+"\n"+dx+", "+dy+"\n"+n.scrollLeft+", "+n.scrollTop);}if(_18!=n.scrollLeft||_19!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(_1a,e,_1c){this.node=dojo.byId(_1a);var n=this.notifier=_1c;this.marginBox={l:e.pageX,t:e.pageY};var d=_1a.ownerDocument,_1f=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"destroy"),dojo.connect(d,"ondragstart",dojo,"stopEvent"),dojo.connect(d,"onselectstart",dojo,"stopEvent"),_1f];if(n&&n.onDndMoveStart){n.onDndMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;dojo.marginBox(this.node,{l:m.l+e.pageX,t:m.t+e.pageY});},onFirstMove:function(){this.node.style.position="absolute";var m=dojo.marginBox(this.node);m.l-=this.marginBox.l;m.t-=this.marginBox.t;this.marginBox=m;dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var n=this.notifier;if(n&&n.onDndMoveStop){n.onDndMoveStop(this);}this.events=this.node=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(_24,_25){this.node=dojo.byId(_24);this.handle=(_25&&_25.handle)?dojo.byId(_25.handle):null;if(!this.handle){this.handle=this.node;}this.delay=(_25&&_25.delay>0)?_25.delay:0;this.skip=_25&&_25.skip;this.mover=(_25&&_25.mover)?_25.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",dojo,"stopEvent"),dojo.connect(this.handle,"onselectstart",dojo,"stopEvent")];},markupFactory:function(_26,_27){return new dojo.dnd.Moveable(_27,_26);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"));this.events.push(dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{new this.mover(this.node,e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);new this.mover(this.node,e);}dojo.stopEvent(e);},onMouseUp:function(e){dojo.disconnect(this.events.pop());dojo.disconnect(this.events.pop());},onDndMoveStart:function(_2b){dojo.publish("/dnd/move/start",[_2b]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onDndMoveStop:function(_2c){dojo.publish("/dnd/move/stop",[_2c]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.dnd.move.constrainedMover=function(fun,_2e){var _2f=function(_30,e){dojo.dnd.Mover.call(this,_30,e);};dojo.extend(_2f,dojo.dnd.Mover.prototype);dojo.extend(_2f,{onMouseMove:function(e){var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;dojo.marginBox(this.node,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this),m=this.marginBox;c.r=c.l+c.w-(_2e?m.w:0);c.b=c.t+c.h-(_2e?m.h:0);}});return _2f;};dojo.dnd.move.boxConstrainedMover=function(box,_3a){return dojo.dnd.move.constrainedMover(function(){return box;},_3a);};dojo.dnd.move.parentConstrainedMover=function(_3b,_3c){var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(_3b=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_3b=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_3b=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_3c);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");dojo.fx.chain=function(_42){var _43=_42.shift();var _44=_43;dojo.forEach(_42,function(_45){dojo.connect(_44,"onEnd",_45,"play");_44=_45;});return _43;};dojo.fx.combine=function(_46){var _47=_46.shift();dojo.forEach(_46,function(_48){dojo.forEach(["play","pause","stop"],function(_49){if(_48[_49]){dojo.connect(_47,_49,_48,_49);}},this);});return _47;};dojo.declare("dojo.fx.Toggler",null,{constructor:function(_4a){var _t=this;dojo.mixin(_t,_4a);_t.node=_4a.node;_t._showArgs=dojo.mixin({},_4a);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},_4a);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,_showArgs:null,_showAnim:null,_hideArgs:null,_hideAnim:null,_isShowing:false,_isHiding:false,show:function(_4c){return this.showAnim.play(_4c||0);},hide:function(_4d){return this.hideAnim.play(_4d||0);}});dojo.fx.wipeIn=function(_4e){_4e.node=dojo.byId(_4e.node);var _4f=_4e.node,s=_4f.style;var _51=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _52=dojo.style(_4f,"height");return Math.max(_52,1);}},end:function(){return _4f.scrollHeight;}}}},_4e));dojo.connect(_51,"onEnd",_51,function(){s.height="auto";});return _51;};dojo.fx.wipeOut=function(_53){var _54=(_53.node=dojo.byId(_53.node));var _55=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},_53));dojo.connect(_55,"beforeBegin",_55,function(){var s=_54.style;s.overflow="hidden";s.display="";});dojo.connect(_55,"onEnd",_55,function(){var s=this.node.style;s.height="auto";s.display="none";});return _55;};dojo.fx.slideTo=function(_58){var _59=(_58.node=dojo.byId(_58.node));var top=null;var _5b=null;var _5c=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_5b=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;_5b=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_5b+"px";}};})(_59);_5c();var _61=dojo.animateProperty(dojo.mixin({properties:{top:{end:_58.top||0},left:{end:_58.left||0}}},_58));dojo.connect(_61,"beforeBegin",_61,_5c);return _61;};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _62=dojo.global;var _63=dojo.doc;if(_63.selection){return !_63.selection.createRange().text;}else{if(_62.getSelection){var _64=_62.getSelection();if(dojo.isString(_64)){return !_64;}else{return _64.isCollapsed||!_64.toString();}}}},getBookmark:function(){var _65,_66=dojo.doc.selection;if(_66){var _67=_66.createRange();if(_66.type.toUpperCase()=="CONTROL"){_65=_67.length?dojo._toArray(_67):null;}else{_65=_67.getBookmark();}}else{if(dojo.global.getSelection){_66=dojo.global.getSelection();if(_66){var _67=_66.getRangeAt(0);_65=_67.cloneRange();}}else{console.debug("No idea how to store the current selection for this browser!");}}return _65;},moveToBookmark:function(_68){var _69=dojo.doc;if(_69.selection){var _6a;if(dojo.isArray(_68)){_6a=_69.body.createControlRange();dojo.forEach(_68,_6a.addElement);}else{_6a=_69.selection.createRange();_6a.moveToBookmark(_68);}_6a.select();}else{var _6b=dojo.global.getSelection&&dojo.global.getSelection();if(_6b&&_6b.removeAllRanges){_6b.removeAllRanges();_6b.addRange(_68);}else{console.debug("No idea how to restore selection for this browser!");}}},getFocus:function(_6c,_6d){return {node:_6c&&dojo.isDescendant(dijit._curFocus,_6c.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_6d||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_6d||dojo.global,dijit.getBookmark):null,openedForWindow:_6d};},focus:function(_6e){if(!_6e){return;}var _6f="node" in _6e?_6e.node:_6e,_70=_6e.bookmark,_71=_6e.openedForWindow;if(_6f){var _72=(_6f.tagName.toLowerCase()=="iframe")?_6f.contentWindow:_6f;if(_72&&_72.focus){try{_72.focus();}catch(e){}}dijit._onFocusNode(_6f);}if(_70&&dojo.withGlobal(_71||dojo.global,dijit.isCollapsed)){if(_71){_71.focus();}try{dojo.withGlobal(_71||dojo.global,moveToBookmark,null,[_70]);}catch(e){}}},_activeStack:[],registerWin:function(_73){if(!_73){_73=window;}dojo.connect(_73.document,"onmousedown",null,function(evt){dijit._ignoreNextBlurEvent=true;setTimeout(function(){dijit._ignoreNextBlurEvent=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var _75=_73.document.body||_73.document.getElementsByTagName("body")[0];if(_75){if(dojo.isIE){_75.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="body"){dijit._onFocusNode(evt.srcElement);}});_75.attachEvent("ondeactivate",function(evt){dijit._onBlurNode();});}else{_75.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);_75.addEventListener("blur",function(evt){dijit._onBlurNode();},true);}}_75=null;},_onBlurNode:function(){if(dijit._ignoreNextBlurEvent){dijit._ignoreNextBlurEvent=false;return;}dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._blurAllTimer){clearTimeout(dijit._blurAllTimer);}dijit._blurAllTimer=setTimeout(function(){delete dijit._blurAllTimer;dijit._setStack([]);},100);},_onTouchNode:function(_7a){if(dijit._blurAllTimer){clearTimeout(dijit._blurAllTimer);delete dijit._blurAllTimer;}var _7b=[];try{while(_7a){if(_7a.dijitPopupParent){_7a=dijit.byId(_7a.dijitPopupParent).domNode;}else{if(_7a.tagName&&_7a.tagName.toLowerCase()=="body"){if(_7a===dojo.body()){break;}_7a=dojo.query("iframe").filter(function(_7c){return _7c.contentDocument.body===_7a;})[0];}else{var id=_7a.getAttribute&&_7a.getAttribute("widgetId");if(id){_7b.unshift(id);}_7a=_7a.parentNode;}}}}catch(e){}dijit._setStack(_7b);},_onFocusNode:function(_7e){if(_7e&&_7e.tagName&&_7e.tagName.toLowerCase()=="body"){return;}dijit._onTouchNode(_7e);if(_7e==dijit._curFocus){return;}dijit._prevFocus=dijit._curFocus;dijit._curFocus=_7e;dojo.publish("focusNode",[_7e]);var w=dijit.byId(_7e.id);if(w&&w._setStateClass){w._focused=true;w._setStateClass();var _80=dojo.connect(_7e,"onblur",function(){w._focused=false;w._setStateClass();dojo.disconnect(_80);});}},_setStack:function(_81){var _82=dijit._activeStack;dijit._activeStack=_81;for(var _83=0;_83<Math.min(_82.length,_81.length);_83++){if(_82[_83]!=_81[_83]){break;}}for(var i=_82.length-1;i>=_83;i--){var _85=dijit.byId(_82[i]);if(_85){dojo.publish("widgetBlur",[_85]);if(_85._onBlur){_85._onBlur();}}}for(var i=_83;i<_81.length;i++){var _85=dijit.byId(_81[i]);if(_85){dojo.publish("widgetFocus",[_85]);if(_85._onFocus){_85._onFocus();}}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_86){if(this._hash[_86.id]){throw new Error("Tried to register widget with id=="+_86.id+" but that id is already registered");}this._hash[_86.id]=_86;},remove:function(id){delete this._hash[id];},forEach:function(_88){for(var id in this._hash){_88(this._hash[id]);}},filter:function(_8a){var res=new dijit.WidgetSet();this.forEach(function(_8c){if(_8a(_8c)){res.add(_8c);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_8f){return _8f.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_90){var id;do{id=_90+"_"+(dijit._widgetTypeCtr[_90]!==undefined?++dijit._widgetTypeCtr[_90]:dijit._widgetTypeCtr[_90]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnUnload(function(){dijit.registry.forEach(function(_92){_92.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_94){return dijit.registry.byId(_94.getAttribute("widgetId"));};}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _95=dojo.global;var _96=dojo.doc;var w=0,h=0;if(dojo.isMozilla){var _99,_9a,_9b,_9c;if(_96.body.clientWidth>_96.documentElement.clientWidth){_99=_96.documentElement.clientWidth;_9b=_96.body.clientWidth;}else{_9b=_96.documentElement.clientWidth;_99=_96.body.clientWidth;}if(_96.body.clientHeight>_96.documentElement.clientHeight){_9a=_96.documentElement.clientHeight;_9c=_96.body.clientHeight;}else{_9c=_96.documentElement.clientHeight;_9a=_96.body.clientHeight;}w=(_9b>_95.innerWidth)?_99:_9b;h=(_9c>_95.innerHeight)?_9a:_9c;}else{if(!dojo.isOpera&&_95.innerWidth){w=_95.innerWidth;h=_95.innerHeight;}else{if(dojo.isIE&&_96.documentElement&&_96.documentElement.clientHeight){w=_96.documentElement.clientWidth;h=_96.documentElement.clientHeight;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _9d=dojo._docScroll();return {w:w,h:h,l:_9d.x,t:_9d.y};};dijit.placeOnScreen=function(_9e,pos,_a0,_a1){var _a2=dojo.map(_a0,function(_a3){return {corner:_a3,pos:pos};});return dijit._place(_9e,_a2);};dijit._place=function(_a4,_a5,_a6){var _a7=dijit.getViewport();if(!_a4.parentNode||String(_a4.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_a4);}var _a8=null;for(var i=0;i<_a5.length;i++){var _aa=_a5[i].corner;var pos=_a5[i].pos;if(_a6){_a6(_aa);}var _ac=_a4.style.display;var _ad=_a4.style.visibility;_a4.style.visibility="hidden";_a4.style.display="";var mb=dojo.marginBox(_a4);_a4.style.display=_ac;_a4.style.visibility=_ad;var _af=(_aa.charAt(1)=="L"?pos.x:Math.max(_a7.l,pos.x-mb.w)),_b0=(_aa.charAt(0)=="T"?pos.y:Math.max(_a7.t,pos.y-mb.h)),_b1=(_aa.charAt(1)=="L"?Math.min(_a7.l+_a7.w,_af+mb.w):pos.x),_b2=(_aa.charAt(0)=="T"?Math.min(_a7.t+_a7.h,_b0+mb.h):pos.y),_b3=_b1-_af,_b4=_b2-_b0,_b5=(mb.w-_b3)+(mb.h-_b4);if(_a8==null||_b5<_a8.overflow){_a8={corner:_aa,aroundCorner:_a5[i].aroundCorner,x:_af,y:_b0,w:_b3,h:_b4,overflow:_b5};}if(_b5==0){break;}}_a4.style.left=_a8.x+"px";_a4.style.top=_a8.y+"px";return _a8;};dijit.placeOnScreenAroundElement=function(_b6,_b7,_b8,_b9){_b7=dojo.byId(_b7);var _ba=_b7.style.display;_b7.style.display="";var _bb=_b7.offsetWidth;var _bc=_b7.offsetHeight;var _bd=dojo.coords(_b7,true);_b7.style.display=_ba;var _be=[];for(var _bf in _b8){_be.push({aroundCorner:_bf,corner:_b8[_bf],pos:{x:_bd.x+(_bf.charAt(1)=="L"?0:_bb),y:_bd.y+(_bf.charAt(0)=="T"?0:_bc)}});}return dijit._place(_b6,_be,_b9);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isSafari&&!doc._parentWindow){var fix=function(win){win.document._parentWindow=win;for(var i=0;i<win.frames.length;i++){fix(win.frames[i]);}};fix(window.top);}if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _c5=[],_c6=1000,_c7=1;this.open=function(_c8){var _c9=_c8.popup,_ca=_c8.orient||{"BL":"TL","TL":"BL"},_cb=_c8.around,id=(_c8.around&&_c8.around.id)?(_c8.around.id+"_dropdown"):("popup_"+_c7++);if(!_c8.submenu){this.closeAll();}var _cd=dojo.doc.createElement("div");_cd.id=id;_cd.className="dijitPopup";_cd.style.zIndex=_c6+_c5.length;_cd.style.visibility="hidden";if(_c8.parent){_cd.dijitPopupParent=_c8.parent.id;}dojo.body().appendChild(_cd);_c9.domNode.style.display="";_cd.appendChild(_c9.domNode);var _ce=new dijit.BackgroundIframe(_cd);var _cf=_cb?dijit.placeOnScreenAroundElement(_cd,_cb,_ca,_c9.orient?dojo.hitch(_c9,"orient"):null):dijit.placeOnScreen(_cd,_c8,_ca=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_cd.style.visibility="visible";var _d0=[];_d0.push(dojo.connect(_cd,"onkeypress",this,function(evt){if(evt.keyCode==dojo.keys.ESCAPE){_c8.onCancel();}else{if(evt.keyCode==dojo.keys.TAB){dojo.stopEvent(evt);if(_c5[0]&&_c5[0].onCancel){_c5[0].onCancel();}}}}));if(_c9.onCancel){_d0.push(dojo.connect(_c9,"onCancel",null,_c8.onCancel));}_d0.push(dojo.connect(_c9,_c9.onExecute?"onExecute":"onChange",null,function(){if(_c5[0]&&_c5[0].onExecute){_c5[0].onExecute();}}));_c5.push({wrapper:_cd,iframe:_ce,widget:_c9,onExecute:_c8.onExecute,onCancel:_c8.onCancel,onClose:_c8.onClose,handlers:_d0});if(_c9.onOpen){_c9.onOpen(_cf);}return _cf;};this.close=function(){if(!_c5.length){return;}var _d2=_c5[_c5.length-1].widget;if(_d2.onClose){_d2.onClose();}var top=_c5.pop();var _d4=top.wrapper,_d5=top.iframe,_d2=top.widget,_d6=top.onClose;dojo.forEach(top.handlers,dojo.disconnect);if(!_d2||!_d2.domNode){return;}dojo.style(_d2.domNode,"display","none");dojo.body().appendChild(_d2.domNode);_d5.destroy();dojo._destroyElement(_d4);if(_d6){_d6();}};this.closeAll=function(){while(_c5.length){this.close();}};this.closeTo=function(_d7){while(_c5.length&&_c5[_c5.length-1].widget.id!=_d7.id){this.close();}};}();dijit._frames=new function(){var _d8=[];this.pop=function(){var _d9;if(_d8.length){_d9=_d8.pop();_d9.style.display="";}else{if(dojo.isIE){var _da="<iframe src='javascript:\"\"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_d9=dojo.doc.createElement(_da);}else{var _d9=dojo.doc.createElement("iframe");_d9.src="javascript:\"\"";_d9.className="dijitBackgroundIframe";}_d9.tabIndex=-1;dojo.body().appendChild(_d9);}return _d9;};this.push=function(_db){_db.style.display="";if(dojo.isIE){_db.style.removeExpression("width");_db.style.removeExpression("height");}_d8.push(_db);};}();if(dojo.isIE&&dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(_dd){if(!_dd.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _de=dijit._frames.pop();_dd.appendChild(_de);if(dojo.isIE){_de.style.setExpression("width","document.getElementById('"+_dd.id+"').offsetWidth");_de.style.setExpression("height","document.getElementById('"+_dd.id+"').offsetHeight");}this.iframe=_de;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_df){if(dojo.isIE){if(dojo.marginBox(_df.parentNode).h<=_df.parentNode.scrollHeight){_df.scrollIntoView(false);}}else{if(dojo.isMozilla){_df.scrollIntoView(false);}else{var _e0=_df.parentNode;var _e1=_e0.scrollTop+dojo.marginBox(_e0).h;var _e2=_df.offsetTop+dojo.marginBox(_df).h;if(_e1<_e2){_e0.scrollTop+=(_e2-_e1);}else{if(_e0.scrollTop>_df.offsetTop){_e0.scrollTop-=(_e0.scrollTop-_df.offsetTop);}}}}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _e5=d.isOpera;var maj=Math.floor;var _e7={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_e5,dj_opera8:maj(_e5)==8,dj_opera9:maj(_e5)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla};for(var p in _e7){if(_e7[p]){var _e9=dojo.doc.documentElement;if(_e9.className){_e9.className+=" "+p;}else{_e9.className=p;}}}})();}if(!dojo._hasResource["dijit._base.bidi"]){dojo._hasResource["dijit._base.bidi"]=true;dojo.provide("dijit._base.bidi");dojo.addOnLoad(function(){if(!dojo._isBodyLtr()){dojo.addClass(dojo.body(),"dijitRtl");}});}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_eb,_ec,_ed,obj,_ef,_f0){if(obj!=this._obj){this.stop();this._initialDelay=_f0?_f0:500;this._subsequentDelay=_ef?_ef:0.9;this._obj=obj;this._evt=evt;this._node=_ec;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_eb,_ed);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_f1,_f2,_f3,_f4,_f5,_f6){var ary=[];ary.push(dojo.connect(_f1,"onkeypress",this,function(evt){if(evt.keyCode==_f2.keyCode&&(!_f2.charCode||_f2.charCode==evt.charCode)&&((typeof _f2.ctrlKey=="undefined")||_f2.ctrlKey==evt.ctrlKey)&&((typeof _f2.altKey=="undefined")||_f2.altKey==evt.ctrlKey)&&((typeof _f2.shiftKey=="undefined")||_f2.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_f2,_f3,_f1,_f4,_f2,_f5,_f6);}else{if(dijit.typematic._obj==_f2){dijit.typematic.stop();}}}));ary.push(dojo.connect(_f1,"onkeyup",this,function(evt){if(dijit.typematic._obj==_f2){dijit.typematic.stop();}}));return ary;},addMouseListener:function(_fa,_fb,_fc,_fd,_fe){var ary=[];ary.push(dojo.connect(_fa,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_fb,_fa,_fc,_fa,_fd,_fe);}));ary.push(dojo.connect(_fa,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}));ary.push(dojo.connect(_fa,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}));ary.push(dojo.connect(_fa,"mousemove",this,function(evt){dojo.stopEvent(evt);}));ary.push(dojo.connect(_fa,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_fb,_fa,_fc,_fa,_fd,_fe);setTimeout("dijit.typematic.stop()",50);}}));return ary;},addListener:function(_105,_106,_107,_108,_109,_10a,_10b){return this.addKeyListener(_106,_107,_108,_109,_10a,_10b).concat(this.addMouseListener(_105,_108,_109,_10a,_10b));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.waiNames=["waiRole","waiState"];dijit.wai={waiRole:{name:"waiRole","namespace":"http://www.w3.org/TR/xhtml2",alias:"x2",prefix:"wairole:"},waiState:{name:"waiState","namespace":"http://www.w3.org/2005/07/aaa",alias:"aaa",prefix:""},setAttr:function(node,ns,attr,_10f){if(dojo.isIE){node.setAttribute(this[ns].alias+":"+attr,this[ns].prefix+_10f);}else{node.setAttributeNS(this[ns]["namespace"],attr,this[ns].prefix+_10f);}},getAttr:function(node,ns,attr){if(dojo.isIE){return node.getAttribute(this[ns].alias+":"+attr);}else{return node.getAttributeNS(this[ns]["namespace"],attr);}},removeAttr:function(node,ns,attr){var _116=true;if(dojo.isIE){_116=node.removeAttribute(this[ns].alias+":"+attr);}else{node.removeAttributeNS(this[ns]["namespace"],attr);}return _116;},onload:function(){var div=document.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"left: -999px;"+"top: -999px;"+"background-image: url(\""+dojo.moduleUrl("dijit","form/templates/blank.gif")+"\");";dojo.body().appendChild(div);function check(){var cs=dojo.getComputedStyle(div);if(cs){var _119=cs.backgroundImage;var _11a=(cs.borderTopColor==cs.borderRightColor)||(_119!=null&&(_119=="none"||_119=="url(invalid-url:)"));dojo[_11a?"addClass":"removeClass"](dojo.body(),"dijit_a11y");}};check();if(dojo.isIE){setInterval(check,4000);}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},postscript:function(_11b,_11c){this.create(_11b,_11c);},create:function(_11d,_11e){this.srcNodeRef=dojo.byId(_11e);this._connects=[];this._attaches=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_11d){dojo.mixin(this,_11d);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){for(var attr in this.attributeMap){var _120=this[this.attributeMap[attr]||"domNode"];var _121=this[attr];if(typeof _121!="object"&&(_121!==""||(_11d&&_11d[attr]))){switch(attr){case "class":dojo.addClass(_120,_121);break;case "style":if(_120.style.cssText){_120.style.cssText+="; "+_121;}else{_120.style.cssText=_121;}break;default:_120.setAttribute(attr,_121);}}}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef;},postCreate:function(){},startup:function(){},destroyRecursive:function(_122){this.destroyDescendants();this.destroy();},destroy:function(_123){this.uninitialize();dojo.forEach(this._connects,function(_124){dojo.forEach(_124,dojo.disconnect);});this.destroyRendering(_123);dijit.registry.remove(this.id);},destroyRendering:function(_125){if(this.bgIframe){this.bgIframe.destroy();delete this.bgIframe;}if(this.domNode){dojo._destroyElement(this.domNode);delete this.domNode;}if(this.srcNodeRef){dojo._destroyElement(this.srcNodeRef);delete this.srcNodeRef;}},destroyDescendants:function(){dojo.forEach(this.getDescendants(),function(_126){_126.destroy();});},uninitialize:function(){return false;},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){var list=dojo.query("[widgetId]",this.domNode);return list.map(dijit.byNode);},nodesWithKeyClick:["input","button"],connect:function(obj,_129,_12a){var _12b=[];if(_129=="ondijitclick"){var w=this;if(!this.nodesWithKeyClick[obj.nodeName]){_12b.push(dojo.connect(obj,"onkeydown",this,function(e){if(e.keyCode==dojo.keys.ENTER){return (dojo.isString(_12a))?w[_12a](e):_12a.call(w,e);}else{if(e.keyCode==dojo.keys.SPACE){dojo.stopEvent(e);}}}));_12b.push(dojo.connect(obj,"onkeyup",this,function(e){if(e.keyCode==dojo.keys.SPACE){return dojo.isString(_12a)?w[_12a](e):_12a.call(w,e);}}));}_129="onclick";}_12b.push(dojo.connect(obj,_129,this,_12a));this._connects.push(_12b);return _12b;},disconnect:function(_12f){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_12f){dojo.forEach(_12f,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){if(typeof this._ltr=="undefined"){this._ltr=dojo.getComputedStyle(this.domNode).direction!="rtl";}return this._ltr;},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.pad=function(text,size,ch,end){var out=String(text);if(!ch){ch="0";}while(out.length<size){if(end){out+=ch;}else{out=ch+out;}}return out;};dojo.string.substitute=function(_136,map,_138,_139){return _136.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_13a,key,_13c){var _13d=dojo.getObject(key,false,map);if(_13c){_13d=dojo.getObject(_13c,false,_139)(_13d);}if(_138){_13d=_138(_13d,key);}return _13d.toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_140,_141){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _142=dojo.date.stamp._isoRegExp.exec(_140);var _143=null;if(_142){_142.shift();_142[1]&&_142[1]--;_142[6]&&(_142[6]*=1000);if(_141){_141=new Date(_141);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _141["get"+prop]();}).forEach(function(_145,_146){if(_142[_146]===undefined){_142[_146]=_145;}});}_143=new Date(_142[0]||1970,_142[1]||0,_142[2]||0,_142[3]||0,_142[4]||0,_142[5]||0,_142[6]||0);var _147=0;var _148=_142[7]&&_142[7].charAt(0);if(_148!="Z"){_147=((_142[8]||0)*60)+(Number(_142[9])||0);if(_148!="-"){_147*=-1;}}if(_148){_147-=_143.getTimezoneOffset();}if(_147){_143.setTime(_143.getTime()+_147*60000);}}return _143;};dojo.date.stamp.toISOString=function(_149,_14a){var _=function(n){return (n<10)?"0"+n:n;};_14a=_14a||{};var _14d=[];var _14e=_14a.zulu?"getUTC":"get";var date="";if(_14a.selector!="time"){date=[_149[_14e+"FullYear"](),_(_149[_14e+"Month"]()+1),_(_149[_14e+"Date"]())].join("-");}_14d.push(date);if(_14a.selector!="date"){var time=[_(_149[_14e+"Hours"]()),_(_149[_14e+"Minutes"]()),_(_149[_14e+"Seconds"]())].join(":");var _151=_149[_14e+"Milliseconds"]();if(_14a.milliseconds){time+="."+(_151<100?"0":"")+_(_151);}if(_14a.zulu){time+="Z";}else{var _152=_149.getTimezoneOffset();var _153=Math.abs(_152);time+=(_152>0?"-":"+")+_(Math.floor(_153/60))+":"+_(_153%60);}_14d.push(time);}return _14d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;function val2type(_155){if(d.isString(_155)){return "string";}if(typeof _155=="number"){return "number";}if(typeof _155=="boolean"){return "boolean";}if(d.isFunction(_155)){return "function";}if(d.isArray(_155)){return "array";}if(_155 instanceof Date){return "date";}if(_155 instanceof d._Url){return "url";}return "object";};function str2obj(_156,type){switch(type){case "string":return _156;case "number":return _156.length?Number(_156):NaN;case "boolean":return typeof _156=="boolean"?_156:!(_156.toLowerCase()=="false");case "function":if(d.isFunction(_156)){_156=_156.toString();_156=d.trim(_156.substring(_156.indexOf("{")+1,_156.length-1));}try{if(_156.search(/[^\w\.]+/i)!=-1){_156=d.parser._nameAnonFunc(new Function(_156),this);}return d.getObject(_156,false);}catch(e){return new Function();}case "array":return _156.split(/\s*,\s*/);case "date":switch(_156){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_156);}case "url":return d.baseUrl+_156;default:return d.fromJson(_156);}};var _158={};function getClassInfo(_159){if(!_158[_159]){var cls=d.getObject(_159);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_159+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _15b=cls.prototype;var _15c={};for(var name in _15b){if(name.charAt(0)=="_"){continue;}var _15e=_15b[name];_15c[name]=val2type(_15e);}_158[_159]={cls:cls,params:_15c};}return _158[_159];};this._functionFromScript=function(_15f){var _160="";var _161="";var _162=_15f.getAttribute("args");if(_162){d.forEach(_162.split(/\s*,\s*/),function(part,idx){_160+="var "+part+" = arguments["+idx+"]; ";});}var _165=_15f.getAttribute("with");if(_165&&_165.length){d.forEach(_165.split(/\s*,\s*/),function(part){_160+="with("+part+"){";_161+="}";});}return new Function(_160+_15f.innerHTML+_161);};this.instantiate=function(_167){var _168=[];d.forEach(_167,function(node){if(!node){return;}var type=node.getAttribute("dojoType");if((!type)||(!type.length)){return;}var _16b=getClassInfo(type);var _16c=_16b.cls;var ps=_16c._noScript||_16c.prototype._noScript;var _16e={};var _16f=node.attributes;for(var name in _16b.params){var item=_16f.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _172=item.value;switch(name){case "class":_172=node.className;break;case "style":_172=node.style&&node.style.cssText;}var _173=_16b.params[name];_16e[name]=str2obj(_172,_173);}if(!ps){var _174=[],_175=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_176){var _177=_176.getAttribute("event"),type=_176.getAttribute("type"),nf=d.parser._functionFromScript(_176);if(_177){if(type=="dojo/connect"){_174.push({event:_177,func:nf});}else{_16e[_177]=nf;}}else{_175.push(nf);}});}var _179=_16c["markupFactory"];if(!_179&&_16c["prototype"]){_179=_16c.prototype["markupFactory"];}var _17a=_179?_179(_16e,node,_16c):new _16c(_16e,node);_168.push(_17a);var _17b=node.getAttribute("jsId");if(_17b){d.setObject(_17b,_17a);}if(!ps){dojo.forEach(_174,function(_17c){dojo.connect(_17a,_17c.event,null,_17c.func);});dojo.forEach(_175,function(func){func.call(_17a);});}});d.forEach(_168,function(_17e){if(_17e&&(_17e.startup)&&((!_17e.getParent)||(!_17e.getParent()))){_17e.startup();}});return _168;};this.parse=function(_17f){var list=d.query("[dojoType]",_17f);var _181=this.instantiate(list);return _181;};}();(function(){var _182=function(){if(djConfig["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_182);}else{dojo._loaders.unshift(_182);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_183,_184){var jpn="$joinpoint";var nso=(_184||dojo.parser._anon);if(dojo.isIE){var cn=_183["__dojoNameCache"];if(cn&&nso[cn]===_183){return _183["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_183;return ret;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,containerNode:null,buildRendering:function(){var _189=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString);var node;if(dojo.isString(_189)){var _18b=this.declaredClass,_18c=this;var tstr=dojo.string.substitute(_189,this,function(_18e,key){if(key.charAt(0)=="!"){_18e=_18c[key.substr(1)];}if(typeof _18e=="undefined"){throw new Error(_18b+" template:"+key);}return key.charAt(0)=="!"?_18e:_18e.toString().replace(/"/g,"&quot;");},this);node=dijit._Templated._createNodesFromText(tstr)[0];}else{node=_189.cloneNode(true);}this._attachTemplateNodes(node);var _190=this.srcNodeRef;if(_190&&_190.parentNode){_190.parentNode.replaceChild(node,_190);}this.domNode=node;if(this.widgetsInTemplate){var _191=dojo.parser.parse(node);this._attachTemplateNodes(_191,function(n,p){return n[p];});}this._fillContent(_190);},_fillContent:function(_194){var dest=this.containerNode;if(_194&&dest){while(_194.hasChildNodes()){dest.appendChild(_194.firstChild);}}},_attachTemplateNodes:function(_196,_197){_197=_197||function(n,p){return n.getAttribute(p);};var _19a=dojo.isArray(_196)?_196:(_196.all||_196.getElementsByTagName("*"));var x=dojo.isArray(_196)?0:-1;for(;x<_19a.length;x++){var _19c=(x==-1)?_196:_19a[x];if(this.widgetsInTemplate&&_197(_19c,"dojoType")){continue;}var _19d=_197(_19c,"dojoAttachPoint");if(_19d){var _19e,_19f=_19d.split(/\s*,\s*/);while(_19e=_19f.shift()){if(dojo.isArray(this[_19e])){this[_19e].push(_19c);}else{this[_19e]=_19c;}}}var _1a0=_197(_19c,"dojoAttachEvent");if(_1a0){var _1a1,_1a2=_1a0.split(/\s*,\s*/);var trim=dojo.trim;while(_1a1=_1a2.shift()){if(_1a1){var _1a4=null;if(_1a1.indexOf(":")!=-1){var _1a5=_1a1.split(":");_1a1=trim(_1a5[0]);_1a4=trim(_1a5[1]);}else{_1a1=trim(_1a1);}if(!_1a4){_1a4=_1a1;}this.connect(_19c,_1a1,_1a4);}}}var name,_1a7=["waiRole","waiState"];while(name=_1a7.shift()){var wai=dijit.wai[name];var _1a9=_197(_19c,wai.name);if(_1a9){var role="role";var val;_1a9=_1a9.split(/\s*,\s*/);while(val=_1a9.shift()){if(val.indexOf("-")!=-1){var _1ac=val.split("-");role=_1ac[0];val=_1ac[1];}dijit.wai.setAttr(_19c,wai.name,role,val);}}}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1ad,_1ae){var _1af=dijit._Templated._templateCache;var key=_1ae||_1ad;var _1b1=_1af[key];if(_1b1){return _1b1;}if(!_1ae){_1ae=dijit._Templated._sanitizeTemplateString(dojo._getText(_1ad));}_1ae=dojo.string.trim(_1ae);if(_1ae.match(/\$\{([^\}]+)\}/g)){return (_1af[key]=_1ae);}else{return (_1af[key]=dijit._Templated._createNodesFromText(_1ae)[0]);}};dijit._Templated._sanitizeTemplateString=function(_1b2){if(_1b2){_1b2=_1b2.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1b3=_1b2.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1b3){_1b2=_1b3[1];}}else{_1b2="";}return _1b2;};if(dojo.isIE){dojo.addOnUnload(function(){var _1b4=dijit._Templated._templateCache;for(var key in _1b4){var _1b6=_1b4[key];if(!isNaN(_1b6.nodeType)){dojo._destroyElement(_1b6);}_1b4[key]=null;}});}(function(){var _1b7={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _1ba="none";var _1bb=text.replace(/^\s+/,"");for(var type in _1b7){var map=_1b7[type];if(map.re.test(_1bb)){_1ba=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_1ba];var _1bf=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _1c0=[];while(_1bf.firstChild){_1c0.push(_1bf.removeChild(_1bf.firstChild));}tn.innerHTML="";return _1c0;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_1c1,_1c2,_1c3){_1c3=dojo.i18n.normalizeLocale(_1c3);var _1c4=_1c3.split("-");var _1c5=[_1c1,"nls",_1c2].join(".");var _1c6=dojo._loadedModules[_1c5];if(_1c6){var _1c7;for(var i=_1c4.length;i>0;i--){var loc=_1c4.slice(0,i).join("_");if(_1c6[loc]){_1c7=_1c6[loc];break;}}if(!_1c7){_1c7=_1c6.ROOT;}if(_1c7){var _1ca=function(){};_1ca.prototype=_1c7;return new _1ca();}}throw new Error("Bundle not found: "+_1c2+" in "+_1c1+" , locale="+_1c3);};dojo.i18n.normalizeLocale=function(_1cb){var _1cc=_1cb?_1cb.toLowerCase():dojo.locale;if(_1cc=="root"){_1cc="ROOT";}return _1cc;};dojo.i18n._requireLocalization=function(_1cd,_1ce,_1cf,_1d0){var _1d1=dojo.i18n.normalizeLocale(_1cf);var _1d2=[_1cd,"nls",_1ce].join(".");var _1d3="";if(_1d0){var _1d4=_1d0.split(",");for(var i=0;i<_1d4.length;i++){if(_1d1.indexOf(_1d4[i])==0){if(_1d4[i].length>_1d3.length){_1d3=_1d4[i];}}}if(!_1d3){_1d3="ROOT";}}var _1d6=_1d0?_1d3:_1d1;var _1d7=dojo._loadedModules[_1d2];var _1d8=null;if(_1d7){if(djConfig.localizationComplete&&_1d7._built){return;}var _1d9=_1d6.replace(/-/g,"_");var _1da=_1d2+"."+_1d9;_1d8=dojo._loadedModules[_1da];}if(!_1d8){_1d7=dojo["provide"](_1d2);var syms=dojo._getModuleSymbols(_1cd);var _1dc=syms.concat("nls").join("/");var _1dd;dojo.i18n._searchLocalePath(_1d6,_1d0,function(loc){var _1df=loc.replace(/-/g,"_");var _1e0=_1d2+"."+_1df;var _1e1=false;if(!dojo._loadedModules[_1e0]){dojo["provide"](_1e0);var _1e2=[_1dc];if(loc!="ROOT"){_1e2.push(loc);}_1e2.push(_1ce);var _1e3=_1e2.join("/")+".js";_1e1=dojo._loadPath(_1e3,null,function(hash){var _1e5=function(){};_1e5.prototype=_1dd;_1d7[_1df]=new _1e5();for(var j in hash){_1d7[_1df][j]=hash[j];}});}else{_1e1=true;}if(_1e1&&_1d7[_1df]){_1dd=_1d7[_1df];}else{_1d7[_1df]=_1dd;}if(_1d0){return true;}});}if(_1d0&&_1d1!=_1d3){_1d7[_1d1.replace(/-/g,"_")]=_1d7[_1d3.replace(/-/g,"_")];}};(function(){var _1e7=djConfig.extraLocale;if(_1e7){if(!_1e7 instanceof Array){_1e7=[_1e7];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_1eb,_1ec){req(m,b,_1eb,_1ec);if(_1eb){return;}for(var i=0;i<_1e7.length;i++){req(m,b,_1e7[i],_1ec);}};}})();dojo.i18n._searchLocalePath=function(_1ee,down,_1f0){_1ee=dojo.i18n.normalizeLocale(_1ee);var _1f1=_1ee.split("-");var _1f2=[];for(var i=_1f1.length;i>0;i--){_1f2.push(_1f1.slice(0,i).join("-"));}_1f2.push(false);if(down){_1f2.reverse();}for(var j=_1f2.length-1;j>=0;j--){var loc=_1f2[j]||"ROOT";var stop=_1f0(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_1f7,_1f8){function preload(_1f9){_1f9=dojo.i18n.normalizeLocale(_1f9);dojo.i18n._searchLocalePath(_1f9,true,function(loc){for(var i=0;i<_1f8.length;i++){if(_1f8[i]==loc){dojo["require"](_1f7+"_"+loc);return true;}}return false;});};preload();var _1fc=djConfig.extraLocale||[];for(var i=0;i<_1fc.length;i++){preload(_1fc[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,"class":"dijitContentPane",postCreate:function(){this.domNode.title="";if(this.preload){this._loadCheck();}var _1fe=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_1fe);this.errorMessage=dojo.string.substitute(this.errorMessage,_1fe);dojo.addClass(this.domNode,this["class"]);},startup:function(){if(!this._started){this._loadCheck();this._started=true;}},refresh:function(){return this._prepareLoad(true);},setHref:function(href){this.href=href;return this._prepareLoad();},setContent:function(data){if(!this._isDownloaded){this.href="";this._onUnloadHandler();}this._setContent(data||"");this._isDownloaded=false;if(this.parseOnLoad){this._createSubWidgets();}this._onLoadHandler();},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},destroy:function(){if(this._beingDestroyed){return;}this._onUnloadHandler();this._beingDestroyed=true;dijit.layout.ContentPane.superclass.destroy.call(this);},resize:function(size){dojo.marginBox(this.domNode,size);},_prepareLoad:function(_202){this.cancel();this.isLoaded=false;this._loadCheck(_202);},_loadCheck:function(_203){var _204=((this.open!==false)&&(this.domNode.style.display!="none"));if(this.href&&(_203||(this.preload&&!this._xhrDfd)||(this.refreshOnShow&&_204&&!this._xhrDfd)||(!this.isLoaded&&_204&&!this._xhrDfd))){this._downloadExternalContent();}},_downloadExternalContent:function(){this._onUnloadHandler();this._setContent(this.onDownloadStart.call(this));var self=this;var _206={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_206,this.ioArgs);}var hand=this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_206);hand.addCallback(function(html){try{self.onDownloadEnd.call(self);self._isDownloaded=true;self.setContent.call(self,html);}catch(err){self._onError.call(self,"Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.cancelled){self._onError.call(self,"Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function(){this.isLoaded=true;try{this.onLoad.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code");}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();try{this.onUnload.call(this);}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code");}},_setContent:function(cont){this.destroyDescendants();try{var node=this.containerNode||this.domNode;while(node.firstChild){dojo._destroyElement(node.firstChild);}if(typeof cont=="string"){if(this.extractContent){match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(match){cont=match[1];}}node.innerHTML=cont;}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}}catch(e){var _20d=this.onContentError(e);try{node.innerHTML=_20d;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}}},_onError:function(type,err,_210){var _211=this["on"+type+"Error"].call(this,err);if(_210){console.error(_210,err);}else{if(_211){this._setContent.call(this,_211);}}},_createSubWidgets:function(){var _212=this.containerNode||this.domNode;try{dojo.parser.parse(_212,true);}catch(e){this._onError("Content",e,"Couldn't create widgets in "+this.id+(this.href?" from "+this.href:""));}},onLoad:function(e){},onUnload:function(e){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_215){},onDownloadError:function(_216){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form._FormMixin",null,{action:"",method:"",enctype:"",name:"","accept-charset":"",accept:"",target:"",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{action:"",method:"",enctype:"",name:"","accept-charset":"",accept:"",target:""}),execute:function(_217){},onCancel:function(){},onExecute:function(){},templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onsubmit:_onSubmit' enctype='multipart/form-data'></form>",_onSubmit:function(e){dojo.stopEvent(e);this.onExecute();this.execute(this.getValues());},submit:function(){this.containerNode.submit();},setValues:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_21b){if(!_21b.name){return;}var _21c=map[_21b.name]||(map[_21b.name]=[]);_21c.push(_21b);});for(var name in map){var _21e=map[name],_21f=dojo.getObject(name,false,obj);if(!dojo.isArray(_21f)){_21f=[_21f];}if(_21e[0].setChecked){dojo.forEach(_21e,function(w,i){w.setChecked(dojo.indexOf(_21f,w.value)!=-1);});}else{dojo.forEach(_21e,function(w,i){w.setValue(_21f[i]);});}}},getValues:function(){var obj={};dojo.forEach(this.getDescendants(),function(_225){var _226=_225.getValue?_225.getValue():_225.value;var name=_225.name;if(!name){return;}if(_225.setChecked){if(/Radio/.test(_225.declaredClass)){if(_225.checked){dojo.setObject(name,_226,obj);}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_225.checked){ary.push(_226);}}}else{dojo.setObject(name,_226,obj);}});return obj;},isValid:function(){return dojo.every(this.getDescendants(),function(_229){return !_229.isValid||_229.isValid();});}});dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],null);}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class=dijitDialogUnderlayWrapper id='${id}_underlay'><div class=dijitDialogUnderlay dojoAttachPoint='node'></div></div>",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);},layout:function(){var _22a=dijit.getViewport();var is=this.node.style,os=this.domNode.style;os.top=_22a.t+"px";os.left=_22a.l+"px";is.width=_22a.w+"px";is.height=_22a.h+"px";var _22d=dijit.getViewport();if(_22a.w!=_22d.w){is.width=_22d.w+"px";}if(_22a.h!=_22d.h){is.height=_22d.h+"px";}},show:function(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block";}this._resizeHandler=this.connect(window,"onresize","layout");},hide:function(){this.domNode.style.display="none";this.domNode.style.width=this.domNode.style.height="1px";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this.disconnect(this._resizeHandler);},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy();}}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{templateString:null,templateString:"<div class=\"dijitDialog\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\" tabindex=\"0\" waiRole=\"dialog\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\">${title}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: hide\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n\t<span dojoAttachPoint=\"tabEnd\" dojoAttachEvent=\"onfocus:_cycleFocus\" tabindex=\"0\"></span>\n</div>\n",open:false,duration:400,_lastFocusItem:null,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{title:"titleBar"}),postCreate:function(){dojo.body().appendChild(this.domNode);this.inherited("postCreate",arguments);this.domNode.style.display="none";this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");},onLoad:function(){this._position();this.inherited("onLoad",arguments);},_setup:function(){this._modalconnects=[];if(this.titleBar){this._moveable=new dojo.dnd.Moveable(this.domNode,{handle:this.titleBar});}this._underlay=new dijit.DialogUnderlay();var node=this.domNode;this._fadeIn=dojo.fx.combine([dojo.fadeIn({node:node,duration:this.duration}),dojo.fadeIn({node:this._underlay.domNode,duration:this.duration,onBegin:dojo.hitch(this._underlay,"show")})]);this._fadeOut=dojo.fx.combine([dojo.fadeOut({node:node,duration:this.duration,onEnd:function(){node.style.display="none";}}),dojo.fadeOut({node:this._underlay.domNode,duration:this.duration,onEnd:dojo.hitch(this._underlay,"hide")})]);},uninitialize:function(){if(this._underlay){this._underlay.destroy();}},_position:function(){if(dojo.hasClass(dojo.body(),"dojoMove")){return;}var _22f=dijit.getViewport();var mb=dojo.marginBox(this.domNode);var _231=this.domNode.style;_231.left=Math.floor((_22f.l+(_22f.w-mb.w)/2))+"px";_231.top=Math.floor((_22f.t+(_22f.h-mb.h)/2))+"px";},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.titleBar.focus();},_onKey:function(evt){if(evt.keyCode){var node=evt.target;if(node==this.titleBar&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.keyCode==dojo.keys.ESCAPE){this.hide();}else{return;}}node=node.parentNode;}if(evt.keyCode!=dojo.keys.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this.titleBar.focus();}catch(e){}}}}}},show:function(){if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(document.documentElement,"onkeypress",this,"_onKey"));var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this._modalconnects.push(dojo.connect(this.containerNode,ev,this,"_findLastFocus"));dojo.style(this.domNode,"opacity",0);this.domNode.style.display="block";this.open=true;this._loadCheck();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);setTimeout(dojo.hitch(this,function(){dijit.focus(this.titleBar);}),50);},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];this.connect(this._fadeOut,"onEnd",dojo.hitch(this,function(){dijit.focus(this._savedFocus);}));this.open=false;},layout:function(){if(this.domNode.style.display=="block"){this._underlay.layout();this._position();}}});dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{title:"",_lastFocusItem:null,templateString:null,templateString:"<div class=\"dijitTooltipDialog\" >\n\t<div class=\"dijitTooltipContainer\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"0\" waiRole=\"dialog\"></div>\n\t</div>\n\t<span dojoAttachPoint=\"tabEnd\" tabindex=\"0\" dojoAttachEvent=\"focus:_cycleFocus\"></span>\n\t<div class=\"dijitTooltipConnector\" ></div>\n</div>\n",postCreate:function(){this.inherited("postCreate",arguments);this.connect(this.containerNode,"onkeypress","_onKey");var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this.connect(this.containerNode,ev,"_findLastFocus");this.containerNode.title=this.title;},orient:function(_238){this.domNode.className="dijitTooltipDialog "+" dijitTooltipAB"+(_238.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_238.charAt(0)=="T"?"Below":"Above");},onOpen:function(pos){this.orient(pos.corner);this._loadCheck();this.containerNode.focus();},_onKey:function(evt){if(evt.keyCode==dojo.keys.ESCAPE){this.onCancel();}else{if(evt.target==this.containerNode&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}else{if(evt.keyCode==dojo.keys.TAB){evt.stopPropagation();}}}},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.containerNode.focus();}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.doc["selection"]){return dojo.doc.selection.type.toLowerCase();}else{var _23d="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _23f=oSel.getRangeAt(0);if((_23f.startContainer==_23f.endContainer)&&((_23f.endOffset-_23f.startOffset)==1)&&(_23f.startContainer.nodeType!=3)){_23d="control";}}return _23d;}},getSelectedText:function(){if(dojo.doc["selection"]){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _240=dojo.global.getSelection();if(_240){return _240.toString();}}},getSelectedHtml:function(){if(dojo.doc["selection"]){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _241=dojo.global.getSelection();if(_241&&_241.rangeCount){var frag=_241.getRangeAt(0).cloneContents();var div=document.createElement("div");div.appendChild(frag);return div.innerHTML;}return null;}},getSelectedElement:function(){if(this.getType()=="control"){if(dojo.doc["selection"]){var _244=dojo.doc.selection.createRange();if(_244&&_244.item){return dojo.doc.selection.createRange().item(0);}}else{var _245=dojo.global.getSelection();return _245.anchorNode.childNodes[_245.anchorOffset];}}},getParentElement:function(){if(this.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.doc["selection"]){return dojo.doc.selection.createRange().parentElement();}else{var _247=dojo.global.getSelection();if(_247){var node=_247.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}},hasAncestorElement:function(_249){return (this.getAncestorElement.apply(this,arguments)!=null);},getAncestorElement:function(_24a){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _nlc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _tlc=String(tags[i]).toLowerCase();if(_nlc==_tlc){return _tlc;}}}return "";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},remove:function(){var _s=dojo.doc.selection;if(_s){if(_s.type.toLowerCase()!="none"){_s.clear();}return _s;}else{_s=dojo.global.getSelection();_s.deleteFromDocument();return _s;}},selectElementChildren:function(_254,_255){var _256=dojo.global;var _257=dojo.doc;_254=dojo.byId(_254);if(_257.selection&&dojo.body().createTextRange){var _258=_254.ownerDocument.body.createTextRange();_258.moveToElementText(_254);if(!_255){_258.select();}}else{if(_256["getSelection"]){var _259=_256.getSelection();if(_259["setBaseAndExtent"]){_259.setBaseAndExtent(_254,0,_254,_254.innerText.length-1);}else{if(_259["selectAllChildren"]){_259.selectAllChildren(_254);}}}}},selectElement:function(_25a,_25b){var _25c=dojo.doc;_25a=dojo.byId(_25a);if(_25c.selection&&dojo.body().createTextRange){try{var _25d=dojo.body().createControlRange();_25d.addElement(_25a);if(!_25b){_25d.select();}}catch(e){this.selectElementChildren(_25a,_25b);}}else{if(dojo.global["getSelection"]){var _25e=dojo.global.getSelection();if(_25e["removeAllRanges"]){var _25d=_25c.createRange();_25d.selectNode(_25a);_25e.removeAllRanges();_25e.addRange(_25d);}}}}});}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!djConfig["useXDomain"]||djConfig["allowXdRichTextSave"]){if(dojo._post_load){(function(){var _25f=dojo.doc.createElement("textarea");_25f.id="dijit._editor.RichText.savedContent";var s=_25f.style;s.display="none";s.position="absolute";s.top="-100px";s.left="-100px";s.height="3px";s.width="3px";dojo.body().appendChild(_25f);})();}else{try{dojo.doc.write("<textarea id=\"dijit._editor.RichText.savedContent\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",[dijit._Widget],{constructor:function(){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this._keyHandlers={};this.contentPreFilters.push(dojo.hitch(this,"_preFixUrlAttributes"));if(dojo.isMoz){this.contentPreFilters.push(this._fixContentForMoz);}this.onLoadDeferred=new dojo.Deferred();},inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",_content:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",onLoadDeferred:null,postCreate:function(){dojo.publish("dijit._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var ctrl=this.KEY_CTRL;var exec=function(cmd,arg){return arguments.length==1?function(){this.execCommand(cmd);}:function(){this.execCommand(cmd,arg);};};this.addKeyHandler("b",ctrl,exec("bold"));this.addKeyHandler("i",ctrl,exec("italic"));this.addKeyHandler("u",ctrl,exec("underline"));this.addKeyHandler("a",ctrl,exec("selectall"));this.addKeyHandler("s",ctrl,function(){this.save(true);});this.addKeyHandler("1",ctrl,exec("formatblock","h1"));this.addKeyHandler("2",ctrl,exec("formatblock","h2"));this.addKeyHandler("3",ctrl,exec("formatblock","h3"));this.addKeyHandler("4",ctrl,exec("formatblock","h4"));this.addKeyHandler("\\",ctrl,exec("insertunorderedlist"));if(!dojo.isIE){this.addKeyHandler("Z",ctrl,exec("redo"));}},events:["onKeyPress","onKeyDown","onKeyUp","onClick"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(this._editorCommandsLocalized){return;}this._editorCommandsLocalized=true;var _265=["p","pre","address","h1","h2","h3","h4","h5","h6","ol","div","ul"];var _266="",_267,i=0;while(_267=_265[i++]){if(_267.charAt(1)!="l"){_266+="<"+_267+"><span>content</span></"+_267+">";}else{_266+="<"+_267+"><li>content</li></"+_267+">";}}var div=document.createElement("div");div.style.position="absolute";div.style.left="-2000px";div.style.top="-2000px";document.body.appendChild(div);div.innerHTML=_266;var node=div.firstChild;while(node){dijit._editor.selection.selectElement(node.firstChild);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[node.firstChild]);var _26b=node.tagName.toLowerCase();this._local2NativeFormatNames[_26b]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_26b]]=_26b;node=node.nextSibling;}document.body.removeChild(div);},open:function(_26c){if((!this.onLoadDeferred)||(this.onLoadDeferred.fired>=0)){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish("dijit._editor.RichText::open",[this]);this._content="";if((arguments.length==1)&&(_26c["nodeName"])){this.domNode=_26c;}if((this.domNode["nodeName"])&&(this.domNode.nodeName.toLowerCase()=="textarea")){this.textarea=this.domNode;this.name=this.textarea.name;var html=this._preFilterContent(this.textarea.value);this.domNode=dojo.doc.createElement("div");this.domNode.setAttribute("widgetId",this.id);this.textarea.removeAttribute("widgetId");this.domNode.cssText=this.textarea.cssText;this.domNode.className+=" "+this.textarea.className;dojo.place(this.domNode,this.textarea,"before");var _26e=dojo.hitch(this,function(){with(this.textarea.style){display="block";position="absolute";left=top="-1000px";if(dojo.isIE){this.__overflow=overflow;overflow="hidden";}}});if(dojo.isIE){setTimeout(_26e,10);}else{_26e();}}else{var html=this._preFilterContent(this.getNodeChildrenHtml(this.domNode));this.domNode.innerHTML="";}if(html==""){html="&nbsp;";}var _26f=dojo.contentBox(this.domNode);this._oldHeight=_26f.h;this._oldWidth=_26f.w;this.savedContent=html;if((this.domNode["nodeName"])&&(this.domNode.nodeName=="LI")){this.domNode.innerHTML=" <br>";}this.editingArea=dojo.doc.createElement("div");this.domNode.appendChild(this.editingArea);if(this.name!=""&&(!djConfig["useXDomain"]||djConfig["allowXdRichTextSave"])){var _270=dojo.byId("dijit._editor.RichText.savedContent");if(_270.value!=""){var _271=_270.value.split(this._SEPARATOR),i=0,dat;while(dat=_271[i++]){var data=dat.split(":");if(data[0]==this.name){html=data[1];_271.splice(i,1);break;}}}dojo.connect(window,"onbeforeunload",this,"_saveContent");}this.isClosed=false;if(dojo.isIE||dojo.isSafari||dojo.isOpera){var ifr=this.iframe=dojo.doc.createElement("iframe");ifr.src="javascript:void(0)";this.editorObject=ifr;ifr.style.border="none";ifr.style.width="100%";ifr.frameBorder=0;this.editingArea.appendChild(ifr);this.window=ifr.contentWindow;this.document=this.window.document;this.document.open();this.document.write(this._getIframeDocTxt(html));this.document.close();if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}if(dojo.isIE){this._localizeEditorCommands();}this.onLoad();}else{this._drawIframe(html);}if(this.domNode.nodeName=="LI"){this.domNode.lastChild.style.marginTop="-1.2em";}this.domNode.className+=" RichTextEditable";},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_localizedIframeTitles:null,_getIframeDocTxt:function(html){var _cs=dojo.getComputedStyle(this.domNode);if(!this.height&&!dojo.isMoz){html="<div>"+html+"</div>";}var font=[_cs.fontWeight,_cs.fontSize,_cs.fontFamily].join(" ");var _279=_cs.lineHeight;if(_279.indexOf("px")>=0){_279=parseFloat(_279)/parseFloat(_cs.fontSize);}else{if(_279.indexOf("em")>=0){_279=parseFloat(_279);}else{_279="1.0";}}return ["<html><head>",(dojo.isMoz?"<title>"+this._localizedIframeTitles.iframeEditTitle+"</title>":""),"<style>","body,html {","\tbackground:transparent;","\tpadding: 0;","\tmargin: 0;","}","body{","\ttop:0px; left:0px; right:0px;",((this.height||dojo.isOpera)?"":"position: fixed;"),"\tfont:",font,";","\tmin-height:",this.minHeight,";","\tline-height:",_279,"}","p{ margin: 1em 0 !important; }",(this.height?"":"body,html{overflow-y:hidden;/*for IE*/} body > div {overflow-x:auto;/*for FF to show vertical scrollbar*/}"),"li > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; } ","li{ min-height:1.2em; }","</style>",this._applyEditingAreaStyleSheets(),"</head><body>"+html+"</body></html>"].join("");},_drawIframe:function(html){if(!this.iframe){var ifr=this.iframe=dojo.doc.createElement("iframe");var ifrs=ifr.style;ifrs.border="none";ifrs.lineHeight="0";ifrs.verticalAlign="bottom";this.editorObject=this.iframe;this._localizedIframeTitles=dojo.i18n.getLocalization("dijit","Textarea");}this.iframe.style.width=this.inheritWidth?this._oldWidth:"100%";if(this.height){this.iframe.style.height=this.height;}else{this.iframe.height=this._oldHeight;}if(this.textarea){var _27d=this.srcNodeRef;}else{var _27d=dojo.doc.createElement("div");_27d.style.display="none";_27d.innerHTML=html;this.editingArea.appendChild(_27d);}this.editingArea.appendChild(this.iframe);var _27e=false;var _27f=this.iframe.contentDocument;_27f.open();_27f.write(this._getIframeDocTxt(html));_27f.close();var _280=dojo.hitch(this,function(){if(!_27e){_27e=true;}else{return;}if(!this.editNode){try{if(this.iframe.contentWindow){this.window=this.iframe.contentWindow;this.document=this.iframe.contentWindow.document;}else{if(this.iframe.contentDocument){this.window=this.iframe.contentDocument.window;this.document=this.iframe.contentDocument;}}if(!this.document.body){throw "Error";}}catch(e){setTimeout(_280,500);_27e=false;return;}dojo._destroyElement(_27d);this.document.designMode="on";this.onLoad();}else{dojo._destroyElement(_27d);this.editNode.innerHTML=html;this.onDisplayChanged();}this._preDomFilterContent(this.editNode);});_280();},_applyEditingAreaStyleSheets:function(){var _281=[];if(this.styleSheets){_281=this.styleSheets.split(";");this.styleSheets="";}_281=_281.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while(url=_281[i++]){var _285=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_285);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_285+"\"/>";}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){console.debug("dijit._editor.RichText.addStyleSheet: Style sheet "+url+" is already applied to the editing area!");return;}this.editingAreaStyleSheets.push(url);if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _289=this.document.createElement("link");with(_289){rel="stylesheet";type="text/css";href=url;}head.appendChild(_289);}},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _28c=dojo.indexOf(this.editingAreaStyleSheets,url);if(_28c==-1){console.debug("dijit._editor.RichText.removeStyleSheet: Style sheet "+url+" is not applied to the editing area so it can not be removed!");return;}delete this.editingAreaStyleSheets[_28c];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:["styleWithCSS","insertBrOnReturn"],setDisabled:function(_28d){if(dojo.isIE||dojo.isSafari||dojo.isOpera){this.editNode.contentEditable=!_28d;}else{if(_28d){this._mozSettings=[false,this.blockNodeForEnter==="BR"];}this.document.designMode=(_28d?"off":"on");if(!_28d){dojo.forEach(this._mozSettingProps,function(s,i){this.document.execCommand(s,false,this._mozSettings[i]);},this);}}this.disabled=_28d;},_isResized:function(){return false;},onLoad:function(e){this.isLoaded=true;if(this.height||dojo.isMoz){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;}this.editNode.contentEditable=true;this._preDomFilterContent(this.editNode);var _291=this.events.concat(this.captureEvents),i=0,et;while(et=_291[i++]){this.connect(this.document,et.toLowerCase(),et);}if(!dojo.isIE){try{this.document.execCommand("styleWithCSS",false,false);}catch(e2){}}else{this.editNode.style.zoom=1;}if(this.focusOnLoad){this.focus();}this.onDisplayChanged(e);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},onKeyDown:function(e){if(dojo.isIE){if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}else{if(dojo.isMoz){if(e.keyCode==dojo.keys.TAB&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&this.iframe){this.iframe.contentDocument.title=this._localizedIframeTitles.iframeFocusTitle;this.iframe.focus();dojo.stopEvent(e);}else{if(e.keyCode==dojo.keys.TAB&&e.shiftKey){if(this.toolbar){this.toolbar.focus();}dojo.stopEvent(e);}}}}},onKeyUp:function(e){return;},KEY_CTRL:1,KEY_SHIFT:2,onKeyPress:function(e){var _297=e.ctrlKey?this.KEY_CTRL:0|e.shiftKey?this.KEY_SHIFT:0;var key=e.keyChar||e.keyCode;if(this._keyHandlers[key]){var _299=this._keyHandlers[key],i=0,h;while(h=_299[i++]){if(_297==h.modifiers){if(!h.handler.apply(this,arguments)){e.preventDefault();}break;}}}setTimeout(dojo.hitch(this,function(){this.onKeyPressed(e);}),1);},addKeyHandler:function(key,_29d,_29e){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({modifiers:_29d||0,handler:_29e});},onKeyPressed:function(e){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onBlur:function(e){var _c=this.getValue(true);if(_c!=this.savedContent){this.onChange(_c);this.savedContent=_c;}if(dojo.isMoz&&this.iframe){this.iframe.contentDocument.title=this._localizedIframeTitles.iframeEditTitle;}},_initialFocus:true,_onFocus:function(e){if((dojo.isMoz)&&(this._initialFocus)){this._initialFocus=false;if(this.editNode.innerHTML.replace(/^\s+|\s+$/g,"")=="&nbsp;"){this.placeCursorAtStart();}}},blur:function(){if(this.iframe){this.window.blur();}else{if(this.editNode){this.editNode.blur();}}},focus:function(){if(this.iframe&&!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){dijit.focus(this.editNode);}else{console.debug("Have no idea how to focus into the editor!");}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(e){if(!this._updateTimer){if(this._updateTimer){clearTimeout(this._updateTimer);}this._updateTimer=setTimeout(dojo.hitch(this,this.onNormalizedDisplayChanged),this.updateInterval);}},onNormalizedDisplayChanged:function(){this._updateTimer=null;},onChange:function(_2a5){},_normalizeCommand:function(cmd){var _2a7=cmd.toLowerCase();if(_2a7=="formatblock"){if(dojo.isSafari){_2a7="heading";}}else{if(_2a7=="hilitecolor"&&!dojo.isMoz){_2a7="backcolor";}}return _2a7;},queryCommandAvailable:function(_2a8){var ie=1;var _2aa=1<<1;var _2ab=1<<2;var _2ac=1<<3;var _2ad=1<<4;var _2ae=dojo.isSafari;function isSupportedBy(_2af){return {ie:Boolean(_2af&ie),mozilla:Boolean(_2af&_2aa),safari:Boolean(_2af&_2ab),safari420:Boolean(_2af&_2ad),opera:Boolean(_2af&_2ac)};};var _2b0=null;switch(_2a8.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":_2b0=isSupportedBy(_2aa|ie|_2ab|_2ac);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":_2b0=isSupportedBy(_2aa|ie|_2ac|_2ad);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_2b0=isSupportedBy(ie);break;case "cut":case "copy":case "paste":_2b0=isSupportedBy(ie|_2aa|_2ad);break;case "inserttable":_2b0=isSupportedBy(_2aa|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_2b0=isSupportedBy(ie|_2aa);break;default:return false;}return (dojo.isIE&&_2b0.ie)||(dojo.isMoz&&_2b0.mozilla)||(dojo.isSafari&&_2b0.safari)||(_2ae&&_2b0.safari420)||(dojo.isOpera&&_2b0.opera);},execCommand:function(_2b1,_2b2){var _2b3;this.focus();_2b1=this._normalizeCommand(_2b1);if(_2b2!=undefined){if(_2b1=="heading"){throw new Error("unimplemented");}else{if((_2b1=="formatblock")&&dojo.isIE){_2b2="<"+_2b2+">";}}}if(_2b1=="inserthtml"){_2b2=this._preFilterContent(_2b2);if(dojo.isIE){var _2b4=this.document.selection.createRange();_2b4.pasteHTML(_2b2);_2b4.select();_2b3=true;}else{if(dojo.isMoz&&!_2b2.length){dojo.withGlobal(this.window,"remove",dijit._editor.selection);_2b3=true;}else{_2b3=this.document.execCommand(_2b1,false,_2b2);}}}else{if((_2b1=="unlink")&&(this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isSafari)){var _2b5=this.window.getSelection();var a=dojo.withGlobal(this.window,"getAncestorElement",dijit._editor.selection,["a"]);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[a]);_2b3=this.document.execCommand("unlink",false,null);}else{if((_2b1=="hilitecolor")&&(dojo.isMoz)){_2b3=this.document.execCommand(_2b1,false,_2b2);}else{if((dojo.isIE)&&((_2b1=="backcolor")||(_2b1=="forecolor"))){_2b2=arguments.length>1?_2b2:null;_2b3=this.document.execCommand(_2b1,false,_2b2);}else{_2b2=arguments.length>1?_2b2:null;if(_2b2||_2b1!="createlink"){_2b3=this.document.execCommand(_2b1,false,_2b2);}}}}}this.onDisplayChanged();return _2b3;},queryCommandEnabled:function(_2b7){_2b7=this._normalizeCommand(_2b7);if(dojo.isMoz||dojo.isSafari){if(_2b7=="unlink"){return dojo.withGlobal(this.window,"hasAncestorElement",dijit._editor.selection,["a"]);}else{if(_2b7=="inserttable"){return true;}}}if(dojo.isSafari){if(_2b7=="copy"){_2b7="cut";}else{if(_2b7=="paste"){return true;}}}var elem=(dojo.isIE)?this.document.selection.createRange():this.document;return elem.queryCommandEnabled(_2b7);},queryCommandState:function(_2b9){_2b9=this._normalizeCommand(_2b9);return this.document.queryCommandState(_2b9);},queryCommandValue:function(_2ba){_2ba=this._normalizeCommand(_2ba);if(dojo.isIE&&_2ba=="formatblock"){return this._local2NativeFormatNames[this.document.queryCommandValue(_2ba)];}return this.document.queryCommandValue(_2ba);},placeCursorAtStart:function(){this.focus();var _2bb=false;if(dojo.isMoz){var _2bc=this.editNode.firstChild;while(_2bc){if(_2bc.nodeType==3){if(_2bc.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_2bb=true;dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[_2bc]);break;}}else{if(_2bc.nodeType==1){_2bb=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[_2bc]);break;}}_2bc=_2bc.nextSibling;}}else{_2bb=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);}if(_2bb){dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[true]);}},placeCursorAtEnd:function(){this.focus();var _2bd=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_2bd=true;dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last]);break;}}else{if(last.nodeType==1){_2bd=true;if(last.lastChild){dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last.lastChild]);}else{dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[last]);}break;}}last=last.previousSibling;}}else{_2bd=true;dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);}if(_2bd){dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[false]);}},getValue:function(_2bf){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_2bf);},setValue:function(html){if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);if(this.isClosed){this.domNode.innerHTML=html;this._preDomFilterContent(this.domNode);}else{this.editNode.innerHTML=html;this._preDomFilterContent(this.editNode);}}},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(dojo.isMoz&&!html){html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}},_preFilterContent:function(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_2c8){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_2c8&&dom["cloneNode"]){dom=dom.cloneNode(true);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}var ec=this.getNodeChildrenHtml(dom);if(!ec.replace(/^(?:\s|\xA0)+/g,"").replace(/(?:\s|\xA0)+$/g,"").length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(e){var _2cd=dojo.byId("dijit._editor.RichText.savedContent");_2cd.value+=this._SEPARATOR+this.name+":"+this.getValue();},escapeXml:function(str,_2cf){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_2cf){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){switch(node.nodeType){case 1:var _2d1="<"+node.tagName.toLowerCase();if(dojo.isMoz){if(node.getAttribute("type")=="_moz"){node.removeAttribute("type");}if(node.getAttribute("_moz_dirty")!=undefined){node.removeAttribute("_moz_dirty");}}var _2d2=[];if(dojo.isIE){var s=node.outerHTML;s=s.substr(0,s.indexOf(">"));s=s.replace(/(?:['"])[^"']*\1/g,"");var reg=/([^\s=]+)=/g;var m,key;while((m=reg.exec(s))!=undefined){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_2d2.push([key,node.getAttribute("_djrealurl")]);continue;}}if(key=="class"){_2d2.push([key,node.className]);}else{_2d2.push([key,node.getAttribute(key)]);}}}}else{var attr,i=0,_2d9=node.attributes;while(attr=_2d9[i++]){if(attr.name.substr(0,3)!="_dj"){var v=attr.value;if(attr.name=="src"||attr.name=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_2d2.push([attr.name,v]);}}}_2d2.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});i=0;while(attr=_2d2[i++]){_2d1+=" "+attr[0]+"=\""+attr[1]+"\"";}if(node.childNodes.length){_2d1+=">"+this.getNodeChildrenHtml(node)+"</"+node.tagName.toLowerCase()+">";}else{_2d1+=" />";}break;case 3:var _2d1=this.escapeXml(node.nodeValue,true);break;case 8:var _2d1="<!--"+this.escapeXml(node.nodeValue,true)+"-->";break;default:var _2d1="Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName;}return _2d1;},getNodeChildrenHtml:function(dom){var out="";if(!dom){return out;}var _2df=dom["childNodes"]||dom;var i=0;var node;while(node=_2df[i++]){out+=this.getNodeHtml(node);}return out;},close:function(save,_2e3){if(this.isClosed){return false;}if(!arguments.length){save=true;}this._content=this.getValue();var _2e4=(this.savedContent!=this._content);if(this.interval){clearInterval(this.interval);}if(this.textarea){with(this.textarea.style){position="";left=top="";if(dojo.isIE){overflow=this.__overflow;this.__overflow=null;}}if(save){this.textarea.value=this._content;}else{this.textarea.value=this.savedContent;}dojo._destroyElement(this.domNode);this.domNode=this.textarea;}else{if(save){this.domNode.innerHTML=this._content;}else{this.domNode.innerHTML=this.savedContent;}}dojo.removeClass(this.domNode,"RichTextEditable");this.isClosed=true;this.isLoaded=false;delete this.editNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;return _2e4;},destroyRendering:function(){},destroy:function(){this.destroyRendering();if(!this.isClosed){this.close(false);}dijit._editor.RichText.superclass.destroy.call(this);},_fixContentForMoz:function(html){html=html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2");html=html.replace(/<(\/)?em([ \>])/gi,"<$1i$2");return html;},_srcInImgRegex:/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,_hrefInARegex:/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,_preFixUrlAttributes:function(html){html=html.replace(this._hrefInARegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");html=html.replace(this._srcInImgRegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");return html;}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _2e9=dijit.byId(id);return _2e9.isContainer?_2e9:null;}}return null;},_getSibling:function(_2ea){var node=this.domNode;do{node=node[_2ea+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");}});dojo.declare("dijit._Container",null,{isContainer:true,addChild:function(_2ed,_2ee){if(_2ee===undefined){_2ee="last";}var _2ef=this.containerNode||this.domNode;if(_2ee&&typeof _2ee=="number"){var _2f0=dojo.query("> [widgetid]",_2ef);if(_2f0&&_2f0.length>=_2ee){_2ef=_2f0[_2ee-1];_2ee="after";}}dojo.place(_2ed.domNode,_2ef,_2ee);if(this._started&&!_2ed._started){_2ed.startup();}},removeChild:function(_2f1){var node=_2f1.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode||this.domNode).map(dijit.byNode);},hasChildren:function(){var cn=this.containerNode||this.domNode;return !!this._firstElement(cn);},_getSiblingOfChild:function(_2f6,dir){var node=_2f6.domNode;var _2f9=(dir==-1?"previousSibling":"nextSibling");do{node=node[_2f9];}while(node&&node.nodeType!=1);return node?dijit.byNode(node):null;}});dojo.declare("dijit._KeyNavContainer",[dijit._Container],{focusedChild:null,_keyNavCodes:{},connectKeyNavHandlers:function(_2fa,_2fb){var _2fc=this._keyNavCodes={};dojo.forEach(_2fa,function(code){_2fc[code]=-1;});dojo.forEach(_2fb,function(code){_2fc[code]=1;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");if(dojo.isIE){this.connect(this.domNode,"onactivate","_onContainerFocus");this.connect(this.domNode,"ondeactivate","_onContainerBlur");}else{this.connect(this.domNode,"onfocus","_onContainerFocus");this.connect(this.domNode,"onblur","_onContainerBlur");}},connectKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_connectChild"));},addChild:function(_2ff,_300){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._connectChild(_2ff);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusChild:function(_301){if(_301){if(this.focusedChild&&_301!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_301;_301.focus();}},_connectChild:function(_302){(_302.focusNode||_302.domNode).setAttribute("tabIndex",-1);if(dojo.isIE){this.connect(_302.domNode,"onactivate","_onChildFocus");}else{this.connect(_302.domNode,"onfocus","_onChildFocus");}},_onContainerFocus:function(evt){this.domNode.setAttribute("tabIndex",-1);if(evt.target===this.domNode){this.focusFirstChild();}},_onContainerBlur:function(evt){if(this.tabIndex){this.domNode.setAttribute("tabIndex",this.tabIndex);}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var dir=this._keyNavCodes[evt.keyCode];if(dir){this.focusChild(this._getNextFocusableChild(this.focusedChild,dir));dojo.stopEvent(evt);}},_onChildFocus:function(evt){this.focusedChild=dijit.byNode(evt.currentTarget);},_onChildBlur:function(_308){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_309,dir){if(_309){_309=this._getSiblingOfChild(_309,dir);}var _30b=this.getChildren();for(var i=0;i<_30b.length;i++){if(!_309){_309=_30b[(dir>0)?0:(_30b.length-1)];}if(_309.isFocusable()){return _309;}_309=this._getSiblingOfChild(_309,dir);}}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit dijitToolbar\" waiRole=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",tabIndex:"0",postCreate:function(){this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function(){this.connectKeyNavChildren();}});dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\"></div>",postCreate:function(){dojo.setSelectable(this.domNode,false);}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",value:"",name:"",id:"",alt:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{id:"focusNode",name:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),setDisabled:function(_30d){this.domNode.disabled=this.disabled=_30d;if(this.focusNode){this.focusNode.disabled=_30d;}if(_30d){this._hovering=false;this._active=false;}dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","disabled",_30d);this._setStateClass();},_onMouse:function(_30e){var _30f=_30e.target;if(_30f&&_30f.getAttribute){this.stateModifier=_30f.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_30e.type){case "mouseenter":case "mouseover":this._hovering=true;break;case "mouseout":case "mouseleave":this._hovering=false;break;case "mousedown":this._active=true;var self=this;var _311=this.connect(dojo.body(),"onmouseup",function(){self._active=false;self._setStateClass();self.disconnect(_311);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){if(!("staticClass" in this)){this.staticClass=(this.stateNode||this.domNode).className;}var _312=[this.baseClass];function multiply(_313){_312=_312.concat(dojo.map(_312,function(c){return c+_313;}));};if(this.checked){multiply("Checked");}if(this.state){multiply(this.state);}if(this.selected){multiply("Selected");}if(this.disabled){multiply("Disabled");}else{if(this._active){multiply(this.stateModifier+"Active");}else{if(this._focused){multiply("Focused");}else{if(this._hovering){multiply(this.stateModifier+"Hover");}}}}(this.stateNode||this.domNode).className=this.staticClass+" "+_312.join(" ");},onChange:function(_315){},postCreate:function(){this.setValue(this.value,false);this.setDisabled(this.disabled);this._setStateClass();},setValue:function(_316,_317){this._lastValue=_316;dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","valuenow",this.forWaiValuenow());if(this._lastValueReported==undefined){this._lastValueReported=_316;}if((this.intermediateChanges||_317)&&_316!==this._lastValueReported){this._lastValueReported=_316;this.onChange(_316);}},getValue:function(){return this._lastValue;},undo:function(){this.setValue(this._lastValueReported,false);},_onKeyPress:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){var v=this.getValue();var lv=this._lastValueReported;if(lv!=undefined&&v.toString()!=lv.toString()){this.undo();dojo.stopEvent(e);return false;}}return true;},forWaiValuenow:function(){return this.getValue();}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<div class=\"dijit dijitLeft dijitInline dijitButton\"\n\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><div class='dijitRight'\n\t><button class=\"dijitStretch dijitButtonNode dijitButtonContents\" dojoAttachPoint=\"focusNode,titleNode\"\n\t\ttype=\"${type}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t><div class=\"dijitInline ${iconClass}\"></div\n\t\t><span class=\"dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\">${label}</span\n\t></button\n></div></div>\n",_onButtonClick:function(e){dojo.stopEvent(e);if(this.disabled){return;}return this.onClick(e);},postCreate:function(){if(this.showLabel==false){var _31c="";this.label=this.containerNode.innerHTML;_31c=dojo.trim(this.containerNode.innerText||this.containerNode.textContent);this.titleNode.title=_31c;dojo.addClass(this.containerNode,"dijitDisplayNone");}dijit.form._FormWidget.prototype.postCreate.apply(this,arguments);},onClick:function(e){if(this.type=="submit"){for(var node=this.domNode;node;node=node.parentNode){var _31f=dijit.byNode(node);if(_31f&&_31f._onSubmit){_31f._onSubmit(e);break;}if(node.tagName.toLowerCase()=="form"){node.submit();break;}}}},setLabel:function(_320){this.containerNode.innerHTML=this.label=_320;if(dojo.isMozilla){var _321=dojo.getComputedStyle(this.domNode).display;this.domNode.style.display="none";var _322=this;setTimeout(function(){_322.domNode.style.display=_321;},1);}if(this.showLabel==false){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent);}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<div class=\"dijit dijitLeft dijitInline\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onArrowClick,onkeypress:_onKey\"\n\t><div class='dijitRight'>\n\t<button class=\"dijitStretch dijitButtonNode dijitButtonContents\" type=\"${type}\"\n\t\tdojoAttachPoint=\"focusNode,titleNode\" waiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t><div class=\"dijitInline ${iconClass}\"></div\n\t\t><span class=\"dijitButtonText\" \tdojoAttachPoint=\"containerNode,popupStateNode\"\n\t\tid=\"${id}_label\">${label}</span\n\t\t><span class='dijitA11yDownArrow'>&#9660;</span>\n\t</button>\n</div></div>\n",_fillContent:function(){if(this.srcNodeRef){var _323=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_323[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(!this.dropDown){var _324=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_324);delete this.dropDownContainer;}dojo.body().appendChild(this.dropDown.domNode);this.dropDown.domNode.style.display="none";},_onArrowClick:function(e){if(this.disabled){return;}this._toggleDropDown();},_onKey:function(e){if(this.disabled){return;}if(e.keyCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.display=="none"){dojo.stopEvent(e);return this._toggleDropDown();}}},_onBlur:function(){dijit.popup.closeAll();},_toggleDropDown:function(){if(this.disabled){return;}dijit.focus(this.popupStateNode);var _327=this.dropDown;if(!_327){return false;}if(!_327.isShowingNow){if(_327.href&&!_327.isLoaded){var self=this;var _329=dojo.connect(_327,"onLoad",function(){dojo.disconnect(_329);self._openDropDown();});_327._loadCheck(true);return;}else{this._openDropDown();}}else{dijit.popup.closeAll();this._opened=false;}},_openDropDown:function(){var _32a=this.dropDown;var _32b=_32a.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_32a,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){dijit.popup.closeAll();self.focus();},onCancel:function(){dijit.popup.closeAll();self.focus();},onClose:function(){_32a.domNode.style.width=_32b;self.popupStateNode.removeAttribute("popupActive");}});if(this.domNode.offsetWidth>_32a.domNode.offsetWidth){var _32d=null;if(!this.isLeftToRight()){_32d=_32a.domNode.parentNode;var _32e=_32d.offsetLeft+_32d.offsetWidth;}dojo.marginBox(_32a.domNode,{w:this.domNode.offsetWidth});if(_32d){_32d.style.left=_32e-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_32a.focus){_32a.focus();}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\n\tcellspacing='0' cellpadding='0'\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\">\n\t<tr>\n\t\t<td\tclass=\"dijitStretch dijitButtonContents dijitButtonNode\"\n\t\t\ttabIndex=\"${tabIndex}\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\">\n\t\t\t<div class=\"dijitInline ${iconClass}\"></div>\n\t\t\t<span class=\"dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\">${label}</span>\n\t\t</td>\n\t\t<td class='dijitReset dijitRight dijitButtonNode dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey\"\n\t\t\tstateModifier=\"DownArrow\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t><div waiRole=\"presentation\">&#9660;</div>\n\t</td></tr>\n</table>\n",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{id:"",name:""}),optionsTitle:"",baseClass:"dijitComboButton"});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,onClick:function(evt){this.setChecked(!this.checked);},setChecked:function(_330){this.checked=_330;this._setStateClass();this.onChange(_330);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function(args,node){if(args){dojo.mixin(this,args);}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,queryCommand:null,command:"",commandArg:null,useDefaultCommand:true,buttonClass:dijit.form.Button,updateInterval:200,_initButton:function(){if(this.command.length){var _333=this.editor.commands[this.command];var _334="dijitEditorIcon "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _335={label:_333,showLabel:false,iconClass:_334,dropDown:this.dropDown};this.button=new this.buttonClass(_335);}}},updateState:function(){var _e=this.editor;var _c=this.command;if(!_e){return;}if(!_e.isLoaded){return;}if(!_c.length){return;}if(this.button){try{var _338=_e.queryCommandEnabled(_c);this.button.setDisabled(!_338);if(this.button.setChecked){this.button.setChecked(_e.queryCommandState(_c));}}catch(e){console.debug(e);}}},setEditor:function(_339){this.editor=_339;this._initButton();if((this.command.length)&&(!this.editor.queryCommandAvailable(this.command))){if(this.button){this.button.domNode.style.display="none";}}if(this.button&&this.useDefaultCommand){dojo.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}dojo.connect(this.editor,"onNormalizedDisplayChanged",this,"updateState");},setToolbar:function(_33a){if(this.button){_33a.addChild(this.button);}}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",[dijit._editor.RichText,dijit._Container],{plugins:null,extraPlugins:null,constructor:function(){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull"];this._plugins=[];this._editInterval=this.editActionInterval*1000;},postCreate:function(){if(this.customUndo){dojo["require"]("dijit._editor.range");this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);}if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}dijit.Editor.superclass.postCreate.apply(this,arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar();dojo.place(this.toolbar.domNode,this.editingArea,"before");}dojo.forEach(this.plugins,this.addPlugin,this);},destroy:function(){dojo.forEach(this._plugins,function(p){if(p.destroy){p.destroy();}});this._plugins=[];this.inherited("destroy",arguments);},addPlugin:function(_33c,_33d){var args=dojo.isString(_33c)?{name:_33c}:_33c;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish("dijit.Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.debug("Can not find plugin",_33c);return;}_33c=o.plugin;}if(arguments.length>1){this._plugins[_33d]=_33c;}else{this._plugins.push(_33c);}_33c.setEditor(this);if(dojo.isFunction(_33c.setToolbar)){_33c.setToolbar(this.toolbar);}},customUndo:dojo.isIE,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?this.undo():this.redo();}else{try{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited("execCommand",arguments);if(this.customUndo){this._endEditing();}return r;}catch(e){if(dojo.isMoz){if("copy"==cmd){alert(this.commands["copyErrorFF"]);}else{if("cut"==cmd){alert(this.commands["cutErrorFF"]);}else{if("paste"==cmd){alert(this.commands["pasteErrorFF"]);}}}}return false;}}},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited("queryCommandEnabled",arguments);}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}if(dojo.isIE){if(dojo.isArray(b)){var tmp=[];dojo.forEach(b,function(n){tmp.push(dijit.range.getNode(n,this.editNode));},this);b=tmp;}}else{var r=dijit.range.create();r.setStart(dijit.range.getNode(b.startContainer,this.editNode),b.startOffset);r.setEnd(dijit.range.getNode(b.endContainer,this.editNode),b.endOffset);b=r;}dojo.withGlobal(this.window,"moveToBookmark",dijit,[b]);},undo:function(){console.log("undo");this.endEditing(true);var s=this._steps.pop();if(this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();return true;}return false;},redo:function(){console.log("redo");this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();return true;}return false;},endEditing:function(_34d){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_34d);this._inEditing=false;}},_getBookmark:function(){var b=dojo.withGlobal(this.window,dijit.getBookmark);if(dojo.isIE){if(dojo.isArray(b)){var tmp=[];dojo.forEach(b,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b=tmp;}}else{var tmp=dijit.range.getIndex(b.startContainer,this.editNode).o;b={startContainer:tmp,startOffset:b.startOffset,endContainer:b.endContainer===b.startContainer?tmp:dijit.range.getIndex(b.endContainer,this.editNode).o,endOffset:b.endOffset};}return b;},_beginEditing:function(cmd){if(this._steps.length===0){this._steps.push({"text":this.savedContent,"bookmark":this._getBookmark()});}},_endEditing:function(_352){var v=this.getValue(true);this._undoedSteps=[];this._steps.push({"text":v,"bookmark":this._getBookmark()});},onKeyDown:function(e){if(!this.customUndo){this.inherited("onKeyDown",arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey){if(k===90||k===122){dojo.stopEvent(e);this.undo();return;}else{if(k===89||k===121){dojo.stopEvent(e);this.redo();return;}}}this.inherited("onKeyDown",arguments);switch(k){case ks.ENTER:this.beginEditing();break;case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function(){this.inherited("_onBlur",arguments);this.endEditing(true);},onClick:function(){this.endEditing(true);this.inherited("onClick",arguments);}});dojo.subscribe("dijit.Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _p=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":p=new _p({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _p({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _p({button:new dijit.ToolbarSeparator()});break;case "createlink":p=new dijit._editor.plugins.LinkDialog();break;}o.plugin=p;});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_35d){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_35d&&_35d.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(a,re,_361){if(!(a instanceof Array)){return re(a);}var b=[];for(var i=0;i<a.length;i++){b.push(re(a[i]));}return dojo.regexp.group(b.join("|"),_361);};dojo.regexp.group=function(_364,_365){return "("+(_365?"?:":"")+_364+")";};}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_366,_367){_367=dojo.mixin({},_367||{});var _368=dojo.i18n.normalizeLocale(_367.locale);var _369=dojo.i18n.getLocalization("dojo.cldr","number",_368);_367.customs=_369;var _36a=_367.pattern||_369[(_367.type||"decimal")+"Format"];if(isNaN(_366)){return null;}return dojo.number._applyPattern(_366,_36a,_367);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_36b,_36c,_36d){_36d=_36d||{};var _36e=_36d.customs.group;var _36f=_36d.customs.decimal;var _370=_36c.split(";");var _371=_370[0];_36c=_370[(_36b<0)?1:0]||("-"+_371);if(_36c.indexOf("%")!=-1){_36b*=100;}else{if(_36c.indexOf("‰")!=-1){_36b*=1000;}else{if(_36c.indexOf("¤")!=-1){_36e=_36d.customs.currencyGroup||_36e;_36f=_36d.customs.currencyDecimal||_36f;_36c=_36c.replace(/\u00a4{1,3}/,function(_372){var prop=["symbol","currency","displayName"][_372.length-1];return _36d[prop]||_36d.currency||"";});}else{if(_36c.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _374=dojo.number._numberPatternRE;var _375=_371.match(_374);if(!_375){throw new Error("unable to find a number expression in pattern: "+_36c);}return _36c.replace(_374,dojo.number._formatAbsolute(_36b,_375[0],{decimal:_36f,group:_36e,places:_36d.places}));};dojo.number.round=function(_376,_377,_378){var _379=String(_376).split(".");var _37a=(_379[1]&&_379[1].length)||0;if(_37a>_377){var _37b=Math.pow(10,_377);if(_378>0){_37b*=10/_378;_377++;}_376=Math.round(_376*_37b)/_37b;_379=String(_376).split(".");_37a=(_379[1]&&_379[1].length)||0;if(_37a>_377){_379[1]=_379[1].substr(0,_377);_376=Number(_379.join("."));}}return _376;};dojo.number._formatAbsolute=function(_37c,_37d,_37e){_37e=_37e||{};if(_37e.places===true){_37e.places=0;}if(_37e.places===Infinity){_37e.places=6;}var _37f=_37d.split(".");var _380=(_37e.places>=0)?_37e.places:(_37f[1]&&_37f[1].length)||0;if(!(_37e.round<0)){_37c=dojo.number.round(_37c,_380,_37e.round);}var _381=String(Math.abs(_37c)).split(".");var _382=_381[1]||"";if(_37e.places){_381[1]=dojo.string.pad(_382.substr(0,_37e.places),_37e.places,"0",true);}else{if(_37f[1]&&_37e.places!==0){var pad=_37f[1].lastIndexOf("0")+1;if(pad>_382.length){_381[1]=dojo.string.pad(_382,pad,"0",true);}var _384=_37f[1].length;if(_384<_382.length){_381[1]=_382.substr(0,_384);}}else{if(_381[1]){_381.pop();}}}var _385=_37f[0].replace(",","");pad=_385.indexOf("0");if(pad!=-1){pad=_385.length-pad;if(pad>_381[0].length){_381[0]=dojo.string.pad(_381[0],pad);}if(_385.indexOf("#")==-1){_381[0]=_381[0].substr(_381[0].length-pad);}}var _386=_37f[0].lastIndexOf(",");var _387,_388;if(_386!=-1){_387=_37f[0].length-_386-1;var _389=_37f[0].substr(0,_386);_386=_389.lastIndexOf(",");if(_386!=-1){_388=_389.length-_386-1;}}var _38a=[];for(var _38b=_381[0];_38b;){var off=_38b.length-_387;_38a.push((off>0)?_38b.substr(off):_38b);_38b=(off>0)?_38b.slice(0,off):"";if(_388){_387=_388;delete _388;}}_381[0]=_38a.reverse().join(_37e.group||",");return _381.join(_37e.decimal||".");};dojo.number.regexp=function(_38d){return dojo.number._parseInfo(_38d).regexp;};dojo.number._parseInfo=function(_38e){_38e=_38e||{};var _38f=dojo.i18n.normalizeLocale(_38e.locale);var _390=dojo.i18n.getLocalization("dojo.cldr","number",_38f);var _391=_38e.pattern||_390[(_38e.type||"decimal")+"Format"];var _392=_390.group;var _393=_390.decimal;var _394=1;if(_391.indexOf("%")!=-1){_394/=100;}else{if(_391.indexOf("‰")!=-1){_394/=1000;}else{var _395=_391.indexOf("¤")!=-1;if(_395){_392=_390.currencyGroup||_392;_393=_390.currencyDecimal||_393;}}}var _396=_391.split(";");if(_396.length==1){_396.push("-"+_396[0]);}var re=dojo.regexp.buildGroupRE(_396,function(_398){_398="(?:"+dojo.regexp.escapeString(_398,".")+")";return _398.replace(dojo.number._numberPatternRE,function(_399){var _39a={signed:false,separator:_38e.strict?_392:[_392,""],fractional:_38e.fractional,decimal:_393,exponent:false};var _39b=_399.split(".");var _39c=_38e.places;if(_39b.length==1||_39c===0){_39a.fractional=false;}else{if(typeof _39c=="undefined"){_39c=_39b[1].lastIndexOf("0")+1;}if(_39c&&_38e.fractional==undefined){_39a.fractional=true;}if(!_38e.places&&(_39c<_39b[1].length)){_39c+=","+_39b[1].length;}_39a.places=_39c;}var _39d=_39b[0].split(",");if(_39d.length>1){_39a.groupSize=_39d.pop().length;if(_39d.length>1){_39a.groupSize2=_39d.pop().length;}}return "("+dojo.number._realNumberRegexp(_39a)+")";});},true);if(_395){re=re.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(_39e,_39f,_3a0,_3a1){var prop=["symbol","currency","displayName"][_3a0.length-1];var _3a3=dojo.regexp.escapeString(_38e[prop]||_38e.currency||"");_39f=_39f?"\\s":"";_3a1=_3a1?"\\s":"";if(!_38e.strict){if(_39f){_39f+="*";}if(_3a1){_3a1+="*";}return "(?:"+_39f+_3a3+_3a1+")?";}return _39f+_3a3+_3a1;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_392,decimal:_393,factor:_394};};dojo.number.parse=function(_3a4,_3a5){var info=dojo.number._parseInfo(_3a5);var _3a7=(new RegExp("^"+info.regexp+"$")).exec(_3a4);if(!_3a7){return NaN;}var _3a8=_3a7[1];if(!_3a7[1]){if(!_3a7[2]){return NaN;}_3a8=_3a7[2];info.factor*=-1;}_3a8=_3a8.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return Number(_3a8)*info.factor;};dojo.number._realNumberRegexp=function(_3a9){_3a9=_3a9||{};if(typeof _3a9.places=="undefined"){_3a9.places=Infinity;}if(typeof _3a9.decimal!="string"){_3a9.decimal=".";}if(typeof _3a9.fractional=="undefined"||/^0/.test(_3a9.places)){_3a9.fractional=[true,false];}if(typeof _3a9.exponent=="undefined"){_3a9.exponent=[true,false];}if(typeof _3a9.eSigned=="undefined"){_3a9.eSigned=[true,false];}var _3aa=dojo.number._integerRegexp(_3a9);var _3ab=dojo.regexp.buildGroupRE(_3a9.fractional,function(q){var re="";if(q&&(_3a9.places!==0)){re="\\"+_3a9.decimal;if(_3a9.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_3a9.places+"}";}}return re;},true);var _3ae=dojo.regexp.buildGroupRE(_3a9.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_3a9.eSigned})+")";}return "";});var _3b0=_3aa+_3ab;if(_3ab){_3b0="(?:(?:"+_3b0+")|(?:"+_3ab+"))";}return _3b0+_3ae;};dojo.number._integerRegexp=function(_3b1){_3b1=_3b1||{};if(typeof _3b1.signed=="undefined"){_3b1.signed=[true,false];}if(typeof _3b1.separator=="undefined"){_3b1.separator="";}else{if(typeof _3b1.groupSize=="undefined"){_3b1.groupSize=3;}}var _3b2=dojo.regexp.buildGroupRE(_3b1.signed,function(q){return q?"[-+]":"";},true);var _3b4=dojo.regexp.buildGroupRE(_3b1.separator,function(sep){if(!sep){return "(?:0|[1-9]\\d*)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_3b1.groupSize,grp2=_3b1.groupSize2;if(grp2){var _3b8="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_3b8+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_3b8;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _3b2+_3b4;};}if(!dojo._hasResource["dijit.ProgressBar"]){dojo._hasResource["dijit.ProgressBar"]=true;dojo.provide("dijit.ProgressBar");dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:false,templateString:"<div class=\"dijitProgressBar dijitProgressBarEmpty\"\n\t><div waiRole=\"progressbar\" tabindex=\"0\" dojoAttachPoint=\"internalProgress\" class=\"dijitProgressBarFull\"\n\t\t><div class=\"dijitProgressBarTile\"></div\n\t\t><span style=\"visibility:hidden\">&nbsp;</span\n\t></div\n\t><div dojoAttachPoint=\"label\" class=\"dijitProgressBarLabel\">&nbsp;</div\n\t><img dojoAttachPoint=\"inteterminateHighContrastImage\" class=\"dijitProgressBarIndeterminateHighContrastImage\"\n\t></img\n></div>\n",_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){dijit.ProgressBar.superclass.postCreate.apply(this,arguments);this.inteterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath);this.update();},update:function(_3b9){dojo.mixin(this,_3b9||{});var _3ba=1,_3bb;if(this.indeterminate){_3bb="addClass";dijit.wai.removeAttr(this.internalProgress,"waiState","valuenow");}else{_3bb="removeClass";if(String(this.progress).indexOf("%")!=-1){_3ba=Math.min(parseFloat(this.progress)/100,1);this.progress=_3ba*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_3ba=this.progress/this.maximum;}var text=this.report(_3ba);this.label.firstChild.nodeValue=text;dijit.wai.setAttr(this.internalProgress,"waiState","valuenow",text);}dojo[_3bb](this.domNode,"dijitProgressBarIndeterminate");this.internalProgress.style.width=(_3ba*100)+"%";this.onChange();},report:function(_3bd){return dojo.number.format(_3bd,{type:"percent",places:this.places,locale:this.lang});},onChange:function(){}});}if(!dojo._hasResource["dijit.TitlePane"]){dojo._hasResource["dijit.TitlePane"]=true;dojo.provide("dijit.TitlePane");dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated],{title:"",open:true,duration:250,templateString:"<div class=\"dijitTitlePane\">\n\t<div dojoAttachEvent=\"onclick:toggle,onkeypress: _onTitleKey\" tabindex=\"0\"\n\t\t\twaiRole=\"button\" class=\"dijitTitlePaneTitle\" dojoAttachPoint=\"focusNode\">\n\t\t<span dojoAttachPoint=\"arrowNode\" class=\"dijitInline dijitArrowNode\"><span dojoAttachPoint=\"arrowNodeInner\" class=\"dijit_a11y dijitArrowNodeInner\"></span></span>\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitInline dijitTitleNode\"></span>\n\t</div>\n\t<div class=\"dijitTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\">\n\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\">\n\t\t\t<div class=\"dijitTitlePaneContentInner\" dojoAttachPoint=\"containerNode\" waiRole=\"region\" tabindex=\"-1\">\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n",postCreate:function(){this.setTitle(this.title);if(!this.open){this.hideNode.style.display=this.wipeNode.style.display="none";}this._setCss();dojo.setSelectable(this.titleNode,false);dijit.TitlePane.superclass.postCreate.apply(this,arguments);dijit.wai.setAttr(this.containerNode,"waiState","titleledby",this.titleNode.id);dijit.wai.setAttr(this.focusNode,"waiState","haspopup","true");var _3be=this.hideNode,_3bf=this.wipeNode;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){_3be.style.display="";}});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){_3be.style.display="none";}});},setContent:function(_3c0){if(this._wipeOut.status()=="playing"){dijit.layout.ContentPane.prototype.setContent.apply(this,_3c0);}else{if(this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});dijit.layout.ContentPane.prototype.setContent.apply(this,arguments);this._wipeIn.play();}},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(_3c1){if(_3c1.status()=="playing"){_3c1.stop();}});this[this.open?"_wipeOut":"_wipeIn"].play();this.open=!this.open;this._loadCheck();this._setCss();},_setCss:function(){var _3c2=["dijitClosed","dijitOpen"];var _3c3=this.open;dojo.removeClass(this.focusNode,_3c2[!_3c3+0]);this.focusNode.className+=" "+_3c2[_3c3+0];this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.keyCode==dojo.keys.ENTER||e.charCode==dojo.keys.SPACE){this.toggle();}else{if(e.keyCode==dojo.keys.DOWN_ARROW){if(this.open){this.containerNode.focus();e.preventDefault();}}}},setTitle:function(_3c5){this.titleNode.innerHTML=_3c5;}});}if(!dojo._hasResource["dijit.layout.LinkPane"]){dojo._hasResource["dijit.layout.LinkPane"]=true;dojo.provide("dijit.layout.LinkPane");dojo.declare("dijit.layout.LinkPane",[dijit.layout.ContentPane,dijit._Templated],{templateString:"<div class=\"dijitLinkPane\"></div>",postCreate:function(){if(this.srcNodeRef){this.title+=this.srcNodeRef.innerHTML;}dijit.layout.LinkPane.superclass.postCreate.apply(this,arguments);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this._started=true;if(this.getChildren){dojo.forEach(this.getChildren(),function(_3c6){_3c6.startup();});}if(!this.getParent||!this.getParent()){this.resize();this.connect(window,"onresize",function(){this.resize();});}},resize:function(args){var node=this.domNode;if(args){dojo.marginBox(node,args);if(args.t){node.style.top=args.t+"px";}if(args.l){node.style.left=args.l+"px";}}var mb=dojo.mixin(dojo.marginBox(node),args||{});this._contentBox=dijit.layout.marginBox2contentBox(node,mb);this.layout();},layout:function(){}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _3cf=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_3d2,dim){_3d2.resize?_3d2.resize(dim):dojo.marginBox(_3d2.domNode,dim);dojo.mixin(_3d2,dojo.marginBox(_3d2.domNode));dojo.mixin(_3d2,dim);};dijit.layout.layoutChildren=function(_3d4,dim,_3d6){dim=dojo.mixin({},dim);dojo.addClass(_3d4,"dijitLayoutContainer");dojo.forEach(_3d6,function(_3d7){var elm=_3d7.domNode,pos=_3d7.layoutAlign;var _3da=elm.style;_3da.left=dim.l+"px";_3da.top=dim.t+"px";_3da.bottom=_3da.right="auto";dojo.addClass(elm,"dijitAlign"+_3cf(pos));if(pos=="top"||pos=="bottom"){size(_3d7,{w:dim.w});dim.h-=_3d7.h;if(pos=="top"){dim.t+=_3d7.h;}else{_3da.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_3d7,{h:dim.h});dim.w-=_3d7.w;if(pos=="left"){dim.l+=_3d7.w;}else{_3da.left=dim.l+dim.w+"px";}}else{if(pos=="flood"||pos=="client"){size(_3d7,dim);}}}});};})();}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,_started:false,startup:function(){if(this._started){return;}var _3db=this.getChildren();dojo.forEach(_3db,this._setupChild,this);dojo.some(_3db,function(_3dc){if(_3dc.selected){this.selectedChildWidget=_3dc;}return _3dc.selected;},this);var _3dd=this.selectedChildWidget;if(!_3dd&&_3db[0]){_3dd=this.selectedChildWidget=_3db[0];_3dd.selected=true;}if(_3dd){this._showChild(_3dd);}dojo.publish(this.id+"-startup",[{children:_3db,selected:_3dd}]);dijit.layout._LayoutWidget.prototype.startup.apply(this,arguments);this._started=true;},_setupChild:function(page){page.domNode.style.display="none";page.domNode.style.position="relative";return page;},addChild:function(_3df,_3e0){dijit._Container.prototype.addChild.apply(this,arguments);_3df=this._setupChild(_3df);if(this._started){this.layout();dojo.publish(this.id+"-addChild",[_3df,_3e0]);if(!this.selectedChildWidget){this.selectChild(_3df);}}},removeChild:function(page){dijit._Container.prototype.removeChild.apply(this,arguments);if(this._beingDestroyed){return;}if(this._started){dojo.publish(this.id+"-removeChild",[page]);this.layout();}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _3e2=this.getChildren();if(_3e2.length){this.selectChild(_3e2[0]);}}}},selectChild:function(page){page=dijit.byId(page);if(this.selectedChildWidget!=page){this._transition(page,this.selectedChildWidget);this.selectedChildWidget=page;dojo.publish(this.id+"-selectChild",[page]);}},_transition:function(_3e4,_3e5){if(_3e5){this._hideChild(_3e5);}this._showChild(_3e4);if(this.doLayout&&_3e4.resize){_3e4.resize(this._containerContentBox||this._contentBox);}},forward:function(){var _3e6=this.getChildren();var _3e7=dojo.indexOf(_3e6,this.selectedChildWidget);this.selectChild(_3e6[(_3e7+1)%_3e6.length]);},back:function(){var _3e8=this.getChildren();var _3e9=dojo.indexOf(_3e8,this.selectedChildWidget);this.selectChild(_3e8[(_3e9+_3e8.length-1)%_3e8.length]);},_onKeyPress:function(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);return;},_showChild:function(page){var _3ec=this.getChildren();page.isFirstChild=(page==_3ec[0]);page.isLastChild=(page==_3ec[_3ec.length-1]);page.selected=true;page.domNode.style.display="";if(page._loadCheck){page._loadCheck();}if(page.onShow){page.onShow();}},_hideChild:function(page){page.selected=false;page.domNode.style.display="none";if(page.onHide){page.onHide();}},closeChild:function(page){var _3ef=page.onClose(this,page);if(_3ef){this.removeChild(page);page.destroy();}},destroy:function(){this._beingDestroyed=true;dijit.layout.StackContainer.superclass.destroy.apply(this,arguments);}});dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.wai.setAttr(this.domNode,"waiRole","role","tablist");this.pane2button={};this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild"),dojo.subscribe(this.containerId+"-containerKeyPress",this,"onContainerKeyPress")];},onStartup:function(info){dojo.forEach(info.children,this.onAddChild,this);this.onSelectChild(info.selected);},destroy:function(){dojo.forEach(this._subscriptions,dojo.unsubscribe);dijit.layout.StackController.superclass.destroy.apply(this,arguments);},onAddChild:function(page,_3f2){var _3f3=document.createElement("span");this.domNode.appendChild(_3f3);var cls=dojo.getObject(this.buttonWidget);var _3f5=new cls({label:page.title,closeButton:page.closable},_3f3);this.addChild(_3f5,_3f2);this.pane2button[page]=_3f5;page.controlButton=_3f5;var _3f6=this;dojo.connect(_3f5,"onClick",function(){_3f6.onButtonClick(page);});dojo.connect(_3f5,"onClickCloseButton",function(){_3f6.onCloseButtonClick(page);});if(!this._currentChild){_3f5.focusNode.setAttribute("tabIndex","0");this._currentChild=page;}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _3f8=this.pane2button[page];if(_3f8){_3f8.destroy();}this.pane2button[page]=null;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _3fa=this.pane2button[this._currentChild];_3fa.setChecked(false);_3fa.focusNode.setAttribute("tabIndex","-1");}var _3fb=this.pane2button[page];_3fb.setChecked(true);this._currentChild=page;_3fb.focusNode.setAttribute("tabIndex","0");},onButtonClick:function(page){var _3fd=dijit.byId(this.containerId);_3fd.selectChild(page);},onCloseButtonClick:function(page){var _3ff=dijit.byId(this.containerId);_3ff.closeChild(page);var b=this.pane2button[this._currentChild];if(b){dijit.focus(b.focusNode||b.domNode);}},adjacent:function(_401){var _402=this.getChildren();var _403=dojo.indexOf(_402,this.pane2button[this._currentChild]);var _404=_401?1:_402.length-1;return _402[(_403+_404)%_402.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var page=e._djpage;var _407=true;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.keyCode){case k.LEFT_ARROW:case k.UP_ARROW:case k.PAGE_UP:_407=false;case k.RIGHT_ARROW:case k.DOWN_ARROW:case k.PAGE_DOWN:this.adjacent(_407).onClick();dojo.stopEvent(e);break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.keyCode==k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.keyChar=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",onClick:function(evt){dijit.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});dojo.extend(dijit._Widget,{title:"",selected:false,closable:false,onClose:function(){return true;}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",templateString:null,templateString:"<div class=\"dijitTabContainer\">\n\t<div dojoAttachPoint=\"tablistNode\"></div>\n\t<div class=\"dijitTabPaneWrapper\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onkeypress:_onKeyPress\" waiRole=\"tabpanel\"></div>\n</div>\n",postCreate:function(){dijit.layout.TabContainer.superclass.postCreate.apply(this,arguments);this.tablist=new dijit.layout.TabController({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id},this.tablistNode);},_setupChild:function(tab){dojo.addClass(tab.domNode,"dijitTabPane");dijit.layout.TabContainer.superclass._setupChild.apply(this,arguments);return tab;},startup:function(){if(this._started){return;}this.tablist.startup();dijit.layout.TabContainer.superclass.startup.apply(this,arguments);if(dojo.isSafari){setTimeout(dojo.hitch(this,"layout"),0);}},layout:function(){if(!this.doLayout){return;}var _40d=this.tabPosition.replace(/-h/,"");var _40e=[{domNode:this.tablist.domNode,layoutAlign:_40d},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_40e);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_40e[1]);if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);if(this.doLayout&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox);}}},destroy:function(){this.tablist.destroy();dijit.layout.TabContainer.superclass.destroy.apply(this,arguments);}});dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:true,buttonWidget:"dijit.layout._TabButton",postMixInProperties:function(){this["class"]="dijitTabLabels-"+this.tabPosition+(this.doLayout?"":" dijitTabNoLayout");dijit.layout.TabController.superclass.postMixInProperties.apply(this,arguments);}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>"+"<div class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>"+"<span dojoAttachPoint='containerNode,focusNode' waiRole='tab'>${!label}</span>"+"<span dojoAttachPoint='closeButtonNode' class='closeImage'"+" dojoAttachEvent='onmouseenter:_onMouse, onmouseleave:_onMouse, onclick:onClickCloseButton'"+" stateModifier='CloseButton'>"+"<span dojoAttachPoint='closeText' class='closeText'>x</span>"+"</span>"+"</div>"+"</div>",postCreate:function(){if(this.closeButton){dojo.addClass(this.innerDiv,"dijitClosable");}else{this.closeButtonNode.style.display="none";}dijit.layout._TabButton.superclass.postCreate.apply(this,arguments);dojo.setSelectable(this.containerNode,false);}});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_40f,_410){var rxp="^";var c=null;for(var i=0;i<_40f.length;i++){c=_40f.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_40f.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_410){return new RegExp(rxp,"i");}else{return new RegExp(rxp);}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var ret=0;if(a>b||typeof a==="undefined"||a===null){ret=1;}else{if(a<b||typeof b==="undefined"||b===null){ret=-1;}}return ret;};dojo.data.util.sorter.createSortFunction=function(_417,_418){var _419=[];function createSortFunction(attr,dir){return function(_41c,_41d){var a=_418.getValue(_41c,attr);var b=_418.getValue(_41d,attr);var _420=null;if(_418.comparatorMap){if(typeof attr!=="string"){attr=_418.getIdentity(attr);}_420=_418.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_420=_420||dojo.data.util.sorter.basicComparator;return dir*_420(a,b);};};for(var i=0;i<_417.length;i++){sortAttribute=_417[i];if(sortAttribute.attribute){var _422=(sortAttribute.descending)?-1:1;_419.push(createSortFunction(sortAttribute.attribute,_422));}}return function(rowA,rowB){var i=0;while(i<_419.length){var ret=_419[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_427){_427=_427||{};if(!_427.store){_427.store=this;}var self=this;var _429=function(_42a,_42b){if(_42b.onError){var _42c=_42b.scope||dojo.global;_42b.onError.call(_42c,_42a,_42b);}};var _42d=function(_42e,_42f){var _430=_42f.abort||null;var _431=false;var _432=_42f.start?_42f.start:0;var _433=_42f.count?(_432+_42f.count):_42e.length;_42f.abort=function(){_431=true;if(_430){_430.call(_42f);}};var _434=_42f.scope||dojo.global;if(!_42f.store){_42f.store=self;}if(_42f.onBegin){_42f.onBegin.call(_434,_42e.length,_42f);}if(_42f.sort){_42e.sort(dojo.data.util.sorter.createSortFunction(_42f.sort,self));}if(_42f.onItem){for(var i=_432;(i<_42e.length)&&(i<_433);++i){var item=_42e[i];if(!_431){_42f.onItem.call(_434,item,_42f);}}}if(_42f.onComplete&&!_431){var _437=null;if(!_42f.onItem){_437=_42e.slice(_432,_433);}_42f.onComplete.call(_434,_437,_42f);}};this._fetchItems(_427,_42d,_429);return _427;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_438){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_438.url;this._jsonData=_438.data;this._datatypeMap=_438.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_439){return dojo.date.stamp.fromISOString(_439);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._loadInProgress=false;this._queuedFetches=[];},url:"",_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_43b){if(typeof _43b!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_43d,_43e){var _43f=this.getValues(item,_43d);return (_43f.length>0)?_43f[0]:_43e;},getValues:function(item,_441){this._assertIsItem(item);this._assertIsAttribute(_441);return item[_441]||[];},getAttributes:function(item){this._assertIsItem(item);var _443=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)){_443.push(key);}}return _443;},hasAttribute:function(item,_446){return this.getValues(item,_446).length>0;},containsValue:function(item,_448,_449){var _44a=undefined;if(typeof _449==="string"){_44a=dojo.data.util.filter.patternToRegExp(_449,false);}return this._containsValue(item,_448,_449,_44a);},_containsValue:function(item,_44c,_44d,_44e){var _44f=this.getValues(item,_44c);for(var i=0;i<_44f.length;++i){var _451=_44f[i];if(typeof _451==="string"&&_44e){return (_451.match(_44e)!==null);}else{if(_44d===_451){return true;}}}return false;},isItem:function(_452){if(_452&&_452[this._storeRefPropName]===this){if(this._arrayOfAllItems[_452[this._itemNumPropName]]===_452){return true;}}return false;},isItemLoaded:function(_453){return this.isItem(_453);},loadItem:function(_454){this._assertIsItem(_454.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_457,_458,_459){var self=this;var _45b=function(_45c,_45d){var _45e=[];if(_45c.query){var _45f=_45c.queryOptions?_45c.queryOptions.ignoreCase:false;var _460={};for(var key in _45c.query){var _462=_45c.query[key];if(typeof _462==="string"){_460[key]=dojo.data.util.filter.patternToRegExp(_462,_45f);}}for(var i=0;i<_45d.length;++i){var _464=true;var _465=_45d[i];if(_465===null){_464=false;}else{for(var key in _45c.query){var _462=_45c.query[key];if(!self._containsValue(_465,key,_462,_460[key])){_464=false;}}}if(_464){_45e.push(_465);}}_458(_45e,_45c);}else{for(var i=0;i<_45d.length;++i){var item=_45d[i];if(item!==null){_45e.push(item);}}_458(_45e,_45c);}};if(this._loadFinished){_45b(_457,this._getItemsArray(_457.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_457,filter:_45b});}else{this._loadInProgress=true;var _467={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _468=dojo.xhrGet(_467);_468.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_45b(_457,self._getItemsArray(_457.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_459(e,_457);}});_468.addErrback(function(_46a){self._loadInProgress=false;_459(_46a,_457);});}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_45b(_457,this._getItemsArray(_457.queryOptions));}catch(e){_459(e,_457);}}else{_459(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_457);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _46c=this._queuedFetches[i];var _46d=_46c.args;var _46e=_46c.filter;if(_46e){_46e(_46d,this._getItemsArray(_46d.queryOptions));}else{this.fetchItemByIdentity(_46d);}}this._queuedFetches=[];}},_getItemsArray:function(_46f){if(_46f&&_46f.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_470){},_getItemsFromLoadedData:function(_471){function valueIsAnItem(_472){var _473=((_472!=null)&&(typeof _472=="object")&&(!dojo.isArray(_472))&&(!dojo.isFunction(_472))&&(_472.constructor==Object)&&(typeof _472._reference=="undefined")&&(typeof _472._type=="undefined")&&(typeof _472._value=="undefined"));return _473;};var self=this;function addItemAndSubItemsToArrayOfAllItems(_475){self._arrayOfAllItems.push(_475);for(var _476 in _475){var _477=_475[_476];if(_477){if(dojo.isArray(_477)){var _478=_477;for(var k=0;k<_478.length;++k){var _47a=_478[k];if(valueIsAnItem(_47a)){addItemAndSubItemsToArrayOfAllItems(_47a);}}}else{if(valueIsAnItem(_477)){addItemAndSubItemsToArrayOfAllItems(_477);}}}}};this._labelAttr=_471.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_471.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];addItemAndSubItemsToArrayOfAllItems(item);item[this._rootItemPropName]=true;}var _47d={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _47f=item[key];if(_47f!==null){if(!dojo.isArray(_47f)){item[key]=[_47f];}}else{item[key]=[null];}}_47d[key]=key;}}while(_47d[this._storeRefPropName]){this._storeRefPropName+="_";}while(_47d[this._itemNumPropName]){this._itemNumPropName+="_";}var _480;var _481=_471.identifier;this._itemsByIdentity={};if(_481){this._features["dojo.data.api.Identity"]=_481;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_480=item[_481];var _482=_480[0];if(!this._itemsByIdentity[_482]){this._itemsByIdentity[_482]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_481+"].  Value collided: ["+_482+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_481+"].  Value collided: ["+_482+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_480=item[key];for(var j=0;j<_480.length;++j){_47f=_480[j];if(_47f!==null&&typeof _47f=="object"){if(_47f._type&&_47f._value){var type=_47f._type;var _485=this._datatypeMap[type];if(!_485){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_485)){_480[j]=new _485(_47f._value);}else{if(dojo.isFunction(_485.deserialize)){_480[j]=_485.deserialize(_47f._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_47f._reference){var _486=_47f._reference;if(dojo.isString(_486)){_480[j]=this._itemsByIdentity[_486];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _488=this._arrayOfAllItems[k];var _489=true;for(var _48a in _486){if(_488[_48a]!=_486[_48a]){_489=false;}}if(_489){_480[j]=_488;}}}}}}}}},getIdentity:function(item){var _48c=this._features["dojo.data.api.Identity"];if(_48c===Number){return item[this._itemNumPropName];}else{var _48d=item[_48c];if(_48d){return _48d[0];}}return null;},fetchItemByIdentity:function(_48e){if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_48e});}else{var _490={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _491=dojo.xhrGet(_490);_491.addCallback(function(data){var _493=_48e.scope?_48e.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_48e.identity);if(_48e.onItem){_48e.onItem.call(_493,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_48e.onError){_48e.onError.call(_493,error);}}});_491.addErrback(function(_495){self._loadInProgress=false;if(_48e.onError){var _496=_48e.scope?_48e.scope:dojo.global;_48e.onError.call(_496,_495);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_48e.identity);if(_48e.onItem){var _498=_48e.scope?_48e.scope:dojo.global;_48e.onItem.call(_498,item);}}}}else{var item=this._getItemByIdentity(_48e.identity);if(_48e.onItem){var _498=_48e.scope?_48e.scope:dojo.global;_48e.onItem.call(_498,item);}}},_getItemByIdentity:function(_499){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_499];if(item===undefined){item=null;}}else{this._arrayOfAllItems[_499];}return item;},getIdentityAttributes:function(item){var _49c=this._features["dojo.data.api.Identity"];if(_49c===Number){return null;}else{return [_49c];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _49e={url:self._jsonFileUrl,handleAs:"json-comment-optional",sync:true};var _49f=dojo.xhrGet(_49e);_49f.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}}catch(e){console.log(e);throw e;}});_49f.addErrback(function(_4a1){throw _4a1;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxlength:"",templateString:"<table style=\"display: -moz-inline-stack;\" class=\"dijit dijitReset dijitInlineTable\" cellspacing=\"0\" cellpadding=\"0\"\n\tid=\"widget_${id}\" name=\"${name}\" dojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse\" waiRole=\"presentation\">\n\t<tr class=\"dijitReset\">\n\t\t<td class=\"dijitReset dijitInputField\" width=\"100%\"\n\t\t\t><input dojoAttachPoint='textbox,focusNode' dojoAttachEvent='onfocus:_onMouse,onblur:_onMouse,onkeyup,onkeypress:_onKeyPress' autocomplete=\"off\"\n\t\t\tstyle=\"width: 100%;\" class=\"dijitInputField\" type='${type}'\n\t\t/></td>\n\t</tr>\n</table>\n",baseClass:"dijitTextBox",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{maxlength:"focusNode"}),getTextValue:function(){return this.filter(this.textbox.value);},getValue:function(){return this.parse(this.getTextValue(),this.constraints);},setValue:function(_4a2,_4a3,_4a4){var _4a5=this.filter(_4a2);if((typeof _4a5==typeof _4a2)&&(_4a4==null||_4a4==undefined)){_4a4=this.format(_4a5,this.constraints);}if(_4a4!=null&&_4a4!=undefined){this.textbox.value=_4a4;}dijit.form.TextBox.superclass.setValue.call(this,_4a5,_4a3);},forWaiValuenow:function(){return this.getTextValue();},format:function(_4a6,_4a7){return ((_4a6==null||_4a6==undefined)?"":(_4a6.toString?_4a6.toString():_4a6));},parse:function(_4a8,_4a9){return _4a8;},postCreate:function(){this.textbox.setAttribute("value",this.getTextValue());this.inherited("postCreate",arguments);if(this.srcNodeRef){dojo.style(this.textbox,"cssText",this.style);this.textbox.className+=" "+this["class"];}if(dojo.isFF==2&&this.domNode.tagName=="TABLE"){var node=this.domNode,_4ab=this;setTimeout(function(){var _4ac=node.style.width;node.style.width="30em";setTimeout(function(){node.style.width=_4ac;},0);},0);}},filter:function(val){if(val==undefined||val==null){return "";}else{if(typeof val!="string"){return val;}}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_onBlur:function(){this.setValue(this.getValue(),(this.isValid?this.isValid():true));},onkeyup:function(){}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:200,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_4af,_4b0){if(this.aroundNode&&this.aroundNode===_4b0){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_4af;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _4b1=this.isLeftToRight()?{"BR":"BL","BL":"BR"}:{"BL":"BR","BR":"BL"};var pos=dijit.placeOnScreenAroundElement(this.domNode,_4b0,_4b1);this.domNode.className="dijitTooltip dijitTooltip"+(pos.corner=="BL"?"Right":"Left");dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_4b0;},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_4b3){if(!this.aroundNode||this.aroundNode!==_4b3){return;}if(this._onDeck){this._onDeck=null;return;}this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dojo.addOnLoad(function(){dijit.MasterTooltip=new dijit._MasterTooltip();});dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:"",postCreate:function(){this.srcNodeRef.style.display="none";this._connectNode=dojo.byId(this.connectId);if(dojo.isIE){this._connectNode.style.zoom=1;}dojo.forEach(["onMouseOver","onMouseOut","onFocus","onBlur","onHover","onUnHover"],function(_4b4){this.connect(this._connectNode,_4b4.toLowerCase(),"_"+_4b4);},this);},_onMouseOver:function(e){this._onHover(e);},_onMouseOut:function(e){if(dojo.isDescendant(e.relatedTarget,this._connectNode)){return;}this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);},_onBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){this._showTimer=setTimeout(dojo.hitch(this,"open"),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.MasterTooltip.show(this.label||this.domNode.innerHTML,this._connectNode);},close:function(){dijit.MasterTooltip.hide(this._connectNode);},uninitialize:function(){this.close();}});}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<table style=\"display: -moz-inline-stack;\" class=\"dijit dijitReset dijitInlineTable\" cellspacing=\"0\" cellpadding=\"0\"\n\tid=\"widget_${id}\" name=\"${name}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse\" waiRole=\"presentation\">\n\t<tr class=\"dijitReset\">\n\t\t<td class=\"dijitReset dijitInputField\" width=\"100%\"\n\t\t\t><input dojoAttachPoint='textbox,focusNode' dojoAttachEvent='onfocus,onblur:_onMouse,onkeyup,onkeypress:_onKeyPress' autocomplete=\"off\"\n\t\t\tstyle=\"width: 100%\" class=\"dijitInputField\" type='${type}'\n\t\t/></td>\n\t\t<td class=\"dijitReset dijitValidationIconField\" width=\"0%\"\n\t\t\t><div dojoAttachPoint='iconNode' class='dijitValidationIcon'></div><div class='dijitValidationIconText'>&Chi;</div\n\t\t></td>\n\t</tr>\n</table>\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:" ",constraints:{},regExp:".*",regExpGen:function(_4bb){return this.regExp;},state:"",setValue:function(){this.inherited("setValue",arguments);this.validate(false);},validator:function(_4bc,_4bd){return (new RegExp("^("+this.regExpGen(_4bd)+")"+(this.required?"":"?")+"$")).test(_4bc)&&(!this.required||!this._isEmpty(_4bc));},isValid:function(_4be){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_4bf){return /^\s*$/.test(_4bf);},getErrorMessage:function(_4c0){return this.invalidMessage;},getPromptMessage:function(_4c1){return this.promptMessage;},validate:function(_4c2){var _4c3="";var _4c4=this.isValid(_4c2);var _4c5=this._isEmpty(this.textbox.value);this.state=(_4c4||(!this._hasBeenBlurred&&this.required&&_4c5))?"":"Error";this._setStateClass();dijit.wai.setAttr(this.focusNode,"waiState","invalid",(_4c4?"false":"true"));if(_4c2){if(_4c5){_4c3=this.getPromptMessage(true);}if(!_4c3&&!_4c4){_4c3=this.getErrorMessage(true);}}this._displayMessage(_4c3);},_message:"",_displayMessage:function(_4c6){if(this._message==_4c6){return;}this._message=_4c6;this.displayMessage(_4c6);},displayMessage:function(_4c7){if(_4c7){dijit.MasterTooltip.show(_4c7,this.domNode);}else{dijit.MasterTooltip.hide(this.domNode);}},_hasBeenBlurred:false,_onBlur:function(evt){this._hasBeenBlurred=true;this.validate(false);this.inherited("_onBlur",arguments);},onfocus:function(evt){this.validate(true);this._onMouse(evt);},onkeyup:function(evt){this.onfocus(evt);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited("postMixInProperties",arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage==" "){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{serialize:function(val,_4cd){return (val.toString?val.toString():"");},toString:function(){var val=this.filter(this.getValue());return (val!=null)?((typeof val=="string")?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();this.inherited("validate",arguments);},postCreate:function(){var _4cf=this.textbox;var _4d0=(this.valueNode=document.createElement("input"));_4d0.setAttribute("type",_4cf.type);_4d0.setAttribute("value",this.toString());dojo.style(_4d0,"display","none");_4d0.name=this.textbox.name;this.textbox.removeAttribute("name");dojo.place(_4d0,_4cf,"after");this.inherited("postCreate",arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",compare:function(val1,val2){return val1-val2;},rangeCheck:function(_4d3,_4d4){var _4d5=(typeof _4d4.min!="undefined");var _4d6=(typeof _4d4.max!="undefined");if(_4d5||_4d6){return (!_4d5||this.compare(_4d3,_4d4.min)>=0)&&(!_4d6||this.compare(_4d3,_4d4.max)<=0);}else{return true;}},isInRange:function(_4d7){return this.rangeCheck(this.getValue(),this.constraints);},isValid:function(_4d8){return this.inherited("isValid",arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_4d8));},getErrorMessage:function(_4d9){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_4d9)){return this.rangeMessage;}else{return this.inherited("getErrorMessage",arguments);}},postMixInProperties:function(){this.inherited("postMixInProperties",arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited("postCreate",arguments);if(typeof this.constraints.min!="undefined"){dijit.wai.setAttr(this.focusNode,"waiState","valuemin",this.constraints.min);}if(typeof this.constraints.max!="undefined"){dijit.wai.setAttr(this.focusNode,"waiState","valuemax",this.constraints.max);}}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:30,store:null,query:{},autoComplete:true,searchDelay:100,searchAttr:"name",ignoreCase:true,hasDownArrow:true,_hasFocus:false,templateString:"<table style=\"display: -moz-inline-stack;\" class=\"dijit dijitReset dijitInlineTable dijitLeft\" cellspacing=\"0\" cellpadding=\"0\"\n\tid=\"widget_${id}\" name=\"${name}\" dojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse\" waiRole=\"presentation\">\n\t<tr>\n\t\t<td class='dijitReset dijitStretch dijitInputField' width=\"100%\"\n\t\t\t><input style=\"width: 100%\" type=\"text\" autocomplete=\"off\"\n\t\t\tdojoAttachEvent=\"onkeypress, onkeyup, onfocus, onblur, compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"combobox\"\n\t\t/></td>\n\t\t<td class=\"dijitReset dijitValidationIconField\" width=\"0%\"\n\t\t\t><div dojoAttachPoint='iconNode' class='dijitValidationIcon'></div><div class='dijitInline dijitValidationIconText'>&Chi;</div\n\t\t></td>\n\t\t<td class='dijitReset dijitRight dijitButtonNode dijitDownArrowButton' width=\"0%\"\n\t\t\tdojoAttachPoint=\"downArrowNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick,onmousedown:_onMouse,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitDownArrowButtonInner\" waiRole=\"presentation\" tabIndex=\"-1\">\n\t\t\t\t<div class=\"dijit_a11y dijitDownArrowButtonChar\">&#9660;</div>\n\t\t\t</div\n\t\t></td>\t\n\t</tr>\n</table>\n",baseClass:"dijitComboBox",_lastDisplayedValue:"",getValue:function(){return dijit.form.TextBox.superclass.getValue.apply(this,arguments);},getDisplayedValue:function(){return this.textbox.value;},setDisplayedValue:function(_4da){this._lastDisplayedValue=_4da;this.setValue(_4da,true);},_getCaretPos:function(_4db){if(typeof (_4db.selectionStart)=="number"){return _4db.selectionStart;}else{if(dojo.isIE){var tr=document.selection.createRange().duplicate();var ntr=_4db.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);return String(ntr.text).replace(/\r/g,"").length;}catch(e){return 0;}}}},_setCaretPos:function(_4de,_4df){_4df=parseInt(_4df);this._setSelectedRange(_4de,_4df,_4df);},_setSelectedRange:function(_4e0,_4e1,end){if(!end){end=_4e0.value.length;}if(_4e0.setSelectionRange){dijit.focus(_4e0);_4e0.setSelectionRange(_4e1,end);}else{if(_4e0.createTextRange){var _4e3=_4e0.createTextRange();with(_4e3){collapse(true);moveEnd("character",end);moveStart("character",_4e1);select();}}else{_4e0.value=_4e0.value;_4e0.blur();dijit.focus(_4e0);var dist=parseInt(_4e0.value.length)-end;var _4e5=String.fromCharCode(37);var tcc=_4e5.charCodeAt(0);for(var x=0;x<dist;x++){var te=document.createEvent("KeyEvents");te.initKeyEvent("keypress",true,true,null,false,false,false,false,tcc,tcc);_4e0.dispatchEvent(te);}}}},onkeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var _4ea=false;if(this._isShowingNow){this._popupWidget.handleKey(evt);}switch(evt.keyCode){case dojo.keys.PAGE_DOWN:case dojo.keys.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_4ea=true;}else{this._announceOption(this._popupWidget.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dojo.keys.PAGE_UP:case dojo.keys.UP_ARROW:if(this._isShowingNow){this._announceOption(this._popupWidget.getHighlightedOption());}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dojo.keys.ENTER:var _4eb;if(this._isShowingNow&&(_4eb=this._popupWidget.getHighlightedOption())){if(_4eb==this._popupWidget.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_4eb==this._popupWidget.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this.setDisplayedValue(this.getDisplayedValue());}evt.preventDefault();case dojo.keys.TAB:var _4ec=this.getDisplayedValue();if(this._popupWidget&&(_4ec==this._popupWidget._messages["previousMessage"]||_4ec==this._popupWidget._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(this._popupWidget.getHighlightedOption()){this._popupWidget.setValue({target:this._popupWidget.getHighlightedOption()},true);}this._hideResultList();}break;case dojo.keys.SPACE:this._prev_key_backspace=false;this._prev_key_esc=false;if(this._isShowingNow&&this._popupWidget.getHighlightedOption()){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_4ea=true;}break;case dojo.keys.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;this._hideResultList();if(this._lastDisplayedValue!=this.getDisplayedValue()){this.setValue(this._lastValueReported);this.setDisplayedValue(this._lastDisplayedValue);dojo.stopEvent(evt);}else{this.setValue(this.getValue());}break;case dojo.keys.DELETE:case dojo.keys.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_4ea=true;break;case dojo.keys.RIGHT_ARROW:case dojo.keys.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;if(evt.charCode!=0){_4ea=true;}}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_4ea){this.searchTimer=setTimeout(dojo.hitch(this,this._startSearchFromInput),this.searchDelay);}},_autoCompleteText:function(text){this._setSelectedRange(this.focusNode,this.focusNode.value.length,this.focusNode.value.length);if(new RegExp("^"+escape(this.focusNode.value),this.ignoreCase?"i":"").test(escape(text))){var cpos=this._getCaretPos(this.focusNode);if((cpos+1)>this.focusNode.value.length){this.focusNode.value=text;this._setSelectedRange(this.focusNode,cpos,this.focusNode.value.length);dijit.wai.setAttr(this.focusNode,"waiState","valuenow",text);}}else{this.focusNode.value=text;this._setSelectedRange(this.focusNode,0,this.focusNode.value.length);dijit.wai.setAttr(this.focusNode,"waiState","valuenow",text);}},_openResultList:function(_4ef,_4f0){if(this.disabled||_4f0.query[this.searchAttr]!=this._lastQuery){return;}this._popupWidget.clearResultList();if(!_4ef.length){this._hideResultList();return;}var _4f1=new String(this.store.getValue(_4ef[0],this.searchAttr));if(_4f1&&(this.autoComplete)&&(!this._prev_key_backspace)&&(_4f0.query[this.searchAttr]!="*")){this._autoCompleteText(_4f1);dijit.wai.setAttr(this.focusNode||this.domNode,"waiState","valuenow",_4f1);}this._popupWidget.createOptions(_4ef,_4f0,dojo.hitch(this,this._getMenuLabelFromItem));this._showResultList();if(_4f0.direction){if(_4f0.direction==1){this._popupWidget.highlightFirstOption();}else{if(_4f0.direction==-1){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function(){this._hideResultList();var _4f2=this._popupWidget.getItems(),_4f3=Math.min(_4f2.length,this.maxListLength);this._arrowPressed();this._displayMessage("");with(this._popupWidget.domNode.style){width="";height="";}var best=this.open();var _4f5=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_4f5.h)&&(best.w==_4f5.w))?"hidden":"auto";var _4f6=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_4f6+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_4f6,this.domNode.offsetWidth)});},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close();this._arrowIdle();this._isShowingNow=false;}},_onBlur:function(){this._hasBeenBlurred=true;this._hideResultList();var _4f7=this.getDisplayedValue();if(this._popupWidget&&(_4f7==this._popupWidget._messages["previousMessage"]||_4f7==this._popupWidget._messages["nextMessage"])){this.setValue(this._lastValueReported);}else{this.setDisplayedValue(_4f7);}},onfocus:function(evt){this._hasFocus=true;this._onMouse(evt);},onblur:function(evt){this._arrowIdle();this._hasFocus=false;this.validate(false);this._onMouse(evt);},_announceOption:function(node){if(node==null){return;}var _4fb;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_4fb=node.innerHTML;}else{_4fb=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));this._autoCompleteText(_4fb);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.setDisplayedValue(this.getDisplayedValue());return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.item=tgt.item;this.setValue(this.store.getValue(tgt.item,this.searchAttr),true);},_onArrowClick:function(){if(this.disabled){return;}this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(key){if(!this._popupWidget){this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption)});}var _500=this.query;this._lastQuery=_500[this.searchAttr]=key+"*";var _501=this.store.fetch({queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_500,onComplete:dojo.hitch(this,"_openResultList"),start:0,count:this.pageSize});function nextSearch(_502,_503){_502.start+=_502.count*_503;_502.direction=_503;_502.store.fetch(_502);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,nextSearch,_501);},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this.onkeypress({charCode:-1});},constructor:function(){this.query={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _505=dojo.query("> option",this.srcNodeRef).map(function(node){node.style.display="none";return {value:node.getAttribute("value"),name:String(node.innerHTML)};});this.store=new dojo.data.ItemFileReadStore({data:{identifier:this._getValueField(),items:_505}});if(_505&&_505.length&&!this.value){this.value=_505[this.srcNodeRef.selectedIndex!=-1?this.srcNodeRef.selectedIndex:0][this._getValueField()];}}},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function(item){return {html:false,label:this.store.getValue(item,this.searchAttr)};},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitMenu' dojoAttachEvent='onclick,onmouseover,onmouseout' tabIndex='-1' style='overflow:\"auto\";'>"+"<div class='dijitMenuItem' dojoAttachPoint='previousButton'></div>"+"<div class='dijitMenuItem' dojoAttachPoint='nextButton'></div>"+"</div>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited("postMixInProperties",arguments);},setValue:function(_508){this.value=_508;this.onChange(_508);},onChange:function(_509){},onPage:function(_50a){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited("postCreate",arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_50c){var _50d=_50c(item);var _50e=document.createElement("div");if(_50d.html){_50e.innerHTML=_50d.label;}else{_50e.appendChild(document.createTextNode(_50d.label));}if(_50e.innerHTML==""){_50e.innerHTML="&nbsp;";}_50e.item=item;return _50e;},createOptions:function(_50f,_510,_511){this.previousButton.style.display=_510.start==0?"none":"";var _512=this;dojo.forEach(_50f,function(item){var _514=_512._createOption(item,_511);_514.className="dijitMenuItem";_512.domNode.insertBefore(_514,_512.nextButton);});this.nextButton.style.display=_510.count==_50f.length?"":"none";},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},onclick:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this.setValue({target:tgt},true);}}}},onmouseover:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},onmouseout:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemHover");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");this._highlighted_option=null;}},_highlightNextOption:function(){if(!this.getHighlightedOption()){this._focusOptionNode(this.domNode.firstChild.style.display=="none"?this.domNode.firstChild.nextSibling:this.domNode.firstChild);}else{if(this._highlighted_option.nextSibling&&this._highlighted_option.nextSibling.style.display!="none"){this._focusOptionNode(this._highlighted_option.nextSibling);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){if(!this.getHighlightedOption()){this._focusOptionNode(this.domNode.lastChild.style.display=="none"?this.domNode.lastChild.previousSibling:this.domNode.lastChild);}else{if(this._highlighted_option.previousSibling&&this._highlighted_option.previousSibling.style.display!="none"){this._focusOptionNode(this._highlighted_option.previousSibling);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _51c=0;var _51d=this.domNode.scrollTop;var _51e=parseInt(dojo.getComputedStyle(this.domNode).height);if(!this.getHighlightedOption()){this._highlightNextOption();}while(_51c<_51e){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _51f=this.domNode.scrollTop;_51c+=(_51f-_51d)*(up?-1:1);_51d=_51f;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){return this._highlighted_option&&this._highlighted_option.parentNode?this._highlighted_option:null;},handleKey:function(evt){switch(evt.keyCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments);dijit.form.ValidationTextBox.prototype.postMixInProperties.apply(this,arguments);}});}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{labelAttr:"",labelType:"text",_isvalid:true,isValid:function(){return this._isvalid;},_callbackSetLabel:function(_521,_522){if(_522&&_522.query[this.searchAttr]!=this._lastQuery){return;}if(!_521.length){this._isvalid=false;this.validate(this._hasFocus);}else{this._setValueFromItem(_521[0]);}},_openResultList:function(_523,_524){if(_524.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_523.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},getValue:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValue:function(_525,_526){this.valueNode.value=_525;dijit.form.FilteringSelect.superclass.setValue.call(this,_525,true,_526);},setValue:function(_527){var self=this;var _529=function(item){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item]);}else{self.store.loadItem({item:item,onItem:self._callbackSetLabel});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_527,onItem:_529});},_setValueFromItem:function(item){this._isvalid=true;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store));},labelFunc:function(item,_52d){return _52d.getValue(item,this.searchAttr);},onkeyup:function(evt){},_doSelect:function(tgt){this.item=tgt.item;this._setValueFromItem(tgt.item);},setDisplayedValue:function(_530){if(this.store){var _531={};this._lastQuery=_531[this.searchAttr]=_530;this.textbox.value=_530;this._lastDisplayedValue=_530;this.store.fetch({query:_531,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:dojo.hitch(this,this._callbackSetLabel)});}},_getMenuLabelFromItem:function(item){if(this.labelAttr){return {html:this.labelType=="html",label:this.store.getValue(item,this.labelAttr)};}else{return dijit.form.ComboBoxMixin.prototype._getMenuLabelFromItem.apply(this,arguments);}},postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments);dijit.form.MappedTextBox.prototype.postMixInProperties.apply(this,arguments);}});}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_533){var _534={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,gb:0,sy:4};var _535=dojo.cldr.supplemental._region(_533);var dow=_534[_535];return (typeof dow=="undefined")?1:dow;};dojo.cldr.supplemental._region=function(_537){_537=dojo.i18n.normalizeLocale(_537);var tags=_537.split("-");var _539=tags[1];if(!_539){_539={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_539.length==4){_539=tags[2];}}return _539;};dojo.cldr.supplemental.getWeekend=function(_53a){var _53b={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _53c={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _53d=dojo.cldr.supplemental._region(_53a);var _53e=_53b[_53d];var end=_53c[_53d];if(typeof _53e=="undefined"){_53e=6;}if(typeof end=="undefined"){end=0;}return {start:_53e,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_540){var _541=_540.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_541==1&&dojo.date.isLeapYear(_540)){return 29;}return days[_541];};dojo.date.isLeapYear=function(_543){var year=_543.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_545){var str=_545.toString();var tz="";var _548;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_548=str.match(pat))){tz=_548[1];}else{str=_545.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_548=str.match(pat))){tz=_548[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_54b,_54c,_54d){_54b=new Date(Number(_54b));_54c=new Date(Number(_54c||new Date()));if(typeof _54d!=="undefined"){if(_54d=="date"){_54b.setHours(0,0,0,0);_54c.setHours(0,0,0,0);}else{if(_54d=="time"){_54b.setFullYear(0,0,0);_54c.setFullYear(0,0,0);}}}if(_54b>_54c){return 1;}if(_54b<_54c){return -1;}return 0;};dojo.date.add=function(date,_54f,_550){var sum=new Date(Number(date));var _552=false;var _553="Date";switch(_54f){case "day":break;case "weekday":var _554=date.getDate();var days,_556;var adj=0;var mod=_550%5;if(!mod){days=(_550>0)?5:-5;_556=(_550>0)?((_550-5)/5):((_550+5)/5);}else{days=mod;_556=parseInt(_550/5);}var strt=date.getDay();if(strt==6&&_550>0){adj=1;}else{if(strt==0&&_550<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_550>0)?2:-2;}_550=_554+7*_556+days+adj;break;case "year":_553="FullYear";_552=true;break;case "week":_550*=7;break;case "quarter":_550*=3;case "month":_552=true;_553="Month";break;case "hour":case "minute":case "second":case "millisecond":_553=_54f.charAt(0).toUpperCase()+_54f.substring(1)+"s";}if(_553){sum["set"+_553](sum["get"+_553]()+_550);}if(_552&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_55b,_55c,_55d){_55c=_55c||new Date();_55d=_55d||"day";var _55e=_55c.getFullYear()-_55b.getFullYear();var _55f=1;switch(_55d){case "quarter":var m1=_55b.getMonth();var m2=_55c.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_55e*4);_55f=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_55b,_55c,"day"));var _565=parseInt(dojo.date.difference(_55b,_55c,"week"));var mod=days%7;if(mod==0){days=_565*5;}else{var adj=0;var aDay=_55b.getDay();var bDay=_55c.getDay();_565=parseInt(days/7);mod=days%7;var _56a=new Date(_55b);_56a.setDate(_56a.getDate()+(_565*7));var _56b=_56a.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_56b+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_56b+mod)<0:adj=2;}}}days+=adj;days-=(_565*2);}_55f=days;break;case "year":_55f=_55e;break;case "month":_55f=(_55c.getMonth()-_55b.getMonth())+(_55e*12);break;case "week":_55f=parseInt(dojo.date.difference(_55b,_55c,"day")/7);break;case "day":_55f/=24;case "hour":_55f/=60;case "minute":_55f/=60;case "second":_55f/=1000;case "millisecond":_55f*=_55c.getTime()-_55b.getTime();}return Math.round(_55f);};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function formatPattern(_56c,_56d,_56e){return _56e.replace(/([a-z])\1*/ig,function(_56f){var s;var c=_56f.charAt(0);var l=_56f.length;var pad;var _574=["abbr","wide","narrow"];switch(c){case "G":s=_56d[(l<4)?"eraAbbr":"eraNames"][_56c.getFullYear()<0?0:1];break;case "y":s=_56c.getFullYear();switch(l){case 1:break;case 2:s=String(s);s=s.substr(s.length-2);break;default:pad=true;}break;case "Q":case "q":s=Math.ceil((_56c.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_56c.getMonth();var _576;switch(l){case 1:case 2:s=m+1;pad=true;break;case 3:case 4:case 5:_576=_574[l-3];break;}if(_576){var type=(c=="L")?"standalone":"format";var prop=["months",type,_576].join("-");s=_56d[prop][m];}break;case "w":var _579=0;s=dojo.date.locale._getWeekOfYear(_56c,_579);pad=true;break;case "d":s=_56c.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_56c);pad=true;break;case "E":case "e":case "c":var d=_56c.getDay();var _576;switch(l){case 1:case 2:if(c=="e"){var _57b=dojo.cldr.supplemental.getFirstDayOfWeek(options.locale);d=(d-_57b+7)%7;}if(c!="c"){s=d+1;pad=true;break;}case 3:case 4:case 5:_576=_574[l-3];break;}if(_576){var type=(c=="c")?"standalone":"format";var prop=["days",type,_576].join("-");s=_56d[prop][d];}break;case "a":var _57c=(_56c.getHours()<12)?"am":"pm";s=_56d[_57c];break;case "h":case "H":case "K":case "k":var h=_56c.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_56c.getMinutes();pad=true;break;case "s":s=_56c.getSeconds();pad=true;break;case "S":s=Math.round(_56c.getMilliseconds()*Math.pow(10,l-3));break;case "v":case "z":s=dojo.date.getTimezoneName(_56c);if(s){break;}l=4;case "Z":var _57e=_56c.getTimezoneOffset();var tz=[(_57e<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_57e)/60),2),dojo.string.pad(Math.abs(_57e)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_56e);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function(_580,_581){_581=_581||{};var _582=dojo.i18n.normalizeLocale(_581.locale);var _583=_581.formatLength||"short";var _584=dojo.date.locale._getGregorianBundle(_582);var str=[];var _586=dojo.hitch(this,formatPattern,_580,_584);if(_581.selector=="year"){var year=_580.getFullYear();if(_582.match(/^zh|^ja/)){year+="年";}return year;}if(_581.selector!="time"){var _588=_581.datePattern||_584["dateFormat-"+_583];if(_588){str.push(_processPattern(_588,_586));}}if(_581.selector!="date"){var _589=_581.timePattern||_584["timeFormat-"+_583];if(_589){str.push(_processPattern(_589,_586));}}var _58a=str.join(" ");return _58a;};dojo.date.locale.regexp=function(_58b){return dojo.date.locale._parseInfo(_58b).regexp;};dojo.date.locale._parseInfo=function(_58c){_58c=_58c||{};var _58d=dojo.i18n.normalizeLocale(_58c.locale);var _58e=dojo.date.locale._getGregorianBundle(_58d);var _58f=_58c.formatLength||"short";var _590=_58c.datePattern||_58e["dateFormat-"+_58f];var _591=_58c.timePattern||_58e["timeFormat-"+_58f];var _592;if(_58c.selector=="date"){_592=_590;}else{if(_58c.selector=="time"){_592=_591;}else{_592=_590+" "+_591;}}var _593=[];var re=_processPattern(_592,dojo.hitch(this,_buildDateTimeRE,_593,_58e,_58c));return {regexp:re,tokens:_593,bundle:_58e};};dojo.date.locale.parse=function(_595,_596){var info=dojo.date.locale._parseInfo(_596);var _598=info.tokens,_599=info.bundle;var re=new RegExp("^"+info.regexp+"$");var _59b=re.exec(_595);if(!_59b){return null;}var _59c=["abbr","wide","narrow"];var _59d=new Date(1972,0);var _59e={};var amPm="";dojo.forEach(_59b,function(v,i){if(!i){return;}var _5a2=_598[i-1];var l=_5a2.length;switch(_5a2.charAt(0)){case "y":if(l!=2){_59d.setFullYear(v);_59e.year=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _5a5=year.substring(0,2)*100;var _5a6=Number(year.substring(2,4));var _5a7=Math.min(_5a6+20,99);var num=(v<_5a7)?_5a5+v:_5a5-100+v;_59d.setFullYear(num);_59e.year=num;}else{if(_596.strict){return null;}_59d.setFullYear(v);_59e.year=v;}}break;case "M":if(l>2){var _5a9=_599["months-format-"+_59c[l-3]].concat();if(!_596.strict){v=v.replace(".","").toLowerCase();_5a9=dojo.map(_5a9,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_5a9,v);if(v==-1){return null;}}else{v--;}_59d.setMonth(v);_59e.month=v;break;case "E":case "e":var days=_599["days-format-"+_59c[l-3]].concat();if(!_596.strict){v=v.toLowerCase();days=dojo.map(days,"".toLowerCase);}v=dojo.indexOf(days,v);if(v==-1){return null;}break;case "d":_59d.setDate(v);_59e.date=v;break;case "D":_59d.setMonth(0);_59d.setDate(v);break;case "a":var am=_596.am||_599.am;var pm=_596.pm||_599.pm;if(!_596.strict){var _5ae=/\./g;v=v.replace(_5ae,"").toLowerCase();am=am.replace(_5ae,"").toLowerCase();pm=pm.replace(_5ae,"").toLowerCase();}if(_596.strict&&v!=am&&v!=pm){return null;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return null;}_59d.setHours(v);break;case "m":_59d.setMinutes(v);break;case "s":_59d.setSeconds(v);break;case "S":_59d.setMilliseconds(v);}});var _5af=_59d.getHours();if(amPm==="p"&&_5af<12){_59d.setHours(_5af+12);}else{if(amPm==="a"&&_5af==12){_59d.setHours(0);}}if(_59e.year&&_59d.getFullYear()!=_59e.year){return null;}if(_59e.month&&_59d.getMonth()!=_59e.month){return null;}if(_59e.date&&_59d.getDate()!=_59e.date){return null;}return _59d;};function _processPattern(_5b0,_5b1,_5b2,_5b3){var _5b4=function(x){return x;};_5b1=_5b1||_5b4;_5b2=_5b2||_5b4;_5b3=_5b3||_5b4;var _5b6=_5b0.match(/(''|[^'])+/g);var _5b7=false;dojo.forEach(_5b6,function(_5b8,i){if(!_5b8){_5b6[i]="";}else{_5b6[i]=(_5b7?_5b2:_5b1)(_5b8);_5b7=!_5b7;}});return _5b3(_5b6.join(""));};function _buildDateTimeRE(_5ba,_5bb,_5bc,_5bd){return dojo.regexp.escapeString(_5bd).replace(/([a-z])\1*/ig,function(_5be){var s;var c=_5be.charAt(0);var l=_5be.length;var p2="",p3="";if(_5bc.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s=p2+"[1-9]|[12]\\d|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_5bc.am||_5bb.am||"AM";var pm=_5bc.pm||_5bb.pm||"PM";if(_5bc.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_5ba){_5ba.push(_5be);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _5c6=[];dojo.date.locale.addCustomFormats=function(_5c7,_5c8){_5c6.push({pkg:_5c7,name:_5c8});};dojo.date.locale._getGregorianBundle=function(_5c9){var _5ca={};dojo.forEach(_5c6,function(desc){var _5cc=dojo.i18n.getLocalization(desc.pkg,desc.name,_5c9);_5ca=dojo.mixin(_5ca,_5cc);},this);return _5ca;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,use,_5d0){var _5d1;var _5d2=dojo.date.locale._getGregorianBundle(_5d0);var _5d3=[item,use,type];if(use=="standAlone"){_5d1=_5d2[_5d3.join("-")];}_5d3[1]="format";return (_5d1||_5d2[_5d3.join("-")]).concat();};dojo.date.locale.isWeekend=function(_5d4,_5d5){var _5d6=dojo.cldr.supplemental.getWeekend(_5d5);var day=(_5d4||new Date()).getDay();if(_5d6.end<_5d6.start){_5d6.end+=7;if(day<_5d6.start){day+=7;}}return day>=_5d6.start&&day<=_5d6.end;};dojo.date.locale._getDayOfYear=function(_5d8){return dojo.date.difference(new Date(_5d8.getFullYear(),0,1),_5d8)+1;};dojo.date.locale._getWeekOfYear=function(_5d9,_5da){if(arguments.length==1){_5da=0;}var _5db=new Date(_5d9.getFullYear(),0,1).getDay();var adj=(_5db-_5da+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_5d9)+adj-1)/7);if(_5db==_5da){week++;}return week;};}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset' dojoAttachEvent=\"onclick: _onDecrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\"><span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarDecreaseInner\">-</span></span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonth\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' dojoAttachEvent=\"onclick: _onIncrementMonth\">\n\t\t\t\t<div class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\"><span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarIncreaseInner\">+</span></div>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\"\n\t\t\t\t\t\tdojoAttachEvent=\"onclick: _onDecrementYear\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\"\n\t\t\t\t\t\tdojoAttachEvent=\"onclick: _onIncrementYear\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\t\n",value:new Date(),dayWidth:"narrow",setValue:function(_5de){if(!this.value||dojo.date.compare(_5de,this.value)){_5de=new Date(_5de);this.displayMonth=new Date(_5de);if(!this.isDisabledDate(_5de,this.lang)){this.value=_5de;this.value.setHours(0,0,0,0);this.onChange(this.value);}this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(document.createTextNode(text));},_populateGrid:function(){var _5e1=this.displayMonth;_5e1.setDate(1);var _5e2=_5e1.getDay();var _5e3=dojo.date.getDaysInMonth(_5e1);var _5e4=dojo.date.getDaysInMonth(dojo.date.add(_5e1,"month",-1));var _5e5=new Date();var _5e6=this.value;var _5e7=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_5e7>_5e2){_5e7-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_5e8,i){i+=_5e7;var date=new Date(_5e1);var _5eb,_5ec="dijitCalendar",adj=0;if(i<_5e2){_5eb=_5e4-_5e2+i+1;adj=-1;_5ec+="Previous";}else{if(i>=(_5e2+_5e3)){_5eb=i-_5e2-_5e3+1;adj=1;_5ec+="Next";}else{_5eb=i-_5e2+1;_5ec+="Current";}}if(adj){date=dojo.date.add(date,"month",adj);}date.setDate(_5eb);if(!dojo.date.compare(date,_5e5,"date")){_5ec="dijitCalendarCurrentDate "+_5ec;}if(!dojo.date.compare(date,_5e6,"date")){_5ec="dijitCalendarSelectedDate "+_5ec;}if(this.isDisabledDate(date,this.lang)){_5ec="dijitCalendarDisabledDate "+_5ec;}_5e8.className=_5ec+"Month dijitCalendarDateTemplate";_5e8.dijitDateValue=date.valueOf();var _5ee=dojo.query(".dijitCalendarDateLabel",_5e8)[0];this._setText(_5ee,date.getDate());},this);var _5ef=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_5ef[_5e1.getMonth()]);var y=_5e1.getFullYear()-1;dojo.forEach(["previous","current","next"],function(name){this._setText(this[name+"YearLabelNode"],dojo.date.locale.format(new Date(y++,0),{selector:"year",locale:this.lang}));},this);},postCreate:function(){dijit._Calendar.superclass.postCreate.apply(this);var _5f2=dojo.hitch(this,function(_5f3,n){var _5f5=dojo.query(_5f3,this.domNode)[0];for(var i=0;i<n;i++){_5f5.parentNode.appendChild(_5f5.cloneNode(true));}});_5f2(".dijitCalendarDayLabelTemplate",6);_5f2(".dijitCalendarDateTemplate",6);_5f2(".dijitCalendarWeekTemplate",5);var _5f7=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _5f8=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_5f9,i){this._setText(_5f9,_5f7[(i+_5f8)%7]);},this);var _5fb=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(_5fb,function(name){var _5fd=dojo.doc.createElement("div");this._setText(_5fd,name);this.monthLabelSpacer.appendChild(_5fd);},this);this.value=null;this.setValue(new Date());},_adjustDate:function(part,_5ff){this.displayMonth=dojo.date.add(this.displayMonth,part,_5ff);this._populateGrid();},_onIncrementMonth:function(evt){evt.stopPropagation();this._adjustDate("month",1);},_onDecrementMonth:function(evt){evt.stopPropagation();this._adjustDate("month",-1);},_onIncrementYear:function(evt){evt.stopPropagation();this._adjustDate("year",1);},_onDecrementYear:function(evt){evt.stopPropagation();this._adjustDate("year",-1);},_onDayClick:function(evt){var node=evt.target;dojo.stopEvent(evt);while(!node.dijitDateValue){node=node.parentNode;}if(!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.setValue(node.dijitDateValue);this.onValueSelected(this.value);}},onValueSelected:function(date){},onChange:function(date){},isDisabledDate:function(_608,_609){return false;}});}if(!dojo._hasResource["dijit.form._TimePicker"]){dojo._hasResource["dijit.form._TimePicker"]=true;dojo.provide("dijit.form._TimePicker");dojo.declare("dijit.form._TimePicker",[dijit._Widget,dijit._Templated],{templateString:"<div id=\"widget_${id}\" class=\"dijitMenu\"\n><div dojoAttachPoint=\"upArrow\" class=\"dijitButtonNode\">&#9650;</div\n><div dojoAttachPoint=\"timeMenu\" dojoAttachEvent=\"onclick:_onOptionSelected,onmouseover,onmouseout\"\n></div\n><div dojoAttachPoint=\"downArrow\" class=\"dijitButtonNode\">&#9660;</div\n></div>\n",baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_refdate:null,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,setValue:function(date,_60b){this.value=date;this._showText();},isDisabledDate:function(_60c,_60d){return false;},_showText:function(){this.timeMenu.innerHTML="";var _60e=dojo.date.stamp.fromISOString;this._clickableIncrementDate=_60e(this.clickableIncrement);this._visibleIncrementDate=_60e(this.visibleIncrement);this._visibleRangeDate=_60e(this.visibleRange);var _60f=this._toSeconds(this._clickableIncrementDate);var _610=this._toSeconds(this._visibleIncrementDate);var _611=this._toSeconds(this._visibleRangeDate);this._refdate=this._roundTime(this.value,_610);this._clickableIncrement=1;this._totalIncrements=_611/_60f;this._visibleIncrement=_610/_60f;for(var i=-this._totalIncrements/2;i<=this._totalIncrements/2;i+=this._clickableIncrement){var div=this._createOption(i);this.timeMenu.appendChild(div);}},postCreate:function(){if(this.constraints===dijit.form._TimePicker.prototype.constraints){this.constraints={};}if(!this.constraints.locale){this.constraints.locale=this.lang;}dijit.typematic.addMouseListener(this.upArrow,this,this._onArrowUp,0.8,500);dijit.typematic.addMouseListener(this.downArrow,this,this._onArrowDown,0.8,500);dijit.form._TimePicker.superclass.postCreate.apply(this,arguments);this.setValue(this.value);},_roundTime:function(date,_615){var _616=this._toSeconds(date);var _617=_616-_616%_615;var _618=new Date();_618.setYear(date.getFullYear());_618.setMonth(date.getMonth());_618.setDate(date.getDate());_618.setHours(0);_618.setMinutes(0);_618.setSeconds(_617);console.debug("Time was: "+date+". Rounding UI to: "+_618);return _618;},_toSeconds:function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();},_createOption:function(_61a){var div=document.createElement("div");div.date=new Date(this._refdate);div.index=_61a;div.date.setSeconds(div.date.getSeconds()+this._clickableIncrementDate.getSeconds()*_61a);div.date.setMinutes(div.date.getMinutes()+this._clickableIncrementDate.getMinutes()*_61a);div.date.setHours(div.date.getHours()+this._clickableIncrementDate.getHours()*_61a);if(_61a%this._visibleIncrement<1&&_61a%this._visibleIncrement>-1){div.innerHTML=dojo.date.locale.format(div.date,this.constraints);dojo.addClass(div,"dijitTimePickerItem");}else{if(_61a%this._clickableIncrement==0){div.innerHTML="&nbsp;";dojo.addClass(div,"dijitTimePickerItemSmall");}}if(this.isDisabledDate(div.date)){dojo.addClass(div,"dijitTimePickerItemDisabled");}return div;},_onOptionSelected:function(tgt){if(!tgt.target.date||this.isDisabledDate(tgt.target.date)){return;}this.setValue(tgt.target.date);this.onValueSelected(tgt.target.date);},onValueSelected:function(_61d){},onmouseover:function(evt){if(evt.target===this.timeMenu){return;}this._highlighted_option=evt.target;dojo.addClass(evt.target,"dijitMenuItemHover");},onmouseout:function(evt){if(evt.target===this.timeMenu||this._highlighted_option==null){return;}dojo.removeClass(this._highlighted_option,"dijitMenuItemHover");},_onArrowUp:function(){var _620=this.timeMenu.childNodes[0].index-1;var div=this._createOption(_620);this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);this.timeMenu.insertBefore(div,this.timeMenu.childNodes[0]);},_onArrowDown:function(){var _622=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;var div=this._createOption(_622);this.timeMenu.removeChild(this.timeMenu.childNodes[0]);this.timeMenu.appendChild(div);}});}if(!dojo._hasResource["dijit.form.TimeTextBox"]){dojo._hasResource["dijit.form.TimeTextBox"]=true;dojo.provide("dijit.form.TimeTextBox");dojo.declare("dijit.form.TimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(_624,_625){if(!_624||_624.toString()==this._invalid){return null;}return dojo.date.locale.format(_624,_625);},parse:dojo.date.locale.parse,serialize:dojo.date.stamp.toISOString,value:new Date(""),_invalid:(new Date("")).toString(),_popupClass:"dijit.form._TimePicker",postMixInProperties:function(){dijit.form.RangeBoundTextBox.prototype.postMixInProperties.apply(this,arguments);var _626=this.constraints;_626.selector="time";if(typeof _626.min=="string"){_626.min=dojo.date.stamp.fromISOString(_626.min);}if(typeof _626.max=="string"){_626.max=dojo.date.stamp.fromISOString(_626.max);}},_onFocus:function(evt){this._open();},setValue:function(_628,_629){this.inherited("setValue",arguments);if(this._picker){if(!_628||_628.toString()==this._invalid){_628=new Date();}this._picker.setValue(_628);}},_open:function(){var self=this;if(!this._picker){var _62b=dojo.getObject(this._popupClass,false);this._picker=new _62b({onValueSelected:function(_62c){self.focus();setTimeout(dijit.popup.close,1);dijit.form.TimeTextBox.superclass.setValue.call(self,_62c,true);},lang:this.lang,constraints:this.constraints,isDisabledDate:function(date){return self.constraints&&(dojo.date.compare(self.constraints.min,date)>0||dojo.date.compare(self.constraints.max,date)<0);}});this._picker.setValue(this.getValue()||new Date());}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onClose:function(){self._opened=false;}});this._opened=true;}},_onBlur:function(){dijit.popup.closeAll();this.inherited("_onBlur",arguments);},getDisplayedValue:function(){return this.textbox.value;},setDisplayedValue:function(_62e){this.textbox.value=_62e;}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form.TimeTextBox,{_popupClass:"dijit._Calendar",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);this.constraints.selector="date";}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["dijit.Declaration"]){dojo._hasResource["dijit.Declaration"]=true;dojo.provide("dijit.Declaration");dojo.declare("dijit.Declaration",dijit._Widget,{_noScript:true,widgetClass:"",replaceVars:true,defaults:null,mixins:[],buildRendering:function(){var src=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef);var _630=dojo.query("> script[type='dojo/method'][event='preamble']",src).orphan();var _631=dojo.query("> script[type^='dojo/']",src).orphan();var _632=src.nodeName;var _633=this.defaults||{};this.mixins=this.mixins.length?dojo.map(this.mixins,function(name){return dojo.getObject(name);}):[dijit._Widget,dijit._Templated];if(_630.length){_633.preamble=dojo.parser._functionFromScript(_630[0]);}_633.widgetsInTemplate=true;_633.templateString="<"+_632+" class='"+src.className+"' dojoAttachPoint='"+(src.getAttribute("dojoAttachPoint")||"")+"' dojoAttachEvent='"+(src.getAttribute("dojoAttachEvent")||"")+"' >"+src.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+_632+">";dojo.query("[dojoType]",src).forEach(function(node){node.removeAttribute("dojoType");});dojo.declare(this.widgetClass,this.mixins,_633);var wcp=dojo.getObject(this.widgetClass).prototype;_631.forEach(function(s){var _638=s.getAttribute("event");dojo.connect(wcp,_638||"postscript",null,dojo.parser._functionFromScript(s));});}});}if(!dojo._hasResource["dojox.grid._grid.lib"]){dojo._hasResource["dojox.grid._grid.lib"]=true;dojo.provide("dojox.grid._grid.lib");dojo.isNumber=function(v){return (typeof v=="number")||(v instanceof Number);};dojo.mixin(dojox.grid,{nop:function(){},getTdIndex:function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);},getTrIndex:function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);},getTr:function(_63c,_63d){return _63c&&((_63c.rows||0)[_63d]||_63c.childNodes[_63d]);},getTd:function(_63e,_63f,_640){return (dojox.grid.getTr(inTable,_63f)||0)[_640];},findTable:function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;},ascendDom:function(_643,_644){for(var n=_643;n&&_644(n);n=n.parentNode){}return n;},makeNotTagName:function(_646){var name=_646.toUpperCase();return function(node){return node.tagName!=name;};},fire:function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());},setStyleText:function(_64d,_64e){if(_64d.style.cssText==undefined){_64d.setAttribute("style",_64e);}else{_64d.style.cssText=_64e;}},getStyleText:function(_64f,_650){return (_64f.style.cssText==undefined?_64f.getAttribute("style"):_64f.style.cssText);},setStyle:function(_651,_652,_653){if(_651&&_651.style[_652]!=_653){_651.style[_652]=_653;}},setStyleHeightPx:function(_654,_655){if(_655>=0){dojox.grid.setStyle(_654,"height",_655+"px");}},mouseEvents:["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"],keyEvents:["keyup","keydown","keypress"],funnelEvents:function(_656,_657,_658,_659){var evts=(_659?_659:dojox.grid.mouseEvents.concat(dojox.grid.keyEvents));for(var i=0,l=evts.length;i<l;i++){dojo.connect(_656,"on"+evts[i],_657,_658);}},removeNode:function(_65d){_65d=dojo.byId(_65d);_65d&&_65d.parentNode&&_65d.parentNode.removeChild(_65d);return _65d;},getScrollbarWidth:function(){if(this._scrollBarWidth){return this._scrollBarWidth;}this._scrollBarWidth=18;try{var e=document.createElement("div");e.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";document.body.appendChild(e);this._scrollBarWidth=e.offsetWidth-e.clientWidth;document.body.removeChild(e);delete e;}catch(ex){}return this._scrollBarWidth;},getRef:function(name,_660,_661){var obj=_661||dojo.global,_663=name.split("."),prop=_663.pop();for(var i=0,p;obj&&(p=_663[i]);i++){obj=(p in obj?obj[p]:(_660?obj[p]={}:undefined));}return {obj:obj,prop:prop};},getProp:function(name,_668,_669){with(dojox.grid.getRef(name,_668,_669)){return (obj)&&(prop)&&(prop in obj?obj[prop]:(_668?obj[prop]={}:undefined));}},indexInParent:function(_66a){var i=0,n,p=_66a.parentNode;while(n=p.childNodes[i++]){if(n==_66a){return i-1;}}return -1;},cleanNode:function(_66e){if(!_66e){return;}var _66f=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_66e,true);};var ws=dijit.registry.filter(_66f);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;},getTagName:function(_674){var node=dojo.byId(_674);return (node&&node.tagName?node.tagName.toLowerCase():"");},nodeKids:function(_676,_677){var _678=[];var i=0,n;while(n=_676.childNodes[i++]){if(dojox.grid.getTagName(n)==_677){_678.push(n);}}return _678;},divkids:function(_67b){return dojox.grid.nodeKids(_67b,"div");},focusSelectNode:function(_67c){try{dojox.grid.fire(_67c,"focus");dojox.grid.fire(_67c,"select");}catch(e){}},whenIdle:function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);},arrayCompare:function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);},arrayInsert:function(_681,_682,_683){if(_681.length<=_682){_681[_682]=_683;}else{_681.splice(_682,0,_683);}},arrayRemove:function(_684,_685){_684.splice(_685,1);},arraySwap:function(_686,inI,inJ){var _689=_686[inI];_686[inI]=_686[inJ];_686[inJ]=_689;}});dojox.grid.jobs={cancel:function(_68a){if(_68a){window.clearTimeout(_68a);}},jobs:[],job:function(_68b,_68c,_68d){dojox.grid.jobs.cancelJob(_68b);var job=function(){delete dojox.grid.jobs.jobs[_68b];_68d();};dojox.grid.jobs.jobs[_68b]=setTimeout(job,_68c);},cancelJob:function(_68f){dojox.grid.jobs.cancel(dojox.grid.jobs.jobs[_68f]);}};}if(!dojo._hasResource["dojox.grid._grid.scroller"]){dojo._hasResource["dojox.grid._grid.scroller"]=true;dojo.provide("dojox.grid._grid.scroller");dojo.declare("dojox.grid.scroller.base",null,{constructor:function(){this.pageHeights=[];this.stack=[];},rowCount:0,defaultRowHeight:10,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,page:0,pageTop:0,init:function(_690,_691,_692){switch(arguments.length){case 3:this.rowsPerPage=_692;case 2:this.keepRows=_691;case 1:this.rowCount=_690;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=Math.ceil(this.rowCount/this.rowsPerPage);this.keepPages=Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},invalidate:function(){this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();},updateRowCount:function(_693){this.invalidateNodes();this.rowCount=_693;oldPageCount=this.pageCount;this.pageCount=Math.ceil(this.rowCount/this.rowsPerPage);if(this.pageCount<oldPageCount){for(var i=oldPageCount-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>oldPageCount){this.height+=this.defaultPageHeight*(this.pageCount-oldPageCount-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_695){},measurePage:function(_696){},positionPage:function(_697,_698){},repositionPages:function(_699){},installPage:function(_69a){},preparePage:function(_69b,_69c,_69d){},renderPage:function(_69e){},removePage:function(_69f){},pacify:function(_6a0){},pacifying:false,pacifyTicks:200,setPacifying:function(_6a1){if(this.pacifying!=_6a1){this.pacifying=_6a1;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _6a2=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _6a2;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}dojox.grid.setStyleHeightPx(this.contentNode,this.height);},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _6a3=this.pageCount-1;var _6a4=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_6a3]=_6a4;return _6a4;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_6a6){if(this.pageExists(_6a6)){var oh=this.getPageHeight(_6a6);var h=(this.measurePage(_6a6))||(oh);this.pageHeights[_6a6]=h;if((h)&&(oh!=h)){this.updateContentHeight(h-oh);this.repositionPages(_6a6);}}},rowHeightChanged:function(_6a9){this.updatePageHeight(Math.floor(_6a9/this.rowsPerPage));},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");p.style.position="absolute";p.style.left="0";return p;},getPageHeight:function(_6ab){var ph=this.pageHeights[_6ab];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_6ad){return this.stack.push(_6ad);},popPage:function(){return this.stack.shift();},findPage:function(_6ae){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_6ae){break;}}this.page=i;this.pageTop=h;},buildPage:function(_6b2,_6b3,_6b4){this.preparePage(_6b2,_6b3);this.positionPage(_6b2,_6b4);this.installPage(_6b2);this.renderPage(_6b2);this.pushPage(_6b2);},needPage:function(_6b5,_6b6){var h=this.getPageHeight(_6b5),oh=h;if(!this.pageExists(_6b5)){this.buildPage(_6b5,(this.keepPages)&&(this.stack.length>=this.keepPages),_6b6);h=this.measurePage(_6b5)||h;this.pageHeights[_6b5]=h;if(h&&(oh!=h)){this.updateContentHeight(h-oh);}}else{this.positionPage(_6b5,_6b6);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_6b9){this.startPacify();this.findPage(_6b9);var h=this.height;var b=this.getScrollBottom(_6b9);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_6b9);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();},getScrollBottom:function(_6be){return (this.windowHeight>=0?_6be+this.windowHeight:-1);},processNodeEvent:function(e,_6c0){var t=e.target;while(t&&(t!=_6c0)&&t.parentNode&&(t.parentNode.parentNode!=_6c0)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_6c0)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+dojox.grid.indexInParent(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},dummy:0});dojo.declare("dojox.grid.scroller",dojox.grid.scroller.base,{constructor:function(){this.pageNodes=[];},renderRow:function(_6c4,_6c5){},removeRow:function(_6c6){},getDefaultNodes:function(){return this.pageNodes;},getDefaultPageNode:function(_6c7){return this.getDefaultNodes()[_6c7];},positionPageNode:function(_6c8,_6c9){_6c8.style.top=_6c9+"px";},getPageNodePosition:function(_6ca){return _6ca.offsetTop;},repositionPageNodes:function(_6cb,_6cc){var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_6cc[_6cb];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_6cb):0);for(var p=_6cb+1;p<=last;p++){n=_6cc[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},invalidatePageNode:function(_6d2,_6d3){var p=_6d3[_6d2];if(p){delete _6d3[_6d2];this.removePage(_6d2,p);dojox.grid.cleanNode(p);p.innerHTML="";}return p;},preparePageNode:function(_6d5,_6d6,_6d7){var p=(_6d6===null?this.createPageNode():this.invalidatePageNode(_6d6,_6d7));p.pageIndex=_6d5;p.id="page-"+_6d5;_6d7[_6d5]=p;},pageExists:function(_6d9){return Boolean(this.getDefaultPageNode(_6d9));},measurePage:function(_6da){return this.getDefaultPageNode(_6da).offsetHeight;},positionPage:function(_6db,_6dc){this.positionPageNode(this.getDefaultPageNode(_6db),_6dc);},repositionPages:function(_6dd){this.repositionPageNodes(_6dd,this.getDefaultNodes());},preparePage:function(_6de,_6df){this.preparePageNode(_6de,(_6df?this.popPage():null),this.getDefaultNodes());},installPage:function(_6e0){this.contentNode.appendChild(this.getDefaultPageNode(_6e0));},destroyPage:function(_6e1){var p=this.invalidatePageNode(_6e1,this.getDefaultNodes());dojox.grid.removeNode(p);},renderPage:function(_6e3){var node=this.pageNodes[_6e3];for(var i=0,j=_6e3*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,node);}},removePage:function(_6e7){for(var i=0,j=_6e7*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},getPageRow:function(_6ea){return _6ea*this.rowsPerPage;},getLastPageRow:function(_6eb){return Math.min(this.rowCount,this.getPageRow(_6eb+1))-1;},getFirstVisibleRowNodes:function(_6ec,_6ed,_6ee,_6ef){var row=this.getPageRow(_6ec);var rows=dojox.grid.divkids(_6ef[_6ec]);for(var i=0,l=rows.length;i<l&&_6ed<_6ee;i++,row++){_6ed+=rows[i].offsetHeight;}return (row?row-1:row);},getFirstVisibleRow:function(_6f4,_6f5,_6f6){if(!this.pageExists(_6f4)){return 0;}return this.getFirstVisibleRowNodes(_6f4,_6f5,_6f6,this.getDefaultNodes());},getLastVisibleRowNodes:function(_6f7,_6f8,_6f9,_6fa){var row=this.getLastPageRow(_6f7);var rows=dojox.grid.divkids(_6fa[_6f7]);for(var i=rows.length-1;i>=0&&_6f8>_6f9;i--,row--){_6f8-=rows[i].offsetHeight;}return row+1;},getLastVisibleRow:function(_6fe,_6ff,_700){if(!this.pageExists(_6fe)){return 0;}return this.getLastVisibleRowNodes(_6fe,_6ff,_700,this.getDefaultNodes());},findTopRowForNodes:function(_701,_702){var rows=dojox.grid.divkids(_702[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_701){this.offset=h-(t-_701);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTopForNodes:function(_708,_709){var _70a=Math.floor(_708/this.rowsPerPage);var t=0;for(var i=0;i<_70a;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.needPage(_70a,this.pageTop);var rows=dojox.grid.divkids(_709[_70a]);var r=_708-this.rowsPerPage*_70a;for(var i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},findTopRow:function(_710){return this.findTopRowForNodes(_710,this.getDefaultNodes());},findScrollTop:function(_711){return this.findScrollTopForNodes(_711,this.getDefaultNodes());},dummy:0});dojo.declare("dojox.grid.scroller.columns",dojox.grid.scroller,{constructor:function(_712){this.setContentNodes(_712);},setContentNodes:function(_713){this.contentNodes=_713;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},scroll:function(_715){if(this.colCount){dojox.grid.scroller.prototype.scroll.call(this,_715);}},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.setStyleHeightPx(this.contentNodes[i],this.height);}},positionPage:function(_717,_718){for(var i=0;i<this.colCount;i++){this.positionPageNode(this.pageNodes[i][_717],_718);}},preparePage:function(_71a,_71b){var p=(_71b?this.popPage():null);for(var i=0;i<this.colCount;i++){this.preparePageNode(_71a,p,this.pageNodes[i]);}},installPage:function(_71e){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_71e]);}},destroyPage:function(_720){for(var i=0;i<this.colCount;i++){dojox.grid.removeNode(this.invalidatePageNode(_720,this.pageNodes[i]));}},renderPage:function(_722){var _723=[];for(var i=0;i<this.colCount;i++){_723[i]=this.pageNodes[i][_722];}for(var i=0,j=_722*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_723);}}});}if(!dojo._hasResource["dojox.grid._grid.drag"]){dojo._hasResource["dojox.grid._grid.drag"]=true;dojo.provide("dojox.grid._grid.drag");(function(){var _726=dojox.grid.drag={};_726.dragging=false;_726.hysteresis=2;_726.capture=function(_727){if(_727.setCapture){_727.setCapture();}else{document.addEventListener("mousemove",_727.onmousemove,true);document.addEventListener("mouseup",_727.onmouseup,true);document.addEventListener("click",_727.onclick,true);}};_726.release=function(_728){if(_728.releaseCapture){_728.releaseCapture();}else{document.removeEventListener("click",_728.onclick,true);document.removeEventListener("mouseup",_728.onmouseup,true);document.removeEventListener("mousemove",_728.onmousemove,true);}};_726.start=function(_729,_72a,_72b,_72c,_72d){if(!_729||_726.dragging){console.debug("failed to start drag: bad input node or already dragging");return;}_726.dragging=true;_726.elt=_729;_726.events={drag:_72a||dojox.grid.nop,end:_72b||dojox.grid.nop,start:_72d||dojox.grid.nop,oldmove:_729.onmousemove,oldup:_729.onmouseup,oldclick:_729.onclick};_726.positionX=(_72c&&("screenX" in _72c)?_72c.screenX:false);_726.positionY=(_72c&&("screenY" in _72c)?_72c.screenY:false);_726.started=(_726.position===false);_729.onmousemove=_726.mousemove;_729.onmouseup=_726.mouseup;_729.onclick=_726.click;_726.capture(_726.elt);};_726.end=function(){_726.release(_726.elt);_726.elt.onmousemove=_726.events.oldmove;_726.elt.onmouseup=_726.events.oldup;_726.elt.onclick=_726.events.oldclick;_726.elt=null;try{if(_726.started){_726.events.end();}}finally{_726.dragging=false;}};_726.calcDelta=function(_72e){_72e.deltaX=_72e.screenX-_726.positionX;_72e.deltaY=_72e.screenY-_726.positionY;};_726.hasMoved=function(_72f){return Math.abs(_72f.deltaX)+Math.abs(_72f.deltaY)>_726.hysteresis;};_726.mousemove=function(_730){_730=dojo.fixEvent(_730);dojo.stopEvent(_730);_726.calcDelta(_730);if((!_726.started)&&(_726.hasMoved(_730))){_726.events.start(_730);_726.started=true;}if(_726.started){_726.events.drag(_730);}};_726.mouseup=function(_731){dojo.stopEvent(dojo.fixEvent(_731));_726.end();};_726.click=function(_732){dojo.stopEvent(dojo.fixEvent(_732));};})();}if(!dojo._hasResource["dojox.grid._grid.builder"]){dojo._hasResource["dojox.grid._grid.builder"]=true;dojo.provide("dojox.grid._grid.builder");dojo.declare("dojox.grid.builder",null,{constructor:function(_733){this.view=_733;this.grid=_733.grid;},view:null,_table:"<table class=\"dojoxGrid-row-table\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\">",generateCellMarkup:function(_734,_735,_736){var _737=[],html=["<td"];_734.colSpan&&html.push(" colspan=\"",_734.colSpan,"\"");_734.rowSpan&&html.push(" rowspan=\"",_734.rowSpan,"\"");html.push(" class=\"dojoxGrid-cell ");_734.classes&&html.push(_734.classes," ");_736&&html.push(_736," ");_737.push(html.join(""));_737.push("");html=["\" idx=\"",_734.index,"\" style=\""];html.push(_734.styles,_735||"");_734.unitWidth&&html.push("width:",_734.unitWidth,";");_737.push(html.join(""));_737.push("");html=["\""];_734.attrs&&html.push(" ",_734.attrs);html.push(">");_737.push(html.join(""));_737.push("");_737.push("</td>");return _737;},isCellNode:function(_739){return Boolean(_739&&_739.getAttribute&&_739.getAttribute("idx"));},getCellNodeIndex:function(_73a){return _73a?Number(_73a.getAttribute("idx")):-1;},getCellNode:function(_73b,_73c){for(var i=0,row;row=dojox.grid.getTr(_73b.firstChild,i);i++){for(var j=0,cell;cell=row.cells[j];j++){if(this.getCellNodeIndex(cell)==_73c){return cell;}}}},findCellTarget:function(_741,_742){var n=_741;while(n&&!this.isCellNode(n)&&(n!=_742)){n=n.parentNode;}return n!=_742?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_745,_746){var n=_745;while(n&&!(_746 in n)&&(n!=this.domNode)){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_748){return this.findTarget(_748,dojox.grid.rowIndexTag);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}}});dojo.declare("dojox.grid.contentBuilder",dojox.grid.builder,{update:function(){this.prepareHtml();},prepareHtml:function(){var _74f=this.grid.get,rows=this.view.structure.rows;for(var j=0,row;(row=rows[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_74f;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses);}}},generateHtml:function(_755,_756){var html=[this._table],v=this.view,obr=v.onBeforeRow,rows=v.structure.rows;obr&&obr(_756,rows);for(var j=0,row;(row=rows[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGrid-invisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup,cc=cell.customClasses=[],cs=cell.customStyles=[];m[5]=cell.format(_755);m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[dojox.grid.rowIndexTag];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});dojo.declare("dojox.grid.headerBuilder",dojox.grid.builder,{bogusClickTime:0,overResizeWidth:4,minColWidth:1,_table:"<table class=\"dojoxGrid-row-table\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"",update:function(){this.tableMap=new dojox.grid.tableMap(this.view.structure.rows);},generateHtml:function(_763,_764){var html=[this._table],rows=this.view.structure.rows;if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");dojox.grid.fire(this.view,"onBeforeRow",[-1,rows]);for(var j=0,row;(row=rows[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGrid-invisible\">");for(var i=0,cell,_76b;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];_76b=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses);_76b[5]=(_764!=undefined?_764:_763(cell));_76b[3]=cell.customStyles.join(";");_76b[1]=cell.customClasses.join(" ");html.push(_76b.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var x=e.layerX;if(dojo.isMoz){var n=dojox.grid.ascendDom(e.target,dojox.grid.makeNotTagName("td"));x-=(n&&n.offsetLeft)||0;}var n=dojox.grid.ascendDom(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareLeftResize:function(e){var i=dojox.grid.getTdIndex(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i-1]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&!cell.isFlex();},overLeftResizeArea:function(e){return (e.cellIndex>0)&&(e.cellX<this.overResizeWidth)&&this.prepareLeftResize(e);},overRightResizeArea:function(e){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);},domousemove:function(e){var c=(this.overRightResizeArea(e)?"e-resize":(this.overLeftResizeArea(e)?"w-resize":""));if(c&&!this.canResize(e)){c="not-allowed";}e.sourceView.headerNode.style.cursor=c||"";},domousedown:function(e){if(!dojox.grid.drag.dragging){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}}},beginColumnResize:function(e){dojo.stopEvent(e);var _77a=[],_77b=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;cell=_77b[i];i++){_77a.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var drag={view:e.sourceView,node:e.cellNode,index:e.cellIndex,w:e.cellNode.clientWidth,spanners:_77a};dojox.grid.drag.start(e.cellNode,dojo.hitch(this,"doResizeColumn",drag),dojo.hitch(this,"endResizeColumn",drag),e);},doResizeColumn:function(_77f,_780){var w=_77f.w+_780.deltaX;if(w>=this.minColWidth){for(var i=0,s,sw;(s=_77f.spanners[i]);i++){sw=s.width+_780.deltaX;s.node.style.width=sw+"px";_77f.view.setColWidth(s.index,sw);}_77f.node.style.width=w+"px";_77f.view.setColWidth(_77f.index,w);}if(_77f.view.flexCells&&!_77f.view.testFlexCells()){var t=dojox.grid.findTable(_77f.node);t&&(t.style.width="");}},endResizeColumn:function(_786){this.bogusClickTime=new Date().getTime()+30;setTimeout(dojo.hitch(_786.view,"update"),50);}});dojo.declare("dojox.grid.tableMap",null,{constructor:function(_787){this.mapRows(_787);},map:null,mapRows:function(_788){var _789=_788.length;if(!_789){return;}this.map=[];for(var j=0,row;(row=_788[j]);j++){this.map[j]=[];}for(var j=0,row;(row=_788[j]);j++){for(var i=0,x=0,cell,_78f,_790;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_790=cell.rowSpan||1;_78f=cell.colSpan||1;for(var y=0;y<_790;y++){for(var s=0;s<_78f;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_78f;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}console.log(h);}},getMapCoords:function(_798,_799){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_799&&cell.r==_798){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_79e,_79f,_7a0){var row=_79e&&_79e.rows[_79f];return row&&row.cells[_7a0];},_findOverlappingNodes:function(_7a2,_7a3,_7a4){var _7a5=[];var m=this.getMapCoords(_7a3,_7a4);var row=this.map[m.j];for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}with(row[m.i]){var n=this.getNode(_7a2,r,c);if(n){_7a5.push(n);}}}return _7a5;},findOverlappingNodes:function(_7aa){return this._findOverlappingNodes(dojox.grid.findTable(_7aa),dojox.grid.getTrIndex(_7aa.parentNode),dojox.grid.getTdIndex(_7aa));}});dojox.grid.rowIndexTag="gridRowIndex";}if(!dojo._hasResource["dojox.grid._grid.view"]){dojo._hasResource["dojox.grid._grid.view"]=true;dojo.provide("dojox.grid._grid.view");dojo.declare("dojox.GridView",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGrid-view\"><div class=\"dojoxGrid-header\" dojoAttachPoint=\"headerNode\"><div style=\"width: 9000em\"><div dojoAttachPoint=\"headerContentNode\"></div></div></div><input type=\"checkbox\" class=\"dojoxGrid-hidden-focus\" dojoAttachPoint=\"hiddenFocusNode\" /><input type=\"checkbox\" class=\"dojoxGrid-hidden-focus\" /><div class=\"dojoxGrid-scrollbox\" dojoAttachPoint=\"scrollboxNode\"><div class=\"dojoxGrid-content\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\"></div></div></div>",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,postMixInProperties:function(){this.rowNodes=[];},postCreate:function(){dojo.connect(this.scrollboxNode,"onscroll",dojo.hitch(this,"doscroll"));dojox.grid.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu"]);dojox.grid.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new dojox.grid.contentBuilder(this);this.header=new dojox.grid.headerBuilder(this);},destroy:function(){dojox.grid.removeNode(this.headerNode);this.inherited("destroy",arguments);},focus:function(){if(dojo.isSafari||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_7ab){var vs=this.structure=_7ab;if(vs.width&&dojo.isNumber(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||this.viewWidth;}this.onBeforeRow=vs.onBeforeRow;this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.testFlexCells();this.updateStructure();},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.rows[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){return (this.noscroll?0:dojox.grid.getScrollbarWidth());},getColumnsWidth:function(){return this.headerContentNode.firstChild.offsetWidth;},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);},_getHeaderContent:function(_7b1){if(_7b1.index!=_7b1.grid.getSortIndex()){return _7b1.name;}return ["<div class=\"",_7b1.grid.sortInfo>0?"dojoxGrid-sort-down":"dojoxGrid-sort-up","\">",_7b1.name,"</div>"].join("");},resize:function(){this.resizeHeight();this.resizeWidth();},hasScrollbar:function(){return (this.scrollboxNode.clientHeight!=this.scrollboxNode.offsetHeight);},resizeHeight:function(){if(!this.grid.autoHeight){var h=this.domNode.clientHeight;if(!this.hasScrollbar()){h-=dojox.grid.getScrollbarWidth();}dojox.grid.setStyleHeightPx(this.scrollboxNode,h);}},resizeWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();w=Math.max(w,this.getColumnsWidth())+"px";with(this.contentNode){style.width="";offsetWidth;style.width=w;}},setSize:function(w,h){with(this.domNode.style){if(w){width=w;}height=(h>=0?h+"px":"");}with(this.headerNode.style){if(w){width=w;}}},renderRow:function(_7b6,_7b7){var _7b8=this.createRowNode(_7b6);this.buildRow(_7b6,_7b8,_7b7);this.grid.edit.restore(this,_7b6);return _7b8;},createRowNode:function(_7b9){var node=document.createElement("div");node.className=this.classTag+"-row";node[dojox.grid.rowIndexTag]=_7b9;this.rowNodes[_7b9]=node;return node;},buildRow:function(_7bb,_7bc){this.buildRowContent(_7bb,_7bc);this.styleRow(_7bb,_7bc);},buildRowContent:function(_7bd,_7be){_7be.innerHTML=this.content.generateHtml(_7bd,_7bd);if(this.flexCells){_7be.firstChild.style.width=this.contentWidth;}},rowRemoved:function(_7bf){this.grid.edit.save(this,_7bf);delete this.rowNodes[_7bf];},getRowNode:function(_7c0){return this.rowNodes[_7c0];},getCellNode:function(_7c1,_7c2){var row=this.getRowNode(_7c1);if(row){return this.content.getCellNode(row,_7c2);}},styleRow:function(_7c4,_7c5){_7c5._style=dojox.grid.getStyleText(_7c5);this.styleRowNode(_7c4,_7c5);},styleRowNode:function(_7c6,_7c7){if(_7c7){this.doStyleRowNode(_7c6,_7c7);}},doStyleRowNode:function(_7c8,_7c9){this.grid.styleRowNode(_7c8,_7c9);},updateRow:function(_7ca,_7cb,_7cc){var _7cd=this.getRowNode(_7ca);if(_7cd){_7cd.style.height="";this.buildRow(_7ca,_7cd);}return _7cd;},updateRowStyles:function(_7ce){this.styleRowNode(_7ce,this.getRowNode(_7ce));},lastTop:0,doscroll:function(_7cf){this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!=this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_7d1){this.lastTop=_7d1;this.scrollboxNode.scrollTop=_7d1;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_7d6,_7d7){this.grid.getCell(_7d6).unitWidth=_7d7+"px";},update:function(){var left=this.scrollboxNode.scrollLeft;this.content.update();this.grid.update();this.scrollboxNode.scrollLeft=left;}});}if(!dojo._hasResource["dojox.grid._grid.views"]){dojo._hasResource["dojox.grid._grid.views"]=true;dojo.provide("dojox.grid._grid.views");dojo.declare("dojox.grid.views",null,{constructor:function(_7d9){this.grid=_7d9;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");this.normalizeHeaderNodeHeight();},addView:function(_7da){_7da.idx=this.views.length;this.views.push(_7da);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _7dd=[];for(var i=0,v;v=this.views[i];i++){_7dd.push(v.contentNode);}return _7dd;},forEach:function(_7e0){for(var i=0,v;v=this.views[i];i++){_7e0(v,i);}},onEach:function(_7e3,_7e4){_7e4=_7e4||[];for(var i=0,v;v=this.views[i];i++){if(_7e3 in v){v[_7e3].apply(v,_7e4);}}},normalizeHeaderNodeHeight:function(){var _7e7=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_7e7.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_7e7);},normalizeRowNodeHeights:function(_7ea){var h=0;for(var i=0,n,o;(n=_7ea[i]);i++){h=Math.max(h,(n.firstChild.clientHeight)||(n.firstChild.offsetHeight));}h=(h>=0?h:0);var hpx=h+"px";for(var i=0,n;(n=_7ea[i]);i++){if(n.firstChild.clientHeight!=h){n.firstChild.style.height=hpx;}}if(_7ea&&_7ea[0]){_7ea[0].parentNode.offsetHeight;}},renormalizeRow:function(_7f0){var _7f1=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_7f0));i++){n.firstChild.style.height="";_7f1.push(n);}this.normalizeRowNodeHeights(_7f1);},getViewWidth:function(_7f5){return this.views[_7f5].getWidth()||this.defaultWidth;},measureHeader:function(){this.forEach(function(_7f6){_7f6.headerContentNode.style.height="";});var h=0;this.forEach(function(_7f8){h=Math.max(_7f8.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_7fa){h=Math.max(_7fa.domNode.offsetHeight,h);});return h;},findClient:function(_7fb){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},_arrange:function(l,t,w,h){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _808=function(v,l,t){with(v.domNode.style){left=l+"px";top=t+"px";}with(v.headerNode.style){left=l+"px";top=0;}};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,h);_808(v,l,t);vw=v.domNode.offsetWidth;l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,h);vw=v.domNode.offsetWidth;r-=vw;_808(v,r,t);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",h);_808(v,l,t);}return l;},arrange:function(l,t,w,h){var w=this._arrange(l,t,w,h);this.resize();return w;},renderRow:function(_812,_813){var _814=[];for(var i=0,v,n,_818;(v=this.views[i])&&(n=_813[i]);i++){_818=v.renderRow(_812);n.appendChild(_818);_814.push(_818);}this.normalizeRowNodeHeights(_814);},rowRemoved:function(_819){this.onEach("rowRemoved",[_819]);},updateRow:function(_81a,_81b){for(var i=0,v;v=this.views[i];i++){v.updateRow(_81a,_81b);}this.renormalizeRow(_81a);},updateRowStyles:function(_81e){this.onEach("updateRowStyles",[_81e]);},setScrollTop:function(_81f){var top=_81f;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_81f);}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasScrollbar()){return v;}}}});}if(!dojo._hasResource["dojox.grid._grid.cell"]){dojo._hasResource["dojox.grid._grid.cell"]=true;dojo.provide("dojox.grid._grid.cell");dojo.declare("dojox.grid.cell",null,{styles:"",constructor:function(_825){dojo.mixin(this,_825);if(this.editor){this.editor=new this.editor(this);}},format:function(_826){var f,i=this.grid.edit.info,d=this.get?this.get(_826):this.value;if(this.editor&&(this.editor["static"]||(i.rowIndex==_826&&i.cell==this))){return this.editor.format(d,_826);}else{return (f=this.formatter)?f.call(this,d,_826):d;}},getNode:function(_82a){return this.view.getCellNode(_82a,this.index);},isFlex:function(){var uw=this.unitWidth;return uw&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_82c,_82d){this.grid.edit.applyCellEdit(_82c,this,_82d);},cancelEdit:function(_82e){this.grid.doCancelEdit(_82e);},_onEditBlur:function(_82f){if(this.grid.edit.isEditCell(_82f,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_830,_831){if(this.commitOnBlur){dojo.connect(_830,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_831),250);});}}});}if(!dojo._hasResource["dojox.grid._grid.layout"]){dojo._hasResource["dojox.grid._grid.layout"]=true;dojo.provide("dojox.grid._grid.layout");dojo.declare("dojox.grid.layout",null,{constructor:function(_833){this.grid=_833;},cells:null,structure:null,defaultWidth:"6em",setStructure:function(_834){this.fieldIndex=0;this.cells=[];var s=this.structure=[];for(var i=0,_837,rows;(_837=_834[i]);i++){s.push(this.addViewDef(_837));}this.cellCount=this.cells.length;},addViewDef:function(_839){this._defaultCellProps=_839.defaultCell||{};return dojo.mixin({},_839,{rows:this.addRowsDef(_839.rows||_839.cells)});},addRowsDef:function(_83a){var _83b=[];for(var i=0,row;_83a&&(row=_83a[i]);i++){_83b.push(this.addRowDef(i,row));}return _83b;},addRowDef:function(_83e,_83f){var _840=[];for(var i=0,def,cell;(def=_83f[i]);i++){cell=this.addCellDef(_83e,i,def);_840.push(cell);this.cells.push(cell);}return _840;},addCellDef:function(_844,_845,_846){var w=0;if(_846.colSpan>1){w=0;}else{if(!isNaN(_846.width)){w=_846.width+"em";}else{w=_846.width||this.defaultWidth;}}var _848=(_846.field!=undefined?_846.field:(_846.get?-1:this.fieldIndex));if((_846.field!=undefined)||!_846.get){this.fieldIndex=(_846.field>-1?_846.field:this.fieldIndex)+1;}return new dojox.grid.cell(dojo.mixin({},this._defaultCellProps,_846,{grid:this.grid,subrow:_844,layoutIndex:_845,index:this.cells.length,fieldIndex:_848,unitWidth:w}));}});}if(!dojo._hasResource["dojox.grid._grid.rows"]){dojo._hasResource["dojox.grid._grid.rows"]=true;dojo.provide("dojox.grid._grid.rows");dojo.declare("dojox.grid.rows",null,{constructor:function(_849){this.grid=_849;},linesToEms:2,defaultRowHeight:1,overRow:-2,getHeight:function(_84a){return "";},getDefaultHeightPx:function(){return 32;},prepareStylingRow:function(_84b,_84c){return {index:_84b,node:_84c,odd:Boolean(_84b&1),selected:this.grid.selection.isSelected(_84b),over:this.isOver(_84b),customStyles:"",customClasses:"dojoxGrid-row"};},styleRowNode:function(_84d,_84e){var row=this.prepareStylingRow(_84d,_84e);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_850){with(_850){node.className=customClasses;var h=node.style.height;dojox.grid.setStyleText(node,customStyles+";"+(node._style||""));node.style.height=h;}},updateStyles:function(_852){this.grid.updateRowStyles(_852);},setOverRow:function(_853){var last=this.overRow;this.overRow=_853;if((last!=this.overRow)&&(last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_855){return (this.overRow==_855);}});}if(!dojo._hasResource["dojox.grid._grid.focus"]){dojo._hasResource["dojox.grid._grid.focus"]=true;dojo.provide("dojox.grid._grid.focus");dojo.declare("dojox.grid.focus",null,{constructor:function(_856){this.grid=_856;this.cell=null;this.rowIndex=-1;dojo.connect(this.grid.domNode,"onfocus",this,"doFocus");},tabbingOut:false,focusClass:"dojoxGrid-cell-focus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView();},isFocusCell:function(_857,_858){return (this.cell==_857)&&(this.rowIndex==_858);},isLastFocusCell:function(){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);},isFirstFocusCell:function(){return (this.rowIndex==0)&&(this.cell.index==0);},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},_focusifyCellNode:function(_859){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_859);}},styleRow:function(_85b){if(_85b.index==this.rowIndex){this._focusifyCellNode(true);}},setFocusIndex:function(_85c,_85d){this.setFocusCell(this.grid.getCell(_85d),_85c);},setFocusCell:function(_85e,_85f){if(!this.isFocusCell(_85e,_85f)){this.tabbingOut=false;this.focusGrid();this._focusifyCellNode(false);this.cell=_85e;this.rowIndex=_85f;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}this.setFocusIndex(row,col);},previous:function(){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}this.setFocusIndex(row,col);},previousKey:function(e){if(this.isFirstFocusCell()){this.tabOut(this.grid.domNode);}else{dojo.stopEvent(e);this.previous();}},nextKey:function(e){if(this.isLastFocusCell()){this.tabOut(this.grid.lastFocusNode);}else{dojo.stopEvent(e);this.next();}},tabOut:function(_868){this.tabbingOut=true;_868.focus();},focusGrid:function(){dojox.grid.fire(this.focusView,"focus");},doFocus:function(e){if(e&&e.target!=e.currentTarget){return;}if(!this.tabbingOut&&this.isNoFocusCell()){this.setFocusIndex(0,0);}this.tabbingOut=false;}});}if(!dojo._hasResource["dojox.grid._grid.selection"]){dojo._hasResource["dojox.grid._grid.selection"]=true;dojo.provide("dojox.grid._grid.selection");dojo.declare("dojox.grid.selection",null,{constructor:function(_86a){this.grid=_86a;this.selected=[];},multiSelect:true,selected:null,updating:0,selectedIndex:-1,onCanSelect:function(_86b){return this.grid.canSelect(_86b);},onCanDeselect:function(_86c){return this.grid.canDeselect(_86c);},onSelected:function(_86d){return this.grid.selected(_86d);},onDeselected:function(_86e){return this.grid.deselected(_86e);},onChanging:function(){},onChanged:function(){},isSelected:function(_86f){return this.selected[_86f];},getFirstSelected:function(){for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_872){for(var i=_872+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _875=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_875.push(i);}}return _875;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},beginUpdate:function(){if(this.updating==0){this.onChanging();}this.updating++;},endUpdate:function(){this.updating--;if(this.updating==0){this.onChanged();}},select:function(_87a){this.unselectAll(_87a);this.addToSelection(_87a);},addToSelection:function(_87b){_87b=Number(_87b);if(this.selected[_87b]){this.selectedIndex=_87b;}else{if(this.onCanSelect(_87b)!==false){this.selectedIndex=_87b;this.beginUpdate();this.selected[_87b]=true;this.grid.selected(_87b);this.endUpdate();}}},deselect:function(_87c){_87c=Number(_87c);if(this.selectedIndex==_87c){this.selectedIndex=-1;}if(this.selected[_87c]){if(this.onCanDeselect(_87c)===false){return;}this.beginUpdate();delete this.selected[_87c];this.grid.deselected(_87c);this.endUpdate();}},setSelected:function(_87d,_87e){this[(_87e?"addToSelection":"deselect")](_87d);},toggleSelect:function(_87f){this.setSelected(_87f,!this.selected[_87f]);},insert:function(_880){this.selected.splice(_880,0,false);if(this.selectedIndex>=_880){this.selectedIndex++;}},remove:function(_881){this.selected.splice(_881,1);if(this.selectedIndex>=_881){this.selectedIndex--;}},unselectAll:function(_882){for(var i in this.selected){if((i!=_882)&&(this.selected[i]===true)){this.deselect(i);}}},shiftSelect:function(_884,inTo){var s=(_884>=0?_884:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){this.addToSelection(i);}},clickSelect:function(_889,_88a,_88b){this.beginUpdate();if(!this.multiSelect){this.select(_889);}else{var _88c=this.selectedIndex;if(!_88a){this.unselectAll(_889);}if(_88b){this.shiftSelect(_88c,_889);}else{if(_88a){this.toggleSelect(_889);}else{this.addToSelection(_889);}}}this.endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,e.ctrlKey,e.shiftKey);},clear:function(){this.beginUpdate();this.unselectAll();this.endUpdate();}});}if(!dojo._hasResource["dojox.grid._grid.edit"]){dojo._hasResource["dojox.grid._grid.edit"]=true;dojo.provide("dojox.grid._grid.edit");dojo.declare("dojox.grid.edit",null,{constructor:function(_88e){this.grid=_88e;this.connections=[];if(dojo.isIE){this.connections.push(dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus")));}},info:{},destroy:function(){dojo.forEach(this.connections,function(c){dojo.disconnect(c);});},cellFocus:function(_890,_891){if(this.grid.singleClickEdit||this.isEditRow(_891)){this.setEditCell(_890,_891);}else{this.apply();}if(this.isEditing()||(_890.editor||0)["static"]){this._focusEditor(_890,_891);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_893){if(_893.index==this.info.rowIndex){_893.customClasses+=" dojoxGrid-row-editing";}},dispatchEvent:function(e){var c=e.cell,ed=c&&c.editor;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_897,_898){return (this.info.rowIndex===_897)&&(this.info.cell.index==_898);},isEditRow:function(_899){return this.info.rowIndex===_899;},setEditCell:function(_89a,_89b){if(!this.isEditCell(_89b,_89a.index)){var _89c=!(_89a.editor||0)["static"]||(_89b==this.info.rowIndex);this.start(_89a,_89b,_89c);}},_focusEditor:function(_89d,_89e){dojox.grid.fire(_89d.editor,"focus",[_89e]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_89f,_8a0,_8a1){this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_8a0)){this.applyRowEdit();this.grid.updateRow(_8a0);}if(_8a1){this.info={cell:_89f,rowIndex:_8a0};this.grid.doStartEdit(_89f,_8a0);this.grid.updateRow(_8a0);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_89f,_8a0);this._doCatchBoomerang();},_editorDo:function(_8a2){var c=this.info.cell;c&&c.editor&&c.editor[_8a2](this.info.rowIndex);},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_8a4,_8a5,_8a6){this.grid.doApplyCellEdit(_8a4,_8a6,_8a5.fieldIndex);},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex);},apply:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_8a7,_8a8){var c=this.info.cell;if(this.isEditRow(_8a7)&&(!_8a8||c.view==_8a8)){c.editor.save(c,this.info.rowIndex);}},restore:function(_8aa,_8ab){var c=this.info.cell;if(this.isEditRow(_8ab)&&c.view==_8aa){c.editor.restore(c,this.info.rowIndex);}}});}if(!dojo._hasResource["dojox.grid._grid.rowbar"]){dojo._hasResource["dojox.grid._grid.rowbar"]=true;dojo.provide("dojox.grid._grid.rowbar");dojo.declare("dojox.GridRowView",dojox.GridView,{defaultWidth:"3em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_8ad,_8ae){var w=this.contentNode.offsetWidth-this.padBorderWidth;_8ae.innerHTML="<table style=\"width:"+w+"px;\"><tr><td class=\"dojoxGrid-rowbar-inner\"></td></tr></table>";},renderHeader:function(){},resize:function(){this.resizeHeight();},doStyleRowNode:function(_8b0,_8b1){var n=["dojoxGrid-rowbar"];if(this.grid.rows.isOver(_8b0)){n.push("dojoxGrid-rowbar-over");}if(this.grid.selection.isSelected(_8b0)){n.push("dojoxGrid-rowbar-selected");}_8b1.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._grid.publicEvents"]){dojo._hasResource["dojox.grid._grid.publicEvents"]=true;dojo.provide("dojox.grid._grid.publicEvents");dojox.grid.publicEvents={cellOverClass:"dojoxGrid-cell-over",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_8b8){with(_8b8){customClasses+=(odd?" dojoxGrid-row-odd":"")+(selected?" dojoxGrid-row-selected":"")+(over?" dojoxGrid-row-over":"");}this.focus.styleRow(_8b8);this.edit.styleRow(_8b8);},onKeyDown:function(e){if(e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.keyCode){case dojo.keys.ESCAPE:this.edit.cancel();break;case dojo.keys.ENTER:if(!e.shiftKey){this.edit.apply();}break;case dojo.keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onCellMouseOver:function(e){dojo.addClass(e.cellNode,this.cellOverClass);},onCellMouseOut:function(e){dojo.removeClass(e.cellNode,this.cellOverClass);},onCellClick:function(e){this.focus.setFocusCell(e.cell,e.rowIndex);this.onRowClick(e);},onCellDblClick:function(e){this.edit.setEditCell(e.cell,e.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_8c3,_8c4){this.edit.cellFocus(_8c3,_8c4);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){dojo.addClass(e.cellNode,this.cellOverClass);},onHeaderCellMouseOut:function(e){dojo.removeClass(e.cellNode,this.cellOverClass);},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){dojo.stopEvent(e);},onStartEdit:function(_8d4,_8d5){},onApplyCellEdit:function(_8d6,_8d7,_8d8){},onCancelEdit:function(_8d9){},onApplyEdit:function(_8da){}};}if(!dojo._hasResource["dojox.grid.VirtualGrid"]){dojo._hasResource["dojox.grid.VirtualGrid"]=true;dojo.provide("dojox.grid.VirtualGrid");dojo.declare("dojox.VirtualGrid",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dojoxGrid\" hidefocus=\"hidefocus\"><div class=\"dojoxGrid-master-header\" dojoAttachPoint=\"headerNode\"></div><div class=\"dojoxGrid-master-view\" dojoAttachPoint=\"viewsNode\"></div><span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span></div>",classTag:"dojoxGrid",get:function(){},rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,autoHeight:false,autoRender:true,defaultHeight:"15em",structure:"",elasticView:-1,singleClickEdit:false,sortInfo:0,themeable:true,buildRendering:function(){this.inherited(arguments);if(this.get==dojox.VirtualGrid.prototype.get){this.get=null;}if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.domNode.onReveal=dojo.hitch(this,"reveal");this.domNode.onSizeChange=dojo.hitch(this,"sizeChange");this.createScroller();this.createLayout();this.createViews();this.createManagers();dojox.grid.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.keyEvents);},postCreate:function(){this.styleChanged=this._styleChanged;this.setStructure(this.structure);},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;this.edit.destroy();this.views.destroyViews();this.inherited(arguments);},styleChanged:function(){this.setStyledClass(this.domNode,"");},_styleChanged:function(){this.styleChanged();this.update();},textSizeChanged:function(){setTimeout(this,"_textSizeChanged",1);},_textSizeChanged:function(){if(this.domNode){this.views.forEach(function(v){v.content.update();});this.render();}},reveal:function(){this.render();},sizeChange:function(){dojox.grid.jobs.job(this.widgetId+"SizeChange",50,dojo.hitch(this,"update"));},createManagers:function(){this.rows=new dojox.grid.rows(this);this.focus=new dojox.grid.focus(this);this.selection=new dojox.grid.selection(this);this.edit=new dojox.grid.edit(this);},createScroller:function(){this.scroller=new dojox.grid.scroller.columns();this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new dojox.grid.layout(this);},createViews:function(){this.views=new dojox.grid.views(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_8dc){var c=eval(_8dc);var view=new c({grid:this});this.viewsNode.appendChild(view.domNode);this.headerNode.appendChild(view.headerNode);this.views.addView(view);return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||"dojox.GridView").setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},setStructure:function(_8e1){this.views.destroyViews();this.structure=_8e1;if((this.structure)&&(dojo.isString(this.structure))){this.structure=dojox.grid.getProp(this.structure);}if(!this.structure){this.structure=window["layout"];}this.layout.setStructure(this.structure);if(!this.structure){return;}this.buildViews();if(this.autoRender){this.render();}},resize:function(){var _8e2=dojo._getPadBorderExtents(this.domNode);if(this.autoHeight){this.domNode.style.height="auto";this.viewsNode.style.height="";}else{if(this.flex>0){}else{if(this.domNode.clientHeight<=_8e2.h){if(this.domNode.parentNode==document.body){this.domNode.style.height=this.defaultHeight;}else{this.fitTo="parent";}}}}if(this.fitTo=="parent"){var h=dojo._getContentBox(this.domNode.parentNode).h;dojo._setMarginBox(this.domNode,{h:Math.max(0,h)});}var t=this.views.measureHeader();this.headerNode.style.height=t+"px";var l=1,h=(this.autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);if(this.autoWidth){this.domNode.style.width=this.views.arrange(l,0,0,h)+"px";}else{var w=this.domNode.clientWidth||(this.domNode.offsetWidth-_8e2.width);this.views.arrange(l,0,w,h);}this.scroller.windowHeight=h;this.scroller.defaultRowHeight=this.rows.getDefaultHeightPx()+1;this.postresize();},resizeHeight:function(){var t=this.views.measureHeader();this.headerNode.style.height=t+"px";var h=(this.autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("resizeHeight");this.scroller.windowHeight=h;},render:function(){if(!this.domNode){console.log("Grid.render: domNode is null",this);return;}this.update=this.defaultUpdate;this.scroller.init(this.rowCount,this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.views.render();this.resize();},postrender:function(){this.postresize();this.focus.initFocusView();},postresize:function(){if(this.autoHeight){this.viewsNode.style.height=this.views.measureContent()+"px";}},renderRow:function(_8e9,_8ea){this.views.renderRow(_8e9,_8ea);},rowRemoved:function(_8eb){this.views.rowRemoved(_8eb);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=null;},defaultUpdate:function(){if(this.updating){this.invalidated.all=true;return;}this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.scrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_8ed){_8ed=Number(_8ed);if(this.updating){this.invalidated[_8ed]=true;return;}this.views.updateRow(_8ed,this.rows.getHeight(_8ed));this.scroller.rowHeightChanged(_8ed);},updateRowCount:function(_8ee){if(this.updating){this.invalidated.rowCount=_8ee;return;}this.rowCount=_8ee;this.scroller.updateRowCount(_8ee);this.setScrollTop(this.scrollTop);this.resize();},updateRowStyles:function(_8ef){this.views.updateRowStyles(_8ef);},rowHeightChanged:function(_8f0){this.views.renormalizeRow(_8f0);this.scroller.rowHeightChanged(_8f0);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_8f1){if(!this.fastScroll){this.setScrollTop(_8f1);return;}var _8f2=Math.abs(this.lastScrollTop-_8f1);this.lastScrollTop=_8f1;if(_8f2>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_8f1;this.views.setScrollTop(_8f1);dojox.grid.jobs.job("dojoxGrid-scroll",200,dojo.hitch(this,"finishScrollJob"));}else{this.setScrollTop(_8f1);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_8f3){this.scrollTop=this.views.setScrollTop(_8f3);this.scroller.scroll(this.scrollTop);},scrollToRow:function(_8f4){this.setScrollTop(this.scroller.findScrollTop(_8f4)+1);},styleRowNode:function(_8f5,_8f6){if(_8f6){this.rows.styleRowNode(_8f5,_8f6);}},canSelect:function(_8f7){return true;},canDeselect:function(_8f8){return true;},selected:function(_8f9){this.updateRowStyles(_8f9);},deselected:function(_8fa){this.updateRowStyles(_8fa);},selectionChanged:function(){},canSort:function(_8fb){},sort:function(){},getSortAsc:function(_8fc){_8fc=_8fc==undefined?this.sortInfo:_8fc;return Boolean(_8fc>0);},getSortIndex:function(_8fd){_8fd=_8fd==undefined?this.sortInfo:_8fd;return Math.abs(_8fd)-1;},setSortIndex:function(_8fe,_8ff){var si=_8fe+1;if(_8ff!=undefined){si*=(_8ff?1:-1);}else{if(this.getSortIndex()==_8fe){si=-this.sortInfo;}}this.setSortInfo(si);},getCell:function(_901){return this.layout.cells[_901];},setSortInfo:function(_902){if(this.canSort(_902)){this.sortInfo=_902;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_910,_911){this.onStartEdit(_910,_911);},doApplyCellEdit:function(_912,_913,_914){this.onApplyCellEdit(_912,_913,_914);},doCancelEdit:function(_915){this.onCancelEdit(_915);},doApplyEdit:function(_916){this.onApplyEdit(_916);},addRow:function(){this.updateRowCount(this.rowCount+1);},removeSelectedRows:function(){this.updateRowCount(Math.max(0,this.rowCount-this.selection.getSelected().length));this.selection.clear();}});dojo.mixin(dojox.VirtualGrid.prototype,dojox.grid.publicEvents);}if(!dojo._hasResource["dojox.grid._data.fields"]){dojo._hasResource["dojox.grid._data.fields"]=true;dojo.provide("dojox.grid._data.fields");dojo.declare("dojox.grid.data.mixer",null,{constructor:function(){this.defaultValue={};this.values=[];},count:function(){return this.values.length;},clear:function(){this.values=[];},build:function(_917){var _918=dojo.mixin({owner:this},this.defaultValue);_918.key=_917;this.values[_917]=_918;return _918;},getDefault:function(){return this.defaultValue;},setDefault:function(_919){for(var i=0,a;(a=arguments[i]);i++){dojo.mixin(this.defaultValue,a);}},get:function(_91c){return (this.values[_91c]||this.build(_91c));},_set:function(_91d,_91e){var v=this.get(_91d);for(var i=1;i<arguments.length;i++){dojo.mixin(v,arguments[i]);}this.values[_91d]=v;},set:function(){if(arguments.length<1){return;}var a=arguments[0];if(!dojo.isArray(a)){this._set.apply(this,arguments);}else{if(a.length&&a[0]["default"]){this.setDefault(a.shift());}for(var i=0,l=a.length;i<l;i++){this._set(i,a[i]);}}},insert:function(_924,_925){if(_924>=this.values.length){this.values[_924]=_925;}else{this.values.splice(_924,0,_925);}},remove:function(_926){this.values.splice(_926,1);},swap:function(_927,_928){dojox.grid.arraySwap(this.values,_927,_928);},move:function(_929,_92a){dojox.grid.arrayMove(this.values,_929,_92a);}});dojox.grid.data.compare=function(a,b){return (a>b?1:(a==b?0:-1));};dojox.grid.data.generateComparator=function(_92d,_92e,_92f){return function(a,b){var c=Math.abs(_92e)-1;var ineq=_92d(a[c],b[c]);return ineq?(_92e>0?ineq:-ineq):_92f&&_92f(a,b);};};dojo.declare("dojox.grid.data.field",null,{constructor:function(_934){this.name=_934;this.compare=dojox.grid.data.compare;},na:"..."});dojo.declare("dojox.grid.data.fields",dojox.grid.data.mixer,{constructor:function(_935){var _936=_935?_935:dojox.grid.data.field;this.defaultValue=new _936();}});}if(!dojo._hasResource["dojox.grid._data.model"]){dojo._hasResource["dojox.grid._data.model"]=true;dojo.provide("dojox.grid._data.model");dojo.require("dojox.grid._data.fields");dojo.declare("dojox.grid.data.model",null,{constructor:function(_937,_938){this.observers=[];this.fields=new dojox.grid.data.fields();if(_937){this.fields.set(_937);}this.setData(_938);},count:0,updating:0,observer:function(_939,_93a){this.observers.push({o:_939,p:_93a||"model"});},unobserver:function(_93b){for(var i=0,m,o;(o=this.observers[i]);i++){if(o.o==_93b){this.observers.splice(i,1);return;}}},notify:function(_93f,_940){if(!this.isUpdating()){var a=_940||[];for(var i=0,m,o;(o=this.observers[i]);i++){m=o.p+_93f,o=o.o;(m in o)&&(o[m].apply(o,a));}}},clear:function(){this.fields.clear();this.clearData();},beginUpdate:function(){this.updating++;},endUpdate:function(){if(this.updating){this.updating--;}},isUpdating:function(){return Boolean(this.updating);},clearData:function(){this.setData(null);},change:function(){this.notify("Change",arguments);},insertion:function(){this.notify("Insertion",arguments);this.notify("Change",arguments);},removal:function(){this.notify("Removal",arguments);this.notify("Change",arguments);},insert:function(_945){if(!this._insert.apply(this,arguments)){return false;}this.insertion.apply(this,dojo._toArray(arguments,1));return true;},remove:function(_946){if(!this._remove.apply(this,arguments)){return false;}this.removal.apply(this,arguments);return true;},canSort:function(){return this.sort!=null;},sort:null,dummy:0});dojo.declare("dojox.grid.data.table",dojox.grid.data.model,{constructor:function(){this.cache=[];},colCount:0,data:null,cache:null,allChange:function(){this.notify("AllChange",arguments);this.notify("Change",arguments);},rowChange:function(){this.notify("RowChange",arguments);},datumChange:function(){this.notify("DatumChange",arguments);},measure:function(){this.count=this.getRowCount();this.colCount=this.getColCount();this.allChange();},getRowCount:function(){return (this.data?this.data.length:0);},getColCount:function(){return (this.data&&this.data.length?this.data[0].length:this.fields.count());},badIndex:function(_947,_948){console.debug("dojox.grid.data.table: badIndex");},isGoodIndex:function(_949,_94a){return (_949>=0&&_949<this.count&&(arguments.length<2||(_94a>=0&&_94a<this.colCount)));},getRow:function(_94b){return this.data[_94b];},getDatum:function(_94c,_94d){return this.data[_94c][_94d];},get:function(){throw ("Plain \"get\" no longer supported. Use \"getRow\" or \"getDatum\".");},setData:function(_94e){this.data=(_94e||[]);this.allChange();},setRow:function(_94f,_950){this.data[_950]=_94f;this.rowChange(_94f,_950);this.change();},setDatum:function(_951,_952,_953){this.data[_952][_953]=_951;this.datumChange(_951,_952,_953);},set:function(){throw ("Plain \"set\" no longer supported. Use \"setData\", \"setRow\", or \"setDatum\".");},setRows:function(_954,_955){for(var i=0,l=_954.length,r=_955;i<l;i++,r++){this.setRow(_954[i],r);}},beginModifyRow:function(_959){if(!this.cache[_959]){this.cache[_959]=this.getRow(_959).slice(0);}},endModifyRow:function(_95a){var _95b=this.cache[_95a];if(_95b){var data=this.getRow(_95a);if(!dojox.grid.arrayCompare(_95b,data)){this.update(_95b,data,_95a);}delete this.cache[_95a];}},cancelModifyRow:function(_95d){var _95e=this.cache[_95d];if(_95e){this.setRow(_95e,_95d);delete this.cache[_95d];}},update:function(_95f,_960,_961){return true;},_insert:function(_962,_963){dojox.grid.arrayInsert(this.data,_963,_962);this.count++;return true;},_remove:function(_964){for(var i=_964.length-1;i>=0;i--){dojox.grid.arrayRemove(this.data,_964[i]);}this.count-=_964.length;return true;},makeComparator:function(_966){var _967=null;for(var i=_966.length-1,col;i>=0;i--){col=Math.abs(_966[i])-1;if(col>=0){_967=dojox.grid.data.generateComparator(this.fields.get(col).compare,_966[i],_967);}}return _967;},sort:function(){this.data.sort(this.makeComparator(arguments));},swap:function(_96a,_96b){dojox.grid.arraySwap(this.data,_96a,_96b);this.rowChange(this.getRow(_96a),_96a);this.rowChange(this.getRow(_96b),_96b);this.change();},dummy:0});dojo.declare("dojox.grid.data.dynamic",dojox.grid.data.table,{constructor:function(){this.page=[];this.pages=[];},page:null,pages:null,rowsPerPage:100,requests:0,bop:-1,eop:-1,clearData:function(){this.pages=[];this.bop=this.eop=-1;this.setData([]);},getRowCount:function(){return this.count;},getColCount:function(){return this.fields.count();},setRowCount:function(_96c){this.count=_96c;this.change();},requestsPending:function(_96d){},rowToPage:function(_96e){return (this.rowsPerPage?Math.floor(_96e/this.rowsPerPage):_96e);},pageToRow:function(_96f){return (this.rowsPerPage?this.rowsPerPage*_96f:_96f);},requestRows:function(_970,_971){},rowsProvided:function(_972,_973){this.requests--;if(this.requests==0){this.requestsPending(false);}},requestPage:function(_974){var row=this.pageToRow(_974);var _976=Math.min(this.rowsPerPage,this.count-row);if(_976>0){this.requests++;this.requestsPending(true);setTimeout(dojo.hitch(this,"requestRows",row,_976),1);}},needPage:function(_977){if(!this.pages[_977]){this.pages[_977]=true;this.requestPage(_977);}},preparePage:function(_978,_979){if(_978<this.bop||_978>=this.eop){var _97a=this.rowToPage(_978);this.needPage(_97a);this.bop=_97a*this.rowsPerPage;this.eop=this.bop+(this.rowsPerPage||this.count);}},isRowLoaded:function(_97b){return Boolean(this.data[_97b]);},removePages:function(_97c){for(var i=0,r;((r=_97c[i])!=undefined);i++){this.pages[this.rowToPage(r)]=false;}this.bop=this.eop=-1;},remove:function(_97f){this.removePages(_97f);dojox.grid.data.table.prototype.remove.apply(this,arguments);},getRow:function(_980){var row=this.data[_980];if(!row){this.preparePage(_980);}return row;},getDatum:function(_982,_983){var row=this.getRow(_982);return (row?row[_983]:this.fields.get(_983).na);},setDatum:function(_985,_986,_987){var row=this.getRow(_986);if(row){row[_987]=_985;this.datumChange(_985,_986,_987);}else{console.debug("["+this.declaredClass+"] dojox.grid.data.dynamic.set: cannot set data on an non-loaded row");}},canSort:function(){return false;}});}if(!dojo._hasResource["dojox.grid._data.editors"]){dojo._hasResource["dojox.grid._data.editors"]=true;dojo.provide("dojox.grid._data.editors");dojo.declare("dojox.grid.editors.base",null,{constructor:function(_989){this.cell=_989;},_valueProp:"value",_formatPending:false,format:function(_98a,_98b){},needFormatNode:function(_98c,_98d){this._formatPending=true;dojox.grid.whenIdle(this,"_formatNode",_98c,_98d);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_98e,_98f){if(this._formatPending){this._formatPending=false;this.formatNode(this.getNode(_98f),_98e,_98f);}},getNode:function(_990){return (this.cell.getNode(_990)||0).firstChild||0;},formatNode:function(_991,_992,_993){if(dojo.isIE){dojox.grid.whenIdle(this,"focus",_993,_991);}else{this.focus(_993,_991);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_996){return this.getNode(_996)[this._valueProp];},setValue:function(_997,_998){var n=this.getNode(_997);if(n){n[this._valueProp]=_998;}},focus:function(_99a,_99b){dojox.grid.focusSelectNode(_99b||this.getNode(_99a));},save:function(_99c){this.value=this.value||this.getValue(_99c);},restore:function(_99d){this.setValue(_99d,this.value);},_finish:function(_99e){this.cancelFormatNode(this.cell);},apply:function(_99f){this.cell.applyEdit(this.getValue(_99f),_99f);this._finish(_99f);},cancel:function(_9a0){this.cell.cancelEdit(_9a0);this._finish(_9a0);}});dojo.declare("dojox.grid.editors.input",dojox.grid.editors.base,{constructor:function(_9a1){this.keyFilter=this.keyFilter||this.cell.keyFilter;},keyFilter:null,format:function(_9a2,_9a3){this.needFormatNode(_9a2,_9a3);return "<input type=\"text\" value=\""+_9a2+"\">";},formatNode:function(_9a4,_9a5,_9a6){this.inherited(arguments);this.cell.registerOnBlur(_9a4,_9a6);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}}});dojo.declare("dojox.grid.editors.select",dojox.grid.editors.input,{constructor:function(_9a9){this.options=this.options||this.cell.options;this.values=this.values||this.cell.values||this.options;},format:function(_9aa,_9ab){this.needFormatNode(_9aa,_9ab);var h=["<select style=\"width:100%;\">"];for(var i=0,o,v;(o=this.options[i])&&(v=this.values[i]);i++){h.push("<option",(_9aa==o?" selected":""),">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_9b0){var n=this.getNode(_9b0);if(n){var i=n.selectedIndex,o=n.options[i];return this.cell.returnIndex?i:o.value||o.innerHTML;}}});dojo.declare("dojox.grid.editors.static",dojox.grid.editors.input,{"static":true,_formatNode:function(_9b4,_9b5){this.formatNode(this.getNode(_9b5),_9b4,_9b5);},applyStaticValue:function(_9b6){var e=this.cell.grid.edit;e.applyCellEdit(this.getValue(_9b6),this.cell,_9b6);e.start(this.cell,_9b6,true);}});dojo.declare("dojox.grid.editors.bool",dojox.grid.editors["static"],{_valueProp:"checked",format:function(_9b8,_9b9){return "<input type=\"checkbox\""+(_9b8?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});}if(!dojo._hasResource["dojox.grid.Grid"]){dojo._hasResource["dojox.grid.Grid"]=true;dojo.provide("dojox.grid.Grid");dojo.declare("dojox.Grid",dojox.VirtualGrid,{model:null,postCreate:function(){if(this.model){if(typeof this.model=="string"){var m=dojo.getObject(this.model);this.model=(typeof m=="function")?new m():m;}this._setModel(this.model);}this.inherited(arguments);},_setModel:function(_9bc){this.model=_9bc;this.model.observer(this);this.measureModel();},destroy:function(){this.model.unobserver(this);},setModel:function(_9bd){this.model.unobserver(this);this._setModel(_9bd);},measureModel:function(){if(this.model){this.model.measure();}},get:function(_9be){return this.grid.model.getDatum(_9be,this.fieldIndex);},modelAllChange:function(){this.rowCount=(this.model?this.model.getRowCount():0);this.updateRowCount(this.rowCount);},modelRowChange:function(_9bf,_9c0){this.updateRow(_9c0);},modelDatumChange:function(_9c1,_9c2,_9c3){this.updateRow(_9c2);},modelInsertion:function(_9c4){this.updateRowCount(this.model.getRowCount());},modelRemoval:function(_9c5){this.updateRowCount(this.model.getRowCount());},refresh:function(){this.edit.cancel();this.model.measure();},canSort:function(_9c6){var f=this.getSortField(_9c6);return f&&this.model.canSort(f);},getSortField:function(_9c8){var c=this.getCell(this.getSortIndex(_9c8));return (c.fieldIndex+1)*(this.sortInfo>0?1:-1);},sort:function(){this.edit.apply();this.model.sort(this.getSortField());},addRow:function(_9ca,_9cb){this.edit.apply();var i=_9cb||-1;if(i<0){i=this.selection.getFirstSelected()||0;}if(i<0){i=0;}this.model.insert(_9ca,i);this.model.beginModifyRow(i);for(var j=0,c;((c=this.getCell(j))&&!c.editor);j++){}if(c&&c.editor){this.edit.setEditCell(c,i);}},removeSelectedRows:function(){this.edit.apply();var s=this.selection.getSelected();if(s.length){this.model.remove(s);this.selection.clear();}},canEdit:function(_9d0,_9d1){return (this.model.canModify?this.model.canModify(_9d1):true);},doStartEdit:function(_9d2,_9d3){var edit=this.canEdit(_9d2,_9d3);if(edit){this.model.beginModifyRow(_9d3);this.onStartEdit(_9d2,_9d3);}return edit;},doApplyCellEdit:function(_9d5,_9d6,_9d7){this.model.setDatum(_9d5,_9d6,_9d7);this.onApplyCellEdit(_9d5,_9d6,_9d7);},doCancelEdit:function(_9d8){this.model.cancelModifyRow(_9d8);this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_9d9){this.model.endModifyRow(_9d9);this.onApplyEdit(_9d9);},styleRowState:function(_9da){if(this.model.getState){var _9db=this.model.getState(_9da.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_9db[s]){c=" dojoxGrid-row-"+s;break;}}_9da.customClasses+=c;}},onStyleRow:function(_9e0){this.styleRowState(_9e0);this.inherited(arguments);},junk:0});}dojo.i18n._preloadLocalizations("dojo.nls.commonWidgets",["es-es","es","hu","it-it","de","pt-br","pl","fr-fr","zh-cn","pt","en-us","zh","ru","xx","fr","zh-tw","it","cs","en-gb","de-de","ja-jp","ko-kr","ko","en","ROOT","ja"]);
