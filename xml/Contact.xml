<?xml version="1.0" encoding="iso-8859-1" ?>

<table>
  <name>crm_contact</name>
  <comment>Three types of contacts are defined: Individual, Organization and Household. Contact objects are defined by a crm_contact record plus a related crm_contact_type record.</comment>
  <field>
      <name>id</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Unique Contact ID</comment>
  </field>
  <primaryKey>
       <name>id</name>
       <autoincrement>true</autoincrement>
  </primaryKey>
  <field>
      <name>domain_id</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Which Domain owns this contact</comment>
  </field>
  <foreignKey>
       <name>domain_id</name>
       <table>crm_domain</table>
       <key>id</key>
  </foreignKey>
  <field>
       <name>contact_type</name>
       <type>enum</type>
       <values>Individual, Organization, Household</values>
       <comment>Type of Contact.</comment>
  </field>
  <field>
       <name>legal_id</name>
       <type>varchar</type>
       <length>32</length>
       <comment>May be used for SSN, EIN/TIN, Household ID (census) or other applicable unique legal/government ID.</comment>
  </field>
  <field>
       <name>external_id</name>
       <type>varchar</type>
       <length>32</length>
       <comment>Unique trusted external ID (generally from a legacy app/datasource). Particularly useful for deduping operations.</comment>
  </field>
  <field>
       <name>sort_name</name>
       <type>varchar</type>
       <length>64</length>
       <comment>Name used for sorting different contact types</comment>
  </field>
  <index>
       <name>index_sort_name</name>
       <fieldName>sort_name</fieldName>
  </index>
  <field>
       <name>home_URL</name>
       <type>varchar</type>
       <length>128</length>
       <comment>optional "home page" URL for this contact.</comment>
  </field>
  <field>
       <name>image_URL</name>
       <type>varchar</type>
       <length>128</length>
       <comment>optional URL for preferred image (photo, logo, etc.) to display for this contact.</comment>
  </field>
  <field>
       <name>source</name>
       <type>varchar</type>
       <length>255</length>
       <comment>where domain_id contact come from, e.g. import, donate module insert...</comment>
  </field>
  <field>
       <name>preferred_communication_method</name>
       <type>enum</type>
       <values>Phone, Email, Post</values>
       <comment>What is the preferred mode of communication.</comment>
  </field>
  <field>
       <name>do_not_phone</name>
       <type>boolean</type>
       <default>false</default>
  </field>
  <field>
       <name>do_not_email</name>
       <type>boolean</type>
       <default>false</default>
  </field>
  <field>
       <name>do_not_mail</name>
       <type>boolean</type>
       <default>false</default>
  </field>
  <field>
      <name>hash</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Key for validating requests related to this contact.</comment>
  </field>
</table>
