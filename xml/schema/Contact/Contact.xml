<?xml version="1.0" encoding="iso-8859-1" ?>

<table>
  <base>CRM/Contact</base>
  <class>Contact</class>
  <name>civicrm_contact</name>
  <comment>Three types of contacts are defined: Individual, Organization and Household. Contact objects are defined by a civicrm_contact record plus a related civicrm_contact_type record.</comment>
  <field>
      <name>id</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Unique Contact ID</comment>
  </field>
  <primaryKey>
       <name>id</name>
       <autoincrement>true</autoincrement>
  </primaryKey>
  <field>
      <name>domain_id</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Which Domain owns this contact</comment>
  </field>
  <foreignKey>
       <name>domain_id</name>
       <table>civicrm_domain</table>
       <key>id</key>
  </foreignKey>
  <field>
       <name>contact_type</name>
       <type>enum</type>
       <values>Individual, Organization, Household</values>
       <comment>Type of Contact.</comment>
  </field>
  <field>
       <name>legal_identifier</name>
       <type>varchar</type>
       <length>32</length>
       <import>true</import>
       <headerPattern>/legal\s?id/i</headerPattern>
       <dataPattern>/\w+?\d{5,}/</dataPattern>
       <comment>May be used for SSN, EIN/TIN, Household ID (census) or other applicable unique legal/government ID.</comment>
  </field>
  <field>
       <name>external_identifier</name>
       <type>varchar</type>
       <length>32</length>
       <import>true</import>
       <headerPattern>/external\s?id/i</headerPattern>
       <dataPattern>/^\d{11,}$/</dataPattern>
       <comment>Unique trusted external ID (generally from a legacy app/datasource). Particularly useful for deduping operations.</comment>
  </field>
  <field>
       <name>sort_name</name>
       <type>varchar</type>
       <length>64</length>
       <comment>Name used for sorting different contact types</comment>
  </field>
  <index>
       <name>index_sort_name</name>
       <fieldName>sort_name</fieldName>
  </index>
  <field>
       <name>display_name</name>
       <type>varchar</type>
       <length>128</length>
       <comment>Formatted name representing preferred format for display/print/other output.</comment>
  </field>
  <field>
       <name>nick_name</name>
       <type>varchar</type>
       <length>64</length>
       <import>true</import>
       <headerPattern>/^nick|(n(ick\s)?name)$/i</headerPattern>
       <dataPattern>/^\w+$/</dataPattern>
       <comment>Nick Name.</comment>
       <fulltext/>
  </field>
  <field>
       <name>home_URL</name>
       <type>varchar</type>
       <length>128</length>
       <comment>optional "home page" URL for this contact.</comment>
  </field>
  <field>
       <name>image_URL</name>
       <type>varchar</type>
       <length>128</length>
       <comment>optional URL for preferred image (photo, logo, etc.) to display for this contact.</comment>
  </field>
  <field>
       <name>source</name>
       <type>varchar</type>
       <length>255</length>
       <comment>where domain_id contact come from, e.g. import, donate module insert...</comment>
  </field>
  <field>
       <name>preferred_communication_method</name>
       <type>enum</type>
       <values>Phone, Email, Post</values>
       <comment>What is the preferred mode of communication.</comment>
  </field>
  <field>
       <name>preferred_mail_format</name>
       <type>enum</type>
       <values>Text, HTML, Both</values>
       <default>"Text"</default>
       <comment>What is the preferred mode of sending an email.</comment>
  </field>
  <field>
       <name>do_not_phone</name>
       <type>boolean</type>
       <default>0</default>
  </field>
  <field>
       <name>do_not_email</name>
       <type>boolean</type>
       <default>0</default>
  </field>
  <field>
       <name>do_not_mail</name>
       <type>boolean</type>
       <default>0</default>
  </field>
  <field>
       <name>do_not_trade</name>
       <type>boolean</type>
       <default>0</default>
  </field>
  <field>
      <name>hash</name>
      <type>int unsigned</type>
      <required>true</required>
      <comment>Key for validating requests related to this contact.</comment>
  </field>
  <field>
    <name>is_opt_out</name>
    <type>boolean</type>
    <default>0</default>
    <required>true</required>
    <comment>Has the contact opted out from the org?</comment>
  </field>
</table>
